
> stylex-monorepo@0.0.0 flow
> flow

Launching Flow server for /app
Spawned flow server (pid=30)
Logs will go to /tmp/flow/zSapp.log
Monitor logs will go to /tmp/flow/zSapp.monitor_log
Started a new flow server: -Please wait. Server is starting up Flow server
Please wait. Server is initializing (parsed files 0)
Please wait. Server is initializing (parsed files 18000)
Please wait. Server is initializing (parsed files 30335)
Please wait. Server is initializing (parsed files 30335)
Please wait. Server is initializing (loading libraries)
Please wait. Server is initializing (resolving dependencies)
Please wait. Server is initializing (indexing files 0/306 (0.0%))
Please wait. Server is initializing (indexing files (post-process))
Please wait. Server is initializing (post-Indexing work)
Please wait. Server is initializing (parsed files 0/0 (0.0%))
Please wait. Server is initializing (calculating dependencies)
Please wait. Server is initializing (merged module interfaces 0/253 (0.0%))
Please wait. Server is initializing (checked files 3/228 (1.3%))
Please wait. Server is initializing (checked files 189/228 (82.9%))
Please wait. Server is initializing (checked files 208/228 (91.2%))
Please wait. Server is initializing (checked files 217/228 (95.2%))
Please wait. Server is initializing (checked files 220/228 (96.5%))
Please wait. Server is initializing (checked files 220/228 (96.5%))
Please wait. Server is initializing (checked files 223/228 (97.8%))
Please wait. Server is initializing (checked files 223/228 (97.8%))
Please wait. Server is initializing (checked files 223/228 (97.8%))
Please wait. Server is initializing (checked files 223/228 (97.8%))
Please wait. Server is initializing (checked files 223/228 (97.8%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (checked files 226/228 (99.1%))
Please wait. Server is initializing (collating errors)
No errors!

> stylex-monorepo@0.0.0 test:packages
> npm run test --workspaces --if-present


> style-value-parser@0.16.1 test
> jest --coverage

PASS src/css-types/__tests__/alpha-value-test.js
  Test CSS Type: <alpha-value>
    Number Fractions
      ✓ 0.5 (11 ms)
      ✓ .5 (1 ms)
      ✓ 0.25 (1 ms)
      ✓ .25 (1 ms)
      ✓ 0.75 (1 ms)
      ✓ .75
      ✓ 1 (1 ms)
      ✓ parses decimal alpha values (2 ms)
    Percentages
      ✓ 50%
      ✓ 25%
      ✓ 75% (1 ms)
      ✓ 75.5%
      ✓ 0.25%
      ✓ .25% (1 ms)
      ✓ parses percentage alpha values (1 ms)
    Rejects
      ✓ rejects invalid alpha values (87 ms)

PASS src/css-types/__tests__/length-test.js
  Test CSS Type: <length>
    ✓ parses font-based units (14 ms)
    ✓ parses viewport-based units (3 ms)
    ✓ parses container-based units (2 ms)
    ✓ parses absolute units (2 ms)
    ✓ rejects invalid units (95 ms)

PASS src/css-types/__tests__/angle-test.js
  Test CSS Type: <angle>
    ✓ parses CSS angle types strings correctly (14 ms)
    Rejects
      ✓ rejects invalid angle values (86 ms)

PASS src/css-types/__tests__/blend-mode-test.js
  Test CSS Type: <blend-mode>
    ✓ parses valid blend mode values (14 ms)
    ✓ rejects invalid blend mode values (94 ms)

PASS src/css-types/__tests__/resolution-test.js
  Test CSS Type: <resolution>
    ✓ parses dpi values (10 ms)
    ✓ parses dpcm values (1 ms)
    ✓ parses dppx values
    ✓ rejects invalid resolution values (102 ms)

PASS src/css-types/__tests__/frequency-test.js
  Frequency.parse
    ✓ parses valid CSS frequency types strings correctly (14 ms)
    ✓ fails to parse invalid CSS frequency types strings (121 ms)

PASS src/css-types/__tests__/flex-test.js
  Flex.parse
    ✓ parses valid `fr` values (12 ms)
    ✓ rejects invalid `fr` values (91 ms)

PASS src/css-types/__tests__/dashed-ident-test.js
  Test CSS Type: <dashed-ident>
    ✓ parses valid dashed identifiers (12 ms)
    ✓ rejects invalid dashed identifiers (94 ms)

PASS src/css-types/__tests__/time-test.js
  Time.parse
    ✓ parses valid CSS <time> types strings correctly (11 ms)
    ✓ fails to parse invalid CSS <time> types strings (91 ms)

PASS src/css-types/__tests__/custom-ident-test.js
  Test CSS Type: <custom-ident>
    ✓ parses valid custom identifiers (12 ms)
    ✓ rejects reserved keywords (112 ms)
    ✓ rejects invalid identifiers (3 ms)

PASS src/css-types/__tests__/calc-constant.js
  calcConstant
    ✓ should parse valid calc constants (12 ms)
    ✓ should not parse invalid calc constants (72 ms)

PASS src/css-types/__tests__/length-percentage-test.js
  Test CSS Type: <length-percentage>
    ✓ parses length values (13 ms)
    ✓ parses percentage values (2 ms)
    ✓ rejects invalid length-percentage values (105 ms)

PASS src/css-types/__tests__/angle-percentage-test.js
  Test CSS Type: <angle-percentage>
    ✓ parses angle values (13 ms)
    ✓ parses percentage values (3 ms)
    ✓ rejects invalid angle-percentage values (88 ms)

PASS src/properties/__tests__/transform.js
  Test CSS property: `transform`
    single functions
      ✓ matrix (14 ms)
      ✓ matrix3d (2 ms)
      ✓ perspective (2 ms)
      ✓ rotate (1 ms)
      ✓ rotate3d (2 ms)
      ✓ rotateX (1 ms)
      ✓ rotateY (2 ms)
      ✓ rotateZ (1 ms)
    multiple functions
      ✓ perspective + matrix3d (3 ms)
      ✓ scale + rotate (2 ms)
      ✓ scale3d + rotate3d (2 ms)
      ✓ scale + rotate + translate + skew (4 ms)

PASS src/css-types/__tests__/position-test.js
  Test CSS Type: <position>
    ✓ parses single keywords (20 ms)
    ✓ parses keyword combinations (4 ms)
    ✓ parses keyword with length-percentage (4 ms)
    ✓ parses length-percentage combinations (2 ms)
    ✓ parses keyword with offset (2 ms)
    ✓ rejects invalid positions (84 ms)

PASS src/__tests__/token-parser-test.js
  TokenParser
    oneOf
      ✓ parses the first parser (9 ms)
      ✓ fails to parse a different string (1 ms)
    sequence
      ✓ parses a sequence (1 ms)
      ✓ parses a sequence separated by whitespace (2 ms)
      ✓ makes separators optional for optional parsers (1 ms)
      ✓ parses a sequence separated commas and optional whitespace
    set
      ✓ parses a set (2 ms)
      ✓ parses a set with double separators (2 ms)
      ✓ makes separators optional for optional parsers (3 ms)
    oneOrMore
      ✓ parses one or more (2 ms)
      ✓ fails to parse a different string
    zeroOrMore
      ✓ parses zero or more (2 ms)

PASS src/css-types/__tests__/easing-function-test.js
  <easing-function>
    ✓ parses valid CSS <easing-function> types strings correctly (30 ms)
    ✓ fails to parse invalid CSS <easing-function> types strings (75 ms)

PASS src/properties/__tests__/border-radius.test.js
  Test CSS property: `border-<dir>-<dir>-radius`
    ✓ Valid: border-<dir>-<dir>-radius: <length-percentage> (15 ms)
    ✓ Valid: border-<dir>-<dir>-radius: <length-percentage> <length-percentage> (4 ms)
    ✓ Invalid: border-<dir>-<dir>-radius (78 ms)
  Test CSS property shorthand: `border-radius`
    ✓ Valid: border-radius: <length-percentage> (4 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> (3 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> <length-percentage> (3 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> <length-percentage> <length-percentage> (3 ms)
    ✓ Valid: border-radius: <percentage>... (4 ms)
    ✓ Valid: border-radius: <length-percentage> / <length-percentage> (4 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> / <length-percentage> <length-percentage> (4 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> <length-percentage> / <length-percentage> <length-percentage> <length-percentage> (3 ms)

PASS src/css-types/__tests__/calc-test.js
  Test CSS Type: calc()
    ✓ parses simple numeric values (11 ms)
    ✓ parses percentage values (2 ms)
    ✓ parses dimension values (3 ms)
    ✓ parses addition operations (3 ms)
    ✓ parses subtraction operations (2 ms)
    ✓ parses multiplication operations (2 ms)
    ✓ parses division operations (5 ms)
    ✓ parses nested operations with parentheses (4 ms)
    ✓ parses complex expressions with multiple operations (2 ms)
    ✓ handles whitespace correctly (5 ms)
    ✓ rejects invalid calc expressions (70 ms)
    ✓ toString round‑trips calc expressions (13 ms)
    ○ skipped rejects invalid calc spacing

PASS src/css-types/__tests__/basic-shape.js
  Basic Shapes
    Inset
      ✓ should parse valid insets (13 ms)
      ✓ should not parse invalid insets (61 ms)
    Circle
      ✓ should parse valid circles (5 ms)
      ✓ should not parse invalid circles (2 ms)
    Ellipse
      ✓ should parse valid ellipses (3 ms)
      ✓ should not parse invalid ellipses (2 ms)
    Polygon
      ✓ should parse valid polygons (3 ms)
      ✓ should not parse invalid polygons (10 ms)
    Path
      ✓ should parse valid paths (2 ms)
      ✓ should not parse invalid paths (1 ms)

PASS src/css-types/__tests__/color-test.js
  Test CSS Type: <color>
    ✓ parses named colors (10 ms)
    ✓ parses hash colors (9 ms)
    ✓ parses RGB values (4 ms)
    ✓ parses space-separated RGB values (3 ms)
    ✓ parses RGBA values (3 ms)
    ✓ parses space-separated RGBA values (6 ms)
    ✓ parses lch values (1 ms)
    ✓ rejects invalid colors (68 ms)

PASS src/css-types/__tests__/transform-function-test.js
  Test CSS Type: <transform-function>
    Test <matrix> function
      ✓ valid uses (23 ms)
      ✓ invalid uses (105 ms)
    Test <matrix3d> function
      ✓ valid uses (4 ms)
      ✓ invalid uses (11 ms)
    Test <perspective> function
      ✓ valid uses (3 ms)
      ✓ invalid uses (8 ms)
    Test <rotate> function
      ✓ valid uses (15 ms)
      ✓ invalid uses (7 ms)
    Test <rotate3d> function
      ✓ valid uses (4 ms)
      ✓ invalid uses (10 ms)
    Test <rotate-axis> function
      ✓ valid uses (3 ms)
      ✓ invalid uses (7 ms)
    Test <scale> function
      ✓ valid uses (5 ms)
      ✓ invalid uses (18 ms)
    Test <scale3d> function
      ✓ valid uses (3 ms)
      ✓ invalid uses (9 ms)
    Test <scale-axis> function
      ✓ valid uses (5 ms)
      ✓ invalid uses (5 ms)
    Test <skew> function
      ✓ valid uses (6 ms)
      ✓ invalid uses (10 ms)
    Test <skew-axis> function
      ✓ valid uses (4 ms)
      ✓ invalid uses (14 ms)
    Test <translate> function
      ✓ valid uses (9 ms)
      ✓ invalid uses (13 ms)
    Test <translate3d> function
      ✓ valid uses (2 ms)
      ✓ invalid uses (9 ms)
    Test <translateX> function
      ✓ valid uses (5 ms)
      ✓ invalid uses (12 ms)
    Test <translateY> function
      ✓ valid uses (5 ms)
      ✓ invalid uses (7 ms)

PASS src/properties/__tests__/box-shadow.test.js
  Test CSS property: `box-shadow`
    BoxShadow
      ✓ Valid: box-shadow with required parameters (offsetX, offsetY, color) (11 ms)
      ✓ Valid: box-shadow with blur radius (offsetX, offsetY, blurRadius, color) (1 ms)
      ✓ Valid: box-shadow with blur and spread radius (offsetX, offsetY, blurRadius, spreadRadius, color) (2 ms)
      ✓ Valid: box-shadow with inset keyword (1 ms)
      ✓ Valid: box-shadow with inset keyword and blur/spread radius (1 ms)
      ✓ Valid: box-shadow with different length units (7 ms)
      ✓ Valid: box-shadow with rgba color (2 ms)
      ✓ Valid: box-shadow with hsla color (4 ms)
    BoxShadowList
      ✓ Valid: single box-shadow (2 ms)
      ✓ Valid: multiple box-shadows (3 ms)
      ✓ Valid: box-shadows with whitespace around commas (2 ms)
    Invalid cases
      ✓ Invalid: missing required parameters (63 ms)
      ✓ Invalid: incorrect order of parameters (2 ms)
      ✓ Invalid: malformed values (6 ms)

PASS src/at-queries/__tests__/validation-media-query-test.js
  style-value-parser/at-queries
    [validation] media queries
      MediaQuery parser with simplified errors
        ✓ throws SYNTAX_ERROR for empty or incomplete conditions (166 ms)
        ✓ throws SYNTAX_ERROR for malformed expressions or invalid operators (106 ms)
        ✓ throws SYNTAX_ERROR for invalid or missing colon or value (47 ms)
        ✓ throws SYNTAX_ERROR for invalid var() usage (39 ms)
        ✓ throws SYNTAX_ERROR for invalid symbols or tokens (13 ms)
        ✓ throws SYNTAX_ERROR for misused logical operators (50 ms)
        ✓ throws UNBALANCED_PARENS for unmatched parentheses (4 ms)

PASS src/at-queries/__tests__/media-query-transform-test.js
  Media Query Transformer
    ✓ basic usage: multiple widths (76 ms)
    ✓ basic usage: nested query (77 ms)
    ✓ basic usage: nested query (86 ms)
    ✓ basic usage: complex object (61 ms)
    ✓ basic usage: lots and lots of max-widths (70 ms)
    ✓ basic usage: lots and lots of min-widths (50 ms)
    ✓ basic usage: multiple heights (55 ms)
    ✓ basic usage: min/max heights (55 ms)
    ✓ single word condition (31 ms)
    ✓ handles comma-separated (or) media queries (34 ms)
    ✓ basic usage: does not modify single queries (11 ms)
    ✓ ignores legacy media query syntax
    ✓ mixed min/max width and height (54 ms)
    ✓ mixed min/max width and height with only height changing (56 ms)
    ✓ mixed min/max width with disjoint ranges (31 ms)
    ✓ mixed min/max width with many disjoint ranges (63 ms)
    ✓ mixed min/max width with overlapping ranges (30 ms)
    ✓ mixed min/max width with mixed ranges (52 ms)
    ✓ mixed min/max width with intersecting ranges (30 ms)
    ✓ mixed min/max width with many intersecting ranges (50 ms)
    ✓ media queries with em units (38 ms)
    ✓ media queries with mixed units (33 ms)
    ✓ skips range simplification for media queries with conflicting units in same dimension across queries (33 ms)
    ✓ skips range simplification for media queries with conflicting units in same dimension and query (33 ms)
    ○ skipped handles and media queries
    ○ skipped combination of keywords and rules

PASS src/at-queries/__tests__/parse-media-query-test.js
  style-value-parser/at-queries
    [parse] media queries
      keywords
        ✓ @media screen (10 ms)
        ✓ @media print (2 ms)
        ✓ @media all (1 ms)
        ✓ @media only screen (2 ms)
        ✓ @media only print and (color) (6 ms)
        ✓ @media not screen (2 ms)
        ✓ @media not all and (monochrome) (6 ms)
      pair rule
        ✓ @media (width: 100px) (16 ms)
        ✓ @media (max-width: 50em) (9 ms)
        ✓ @media (orientation: landscape) (9 ms)
        ✓ @media (update: fast) (9 ms)
        ✓ @media (overflow-block: scroll) (9 ms)
        ✓ @media (display-mode: fullscreen) (9 ms)
        ✓ @media (scripting: enabled) (9 ms)
        ✓ @media (hover: hover) (10 ms)
        ✓ @media (any-hover: none) (9 ms)
        ✓ @media (pointer: coarse) (9 ms)
        ✓ @media (any-pointer: fine) (9 ms)
        ✓ @media (light-level: dim) (9 ms)
        ✓ @media (inverted-colors: inverted) (12 ms)
        ✓ @media (prefers-reduced-motion: reduce) (9 ms)
        ✓ @media (prefers-contrast: more) (10 ms)
        ✓ @media (forced-colors: active) (9 ms)
        ✓ @media (prefers-reduced-transparency: reduce) (9 ms)
        ✓ @media (min-width: calc(300px + 5em)) (13 ms)
        ✓ @media (max-height: calc(100vh - 50px)) (13 ms)
        ✓ @media (aspect-ratio: 16 / 9) (11 ms)
        ✓ @media (device-aspect-ratio: 16 / 9) (10 ms)
        ✓ @media (min-resolution: 150dpi) (10 ms)
        ✓ @media (max-resolution: 600dppx) (10 ms)
        ✓ @media (color-gamut: srgb) (10 ms)
        ✓ @media (display-mode: standalone) (10 ms)
        ✓ @media (prefers-color-scheme: dark) (10 ms)
        ✓ @media (scripting: none) (10 ms)
        ✓ @media (update: slow) (10 ms)
        ✓ @media (overflow-inline: none) (9 ms)
        ✓ @media (display-mode: minimal-ui) (10 ms)
        ✓ @media (hover: none) (9 ms)
        ✓ @media (any-hover: hover) (10 ms)
        ✓ @media (pointer: none) (10 ms)
        ✓ @media (any-pointer: none) (10 ms)
        ✓ @media (light-level: washed) (10 ms)
        ✓ @media (inverted-colors: none) (10 ms)
        ✓ @media (prefers-reduced-motion: no-preference) (9 ms)
        ✓ @media (prefers-contrast: no-preference) (9 ms)
        ✓ @media (forced-colors: none) (10 ms)
        ✓ @media (prefers-reduced-transparency: no-preference) (9 ms)
      word-rule
        ✓ @media (color) (10 ms)
        ✓ @media (color-index) (10 ms)
        ✓ @media (monochrome) (10 ms)
        ✓ @media (grid) (9 ms)
      and combinator
        ✓ @media not all and (monochrome) (6 ms)
        ✓ @media screen and (min-width: 400px) (5 ms)
        ✓ @media (min-height: 600px) and (orientation: landscape) (9 ms)
        ✓ @media screen and (device-aspect-ratio: 16/9) (5 ms)
        ✓ @media (min-aspect-ratio: 3/2) and (max-aspect-ratio: 16/9) (10 ms)
        ✓ @media (min-resolution: 300dpi) and (max-resolution: 600dpi) (8 ms)
        ✓ @media (min-width: 768px) and (max-width: 991px) (8 ms)
        ✓ @media (min-width: 1200px) and (orientation: landscape) (9 ms)
        ✓ @media (min-width: 992px) and (max-width: 1199px) and (pointer: fine) (14 ms)
        ✓ @media (min-width: 576px) and (max-width: 767px) and (hover: none) (13 ms)
        ✓ @media (orientation: landscape) and (pointer: fine) (10 ms)
        ✓ @media (prefers-reduced-motion: reduce) and (update: slow) (9 ms)
        ✓ @media (orientation: landscape) and (update: fast) (9 ms)
      or combinator
        ✓ @media (orientation: portrait), (orientation: landscape) (20 ms)
        ✓ @media (min-width: 500px) or (max-width: 600px) (12 ms)
        ✓ @media (width: 500px), (height: 400px) (19 ms)
        ✓ @media (min-width: 576px), (orientation: portrait) and (max-width: 767px) (18 ms)
        ✓ @media (min-width: 768px) and (max-width: 991px), (orientation: landscape) (18 ms)
        ✓ @media (min-width: 992px) and (max-width: 1199px), (pointer: fine) and (hover: hover) (16 ms)
        ✓ @media (min-width: 576px) and (max-width: 767px), (hover: none) and (any-pointer: coarse) (18 ms)
        ✓ @media (min-width: 576px), (orientation: portrait) and (max-width: 767px), (prefers-color-scheme: dark) (27 ms)
        ✓ @media (min-width: 768px) and (max-width: 991px), (orientation: landscape) and (update: fast), (prefers-reduced-motion: reduce) (27 ms)
        ✓ @media (min-width: 992px) and (max-width: 1199px), (pointer: fine) and (hover: hover), (any-pointer: coarse) and (any-hover: none) (25 ms)
        ✓ @media (min-width: 576px) and (max-width: 767px), (hover: none) and (any-pointer: coarse), (prefers-reduced-transparency: reduce) and (forced-colors: active) (27 ms)
        ✓ @media (color) and (min-width: 400px), screen and (max-width: 700px) (13 ms)
      not combinator
        ✓ @media not (not (not (min-width: 400px))) (53 ms)
        ✓ @media not ((min-width: 500px) and (max-width: 600px) and (max-width: 400px)) (23 ms)
        ✓ @media not all and (monochrome) and (min-width: 600px) (10 ms)
        ✓ @media (max-width: 1440px) and (not (max-width: 1024px)) and (not (max-width: 768px)) and (not (max-width: 458px)) (47 ms)
    [normalize] media queries
      flatten and combinator logic
        ✓ flattens nested and rules (20 ms)
        ✓ flattens complex nested and rules (83 ms)
        ✓ flattens deeply nested and chains (159 ms)
        ✓ handles top-level and and nested and (29 ms)
      simplify not combinator logic
        ✓ removes duplicate nots (15 ms)
        ✓ removes triple negation (57 ms)
        ✓ normalizes not with compound expression (17 ms)
        ✓ removes even number of nots (190 ms)
        ✓ preserves single not over group (17 ms)
      inequality rule tests
        ✓ @media (width > 400px) (9 ms)
        ✓ @media (width >= 400px) (9 ms)
        ✓ @media (400px < width) (10 ms)
        ✓ @media (400px <= width) (9 ms)
        ✓ @media (1000px <= width <= 700px) (8 ms)
        ✓ @media (400px < width <= 700px) (9 ms)
        ✓ @media (400px <= width <= 700px) (8 ms)
        ✓ @media (1000px >= width >= 700px) (8 ms)
        ✓ @media (1000px > width >= 700px) (8 ms)
        ✓ @media (1000px >= width > 700px) (8 ms)
        ✓ @media (1000px > width > 700px) (8 ms)
    simplify range intervals
      ✓ @media (min-width: 100px) and not (max-width: 200px) (19 ms)
      ✓ @media (min-width: 100px) and (min-width: 200px) (9 ms)
      ✓ @media (max-width: 200px) and not (max-width: 300px) (30 ms)
      ✓ @media (min-width: 100px) and not (max-width: 50px) (18 ms)
      ✓ @media (min-width: 100px) and not (max-width: 100px) (19 ms)
      ✓ @media (min-width: 100px) and not (max-width: 99.99px) (19 ms)
      ✓ @media (min-width: 100px) and not (max-width: 99.99px) (19 ms)
      ✓ @media (max-width: 1440px) and (not (max-width: 1024px)) and (not (max-width: 768px)) and (not (max-width: 458px)) (61 ms)
      ✓ @media (min-width: 100px) and (max-width: 500px) and (not (min-width: 600px)) => always-false (24 ms)
      ✓ @media (min-width: 100px) and (max-width: 500px) and (not (max-width: 200px)) => (min-width: 200.01px) and (max-width: 500px) (36 ms)
      ✓ @media (min-width: 100px) and (max-width: 500px) and (not (max-width: 200px)) and (not (min-width: 400px)) => (min-width: 200.01px) and (max-width: 399.99px) (37 ms)
      ✓ @media (min-width: 100px) and (orientation: landscape) => should not simplify (9 ms)
      ✓ @media (min-width: calc(100px + 2em)) and (max-width: 500px) => should not simplify (10 ms)
    additional media query features
      ✓ @media (-webkit-min-device-pixel-ratio: 2) (11 ms)
      ✓ @media (-webkit-max-device-pixel-ratio: 1.5) (11 ms)
      ✓ @media (color-index: 256) (10 ms)
      ✓ @media (min-color-index: 256) (10 ms)
      ✓ @media (max-color-index: 65536) (10 ms)
      ✓ @media (resolution: 300dpi) (10 ms)
      ✓ @media (resolution: 2dppx) (10 ms)
      ✓ @media (resolution: 1.5dpcm) (10 ms)
      ✓ @media (color-gamut: p3) (10 ms)
      ✓ @media (color-gamut: rec2020) (11 ms)
      ✓ @media (video-color-gamut: srgb) (10 ms)
      ✓ @media (video-color-gamut: p3) (10 ms)
      ✓ @media (video-color-gamut: rec2020) (10 ms)

---------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------
File                       | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
---------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------
All files                  |   79.58 |    74.32 |    75.7 |   79.48 |
 src                       |   89.59 |    86.36 |   85.22 |   90.07 |
  base-types.js            |       0 |        0 |       0 |       0 | 16-47
  index.js                 |       0 |        0 |       0 |       0 |
  properties.js            |       0 |        0 |       0 |       0 |
  token-parser.js          |      97 |     96.8 |   95.89 |   97.71 | 101,107,163,408,452
  token-types.js           |   76.92 |    67.64 |   55.55 |   76.92 | 72,88-91,103-119,125,135
 src/at-queries            |   96.81 |     93.4 |      97 |   97.41 |
  media-query-transform.js |   97.56 |    92.85 |     100 |   97.43 | 58
  media-query.js           |   96.68 |    93.44 |    96.7 |    97.4 | 311,322-327,507,552,586
  messages.js              |     100 |      100 |     100 |     100 |
 src/css-types             |   70.79 |    57.07 |   68.13 |    70.6 |
  alpha-value.js           |      80 |       50 |      75 |      80 | 18
  angle-percentage.js      |     100 |      100 |     100 |     100 |
  angle.js                 |     100 |      100 |     100 |     100 |
  basic-shape.js           |   69.56 |       12 |   74.07 |   69.56 | 18,44-61,113-115,161-163,217-219,255-256
  blend-mode.js            |     100 |      100 |     100 |     100 |
  calc-constant.js         |     100 |      100 |     100 |     100 |
  calc.js                  |   93.65 |     92.3 |     100 |   93.65 | 70,78,102,201
  color.js                 |   66.43 |    33.33 |      60 |   65.73 | 40,208-224,260,314,375-381,396,409,428,465,485,490-495,500,508,517,540-547,553-555,560,566,583-601,606-608,614,631
  common-types.js          |   46.42 |    16.66 |      25 |   48.14 | 32,36,40,44,48,54-63,66-74
  custom-ident.js          |   85.71 |      100 |   83.33 |   83.33 | 18
  dashed-ident.js          |   83.33 |      100 |   83.33 |      80 | 20
  dimension.js             |       0 |        0 |       0 |       0 | 18-37
  easing-function.js       |   91.22 |      100 |   89.79 |   91.22 | 31,59,91,120,158
  filter-function.js       |       0 |        0 |       0 |       0 | 18-255
  flex.js                  |   83.33 |      100 |   83.33 |   83.33 | 19
  frequency.js             |      70 |       50 |   83.33 |      70 | 21-24
  length-percentage.js     |     100 |      100 |     100 |     100 |
  length.js                |     100 |      100 |     100 |     100 |
  position.js              |   84.61 |    68.75 |   86.66 |   84.61 | 37-43,88
  resolution.js            |   85.71 |      100 |      80 |   85.71 | 24
  time.js                  |      70 |       50 |   83.33 |      70 | 21-24
  transform-function.js    |    82.2 |    45.94 |   85.14 |   82.09 | 64,106,144,167,191,221-230,302-306,357,391,419-423,459,484-488,530,560,567
 src/properties            |   55.07 |    38.63 |    87.5 |   55.07 |
  border-radius.js         |   41.17 |    30.76 |   84.61 |   41.17 | 25-30,79-132
  box-shadow.js            |     100 |      100 |     100 |     100 |
  transform.js             |      75 |      100 |      75 |      75 | 21
---------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------
Test Suites: 1 skipped, 26 passed, 26 of 27 total
Tests:       13 skipped, 322 passed, 335 total
Snapshots:   226 passed, 226 total
Time:        5.777 s
Ran all test suites.

> @stylexjs/stylex@0.16.1 test
> cross-env BABEL_ENV=test jest --coverage

PASS __tests__/createOrderedCSSStyleSheet-test.js
  createOrderedCSSStyleSheet
    #insert
      ✓ does not throw on invalid rule (6 ms)
      ✓ insertion of CSSStyleRule (1 ms)
      ✓ insertion of CSSMediaRule
      ✓ insertion of CSSMediaRule within CSSConditionRule (1 ms)
      ✓ insertion order for same group (1 ms)
      ✓ deduplication for same group (1 ms)
      ✓ order for same group (1 ms)
      ✓ insertion order for different groups
    client-side hydration
      ✓ from SSR CSS (14 ms)
      ✓ works when the group marker is in single quotes (3 ms)

PASS __tests__/createSheet-test.js
  createSheet
    client side
      ✓ creates a sheet (17 ms)
      ✓ creates multiple sheets (1 ms)
      ✓ reuses existing sheet for given root (3 ms)
      ✓ supports updating styles across multiple documents (18 ms)
    server side
      ✓ creates a sheet (1 ms)
      ✓ creates multiple sheets

PASS __tests__/stylex-test.js
  stylex
    error handling
      ✓ stylex.create (36 ms)
      ✓ stylex.createTheme (1 ms)
      ✓ stylex.defineConsts (1 ms)
      ✓ stylex.defineVars (1 ms)
      ✓ stylex.firstThatWorks (1 ms)
      ✓ stylex.keyframes (1 ms)
      ✓ stylex.positionTry (1 ms)
      ✓ stylex.viewTransitionClass
      ✓ stylex.defaultMarker (1 ms)
      ✓ stylex.typesangle (1 ms)
      ✓ stylex.typescolor (1 ms)
      ✓ stylex.typesurl (1 ms)
      ✓ stylex.typesimage
      ✓ stylex.typesinteger (1 ms)
      ✓ stylex.typeslengthPercentage (1 ms)
      ✓ stylex.typeslength (1 ms)
      ✓ stylex.typespercentage
      ✓ stylex.typesnumber (1 ms)
      ✓ stylex.typesresolution (1 ms)
      ✓ stylex.typestime (1 ms)
      ✓ stylex.typestransformFunction (1 ms)
      ✓ stylex.typestransformList
      ✓ stylex.whenancestor (1 ms)
      ✓ stylex.whendescendant (1 ms)
      ✓ stylex.whensiblingBefore (1 ms)
      ✓ stylex.whensiblingAfter
      ✓ stylex.whenanySibling (1 ms)
    props
      ✓ basic resolve (1 ms)
      ✓ merge order (1 ms)
      ✓ with a top-level array of simple overridden classes (1 ms)
      ✓ with nested arrays and pseudoClasses overriding things
      ✓ with just pseudoclasses (1 ms)
      ✓ with complicated set of arguments
      ✓ with dynamic styles (3 ms)
      ✓ data prop for source map data (1 ms)

PASS __tests__/inject-test.js
  inject
    ✓ @keyframes (8 ms)
    ✓ @positionTry (1 ms)
    ✓ ::view-transition (1 ms)
    ✓ @media (1 ms)
    ✓ ::before (1 ms)
    ✓ :hover
    ✓ ::before:hover (1 ms)

--------------------------------|---------|----------|---------|---------|-------------------
File                            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
--------------------------------|---------|----------|---------|---------|-------------------
All files                       |    97.4 |     83.9 |      98 |   97.36 |
 src                            |    97.1 |    91.66 |   96.87 |   97.05 |
  inject.js                     |     100 |      100 |     100 |     100 |
  stylex.js                     |   96.92 |    91.66 |   96.77 |   96.87 | 251-252
 src/stylesheet                 |   97.58 |    82.66 |     100 |   97.54 |
  createCSSStyleSheet.js        |   93.75 |    64.28 |     100 |   93.75 | 33
  createOrderedCSSStyleSheet.js |   97.33 |    83.33 |     100 |   97.26 | 136,206
  createSheet.js                |     100 |    91.66 |     100 |     100 | 39
  utils.js                      |     100 |      100 |     100 |     100 |
--------------------------------|---------|----------|---------|---------|-------------------
Test Suites: 4 passed, 4 total
Tests:       58 passed, 58 total
Snapshots:   24 passed, 24 total
Time:        2.241 s
Ran all test suites.

> @stylexjs/babel-plugin@0.16.1 test
> jest --coverage

PASS src/shared/utils/__tests__/split-css-value-test.js
  Ensure CSS values are split correctly
    ✓ simple space-separated numbers (10 ms)
    ✓ simple space-separated lengths (1 ms)
    ✓ simple comma-separated numbers (1 ms)
    ✓ simple comma-separated lengths (1 ms)
    ✓ Does not lists within functions (1 ms)
    ✓ Does not lists within calc (1 ms)

PASS src/shared/types/__tests__/stylex-types-test.js
  stylex-types-test
    class methods
      ✓ angle (10 ms)
      ✓ color (1 ms)
      ✓ image (1 ms)
      ✓ integer (1 ms)
      ✓ length (2 ms)
      ✓ percentage (1 ms)
      ✓ num (1 ms)
      ✓ integer (1 ms)
      ✓ resolution
      ✓ time
      ✓ transformFunction (1 ms)
      ✓ transformList (1 ms)
      ✓ url
    standalone factory functions
      ✓ angle (1 ms)
      ✓ color
      ✓ image (1 ms)
      ✓ integer
      ✓ length (1 ms)
      ✓ percentage (1 ms)
      ✓ num
      ✓ integer (1 ms)
      ✓ resolution
      ✓ time (1 ms)
      ✓ transformFunction
      ✓ transformList (1 ms)
      ✓ url

PASS src/shared/utils/__tests__/transform-value-test.js
  transformValue content property tests
    ✓ preserves CSS functions without quotes (46 ms)
    ✓ preserves CSS keywords without quotes (1 ms)
    ✓ handles mixed content values (1 ms)
    ✓ adds quotes to plain strings (1 ms)

PASS src/utils/__tests__/state-manager-test.js
  StateManager config parsing
    "classNamePrefix" option
      ✓ logs errors if invalid (15 ms)
      ✓ default value (2 ms)
      ✓ empty string value (1 ms)
      ✓ provided value (1 ms)
    "debug" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value (1 ms)
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "dev" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value (2 ms)
      ✓ false value
      ✓ true value
    "enableDebugClassNames" option (boolean)
      ✓ logs errors if invalid
      ✓ default value
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "enableDebugDataProp" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value (1 ms)
      ✓ false value
      ✓ true value
    "enableDevClassNames" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value (1 ms)
      ✓ false value (1 ms)
      ✓ true value
    "enableInlinedConditionalMerge" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value (1 ms)
      ✓ false value
      ✓ true value
    "enableMinifiedKeys" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value (1 ms)
      ✓ false value
      ✓ true value (1 ms)
    "importSources" option
      ✓ logs errors if invalid (2 ms)
      ✓ default value
      ✓ empty value (1 ms)
      ✓ provided value (2 ms)
    "runtimeInjection" option
      ✓ logs errors if invalid (2 ms)
      ✓ default value
      ✓ false value
      ✓ true value (1 ms)
      ✓ "true" value (1 ms)
    "styleResolution" option
      ✓ logs errors if invalid (1 ms)
      ✓ default value (1 ms)
      ✓ valid values (1 ms)
    "test" option (boolean)
      ✓ logs errors if invalid
      ✓ default value
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "treeshakeCompensation" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value
      ✓ false value (1 ms)
      ✓ true value
    "unstable_moduleResolution" option
      ✓ default value
      ✓ "commonJS" type (1 ms)
      ✓ "haste" type (2 ms)
      ✓ "rootDir" option
    "enableFontSizePxToRem" option (boolean)
      ✓ logs errors if invalid
      ✓ default value (1 ms)
      ✓ false value (1 ms)
      ✓ true value

PASS src/shared/preprocess-rules/__tests__/PreRule-test.js
  Converting PreRule to CSS
    ✓ should convert a PreRule to CSS (13 ms)

PASS src/shared/utils/__tests__/convert-to-className-test.js
  convert-to-className test
    ✓ converts style to className (15 ms)
    ✓ prefixes classname with property name when options.debug is true (1 ms)
    ✓ prefixes classname with prefix only when options.enableDebugClassNames is false (1 ms)
    ✓ prefixes classname with prefix only when options.debug is false (1 ms)
    ✓ converts margin number to px (1 ms)
    ✓ keeps number for zIndex (1 ms)
    ✓ keeps fr for 0 fraction values (1 ms)
    ✓ keeps fr for 0 percentage values
    ✓ keeps number for opacity (2 ms)
    ✓ handles array of values (1 ms)
    ✓ handles array of values with var (2 ms)
    ✓ handles array with multiple vars (1 ms)
    ✓ handles array with multiple vars and multiple fallbacks (1 ms)
    ✓ handles array with variable default and multiple constant fallbacks
    ✓ handles array with variable default and multiple variable and constant fallbacks (1 ms)
    ✓ handles array of all variables (1 ms)

PASS src/shared/preprocess-rules/__tests__/flatten-raw-style-obj-test.js
  Flatten Style Object with legacy shorthand expansion
    Simple Objects
      ✓ should create PreRule objects for simple style values (11 ms)
      ✓ should expand simple gap values (1 ms)
      ✓ should expand simple containIntrinsicSize values (1 ms)
      ✓ should expand simple shorthands (3 ms)
      ✓ should expand shorthands with space-separated values (3 ms)
      ✓ should expand simple gap with space-separated values (1 ms)
      ✓ should expand simple containIntrinsicSize with space-separated values (3 ms)
      ✓ should expand shorthands with fallbacks (1 ms)
    Nested Objects
      ✓ Legacy Pseudo classes (2 ms)
      ✓ Modern Pseudo classes (2 ms)
      ✓ Modern Pseudo classes with shorthands (1 ms)
      ✓ Modern Pseudo classes with complex shorthands (2 ms)
      ✓ Modern pseudo and at-rules (2 ms)
    Multiple levels of nesting
      ✓ Fallback styles within nested objects (2 ms)
      ✓ pseudo within a media query - legacy syntax
      ✓ pseudo with a pseudo within a media query - legacy syntax (1 ms)
      ✓ pseudo within a media query - modern syntax (1 ms)
      ✓ extra deep, pseudo within a media query - modern syntax (1 ms)

PASS src/visitors/__tests__/parse-stylex-create-arg-test.js
  custom path evaluation works as expected
    ✓ Evaluates Empty Object (18 ms)
    ✓ Evaluates Static Style Object (7 ms)
    ✓ Evaluates object with function styles (identifier) (10 ms)
    ✓ Evaluates object with function styles (binary expression) (6 ms)

PASS src/utils/__tests__/evaluate-path-test.js
  custom path evaluation works as expected
    ✓ Evaluates Primitive Value expressions (36 ms)
    ✓ Evaluates Simple Arrays and Objects (6 ms)
    ✓ Evaluates Objects with spreads (3 ms)
    ✓ Evaluates built-in functions (3 ms)
    ✓ Evaluates custom functions (2 ms)
    ✓ Evaluates custom functions that return non-static values (1 ms)
    ✓ Evaluates custom functions used as spread values (1 ms)
    ✓ Evaluates custom functions that take paths (1 ms)
    evaluating function expressions
      ✓ function with a single params (2 ms)
      ✓ function with a two params (2 ms)
      ✓ Array map (1 ms)
      ✓ Array filter (1 ms)
      ✓ Array map and filter (2 ms)
      ✓ Object entries (3 ms)
      ✓ Methods called by string should be bind (2 ms)

PASS __tests__/validation-import-export-test.js
  @stylexjs/babel-plugin
    [validation] stylex imports
      ✓ valid import: non-stylex (55 ms)
      ✓ valid import: named export of stylex.create() (14 ms)
      ✓ valid import: default export of stylex.create() (4 ms)
      ✓ valid import: positionTry named import (8 ms)
      ✓ valid import: positionTry from namespace import (4 ms)
      ✓ valid import: viewTransitionClass named import (4 ms)
      ✓ valid import: viewTransitionClass from namespace import (3 ms)

PASS __tests__/legacy/transform-pre-plugin-test.js
  [transform] stylex.create()
    ✓ transforms style object (137 ms)

PASS __tests__/transform-stylex-viewTransitionClass-test.js
  @stylexjs/babel-plugin
    [transform] stylex.viewTransitionClass
      ✓ basic object (83 ms)
      ✓ local variables used in view transition class (9 ms)
      ✓ using keyframes (11 ms)
      ✓ using inline keyframes (9 ms)
      ○ skipped using contextual styles

PASS __tests__/transform-stylex-keyframes-test.js
  @stylexjs/babel-plugin
    [transform] CSS keyframes
      ✓ keyframes object (79 ms)
      ✓ local variables used in keyframes object (7 ms)
      ✓ template literals used in keyframes object (16 ms)
      ✓ keyframes object used inline (6 ms)
      ✓ keyframes object (5 ms)
      ✓ [legacy] keyframes object RTL polyfills (5 ms)

PASS __tests__/transform-value-normalization-test.js
  @stylexjs/babel-plugin
    [transform] CSS value normalization
      ✓ normalize whitespace in CSS values (97 ms)
      ✓ no dimensions for 0 values (7 ms)
      ✓ 0 timings are all "0s" (7 ms)
      ✓ 0 angles are all "0deg" (7 ms)
      ✓ calc() preserves spaces around "+" and "-" (6 ms)
      ✓ strip leading zeros (5 ms)
      ✓ use double quotes in empty strings (5 ms)
      ✓ timing values are converted to seconds unless < 10ms (9 ms)
      ✓ transforms non-unitless property values (7 ms)
      ✓ number values rounded down to four decimal points (4 ms)
      ✓ "content" property values are wrapped in quotes (4 ms)
      ✓ [legacy] no space before "!important" (3 ms)
    [transform] fontSize with:
      enableFontSizePxToRem: true
        ✓ transforms font size from px to rem (6 ms)
        ✓ transforms font size from px to rem even with calc (3 ms)
      enableFontSizePxToRem: false
        ✓ ignores px font size (5 ms)
        ✓ ignores px font size within calc (3 ms)

PASS __tests__/transform-stylex-defineConsts-test.js
  @stylexjs/babel-plugin
    [transform] stylex.defineConsts()
      ✓ constants are unique (81 ms)
      ✓ constants object (9 ms)
      ✓ constants object (haste) (6 ms)
      ✓ constant names: special characters (4 ms)
      ✓ constant names: number (9 ms)
    [transform] stylex.defineConsts() in stylex.create()
      ✓ adds placeholder for constant value from constants.stylex (17 ms)
      ✓ adds media query placeholder from constants.stylex (10 ms)
      ✓ works with dynamic styles constants (15 ms)
      ✓ works with dynamic styles at-rules (7 ms)
      ✓ adds multiple media query placeholders from constants.stylex (7 ms)
      ✓ adds nested media query placeholders from constants.stylex (9 ms)
      ○ skipped works with firstThatWorks

PASS __tests__/transform-stylex-defineVars-test.js
  @stylexjs/babel-plugin
    [transform] stylex.defineVars()
      ✓ tokens as null (78 ms)
      ✓ tokens object (9 ms)
      ✓ tokens object (haste) (21 ms)
      ✓ tokens object deep in file tree (8 ms)
      ✓ tokens object with nested @-rules (7 ms)
      ✓ literal tokens object (4 ms)
      ✓ local variable tokens object (6 ms)
      ✓ local variables used in tokens objects (5 ms)
      ✓ template literals used in tokens objects (9 ms)
      ✓ expressions used in tokens objects (5 ms)
      ✓ stylex.types used in tokens object (4 ms)
      ✓ multiple variables objects (same file) (4 ms)
      ✓ multiple variables objects (dependency) (3 ms)
      ✓ multiple variables objects (different files) (6 ms)
      options `debug:true`
        ✓ tokens object includes debug data (4 ms)
        ✓ tokens object includes debug data (keys with special characters) (4 ms)
      options `dev:true`
        ✓ tokens object (3 ms)
      options `runtimeInjection:true`
        ✓ tokens object (9 ms)
      options `themeFileExtension`
        ✓ processes tokens in files with configured extension (4 ms)

PASS __tests__/transform-stylex-positionTry-test.js
  @stylexjs/babel-plugin
    [transform] stylex.positionTry
      ✓ positionTry object (87 ms)
      ✓ local constants used in positionTry object (9 ms)
      ✓ positionTry value used within create (14 ms)
      ✓ positionTry object used inline (8 ms)

PASS __tests__/validation-stylex-keyframes-test.js
  @stylexjs/babel-plugin
    [validation] stylex.keyframes()
      ✓ local variable keyframes object (154 ms)
      ✓ only argument must be an object of objects (41 ms)
      ✓ allow defined CSS variables in keyframes (4 ms)
      ✓ allow undefined CSS variables in keyframes (3 ms)

PASS __tests__/legacy/transform-legacy-polyfills-test.js
  @stylexjs/babel-plugin
    [transform] CSS property polyfills (styleResolution: application-order)
      ✓ [non-standard] "end" (aka "insetInlineEnd") (81 ms)
      ✓ [non-standard] "marginEnd" (aka "marginInlineEnd") (15 ms)
      ✓ [non-standard] "marginHorizontal" (aka "marginInline") (5 ms)
      ✓ [non-standard] "marginStart" (aka "marginInlineStart") (6 ms)
      ✓ [non-standard] "marginVertical" (aka "marginBlock") (6 ms)
      ✓ [non-standard] "paddingEnd" (aka "paddingInlineEnd") (4 ms)
      ✓ [non-standard] "paddingHorizontal" (aka "paddingInline") (4 ms)
      ✓ [non-standard] "paddingStart" (aka "paddingInlineStart") (4 ms)
      ✓ [non-standard] "paddingVertical" (aka "paddingBlock") (10 ms)
      ✓ [non-standard] "start" (aka "insetInlineStart") (5 ms)
    [transform] CSS value polyfills (styleResolution: application-order)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "clear" property (4 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "clear" property (4 ms)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "float" property (3 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "float" property (3 ms)
    [transform] CSS property polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: true)
      ✓ [non-standard] "end" (aka "insetInlineEnd") (3 ms)
      ✓ [non-standard] "marginEnd" (aka "marginInlineEnd") (4 ms)
      ✓ [non-standard] "marginHorizontal" (aka "marginInline") (3 ms)
      ✓ [non-standard] "marginStart" (aka "marginInlineStart") (3 ms)
      ✓ [non-standard] "marginVertical" (aka "marginBlock") (3 ms)
      ✓ [non-standard] "paddingEnd" (aka "paddingInlineEnd") (3 ms)
      ✓ [non-standard] "paddingHorizontal" (aka "paddingInline") (3 ms)
      ✓ [non-standard] "paddingStart" (aka "paddingInlineStart") (3 ms)
      ✓ [non-standard] "paddingVertical" (aka "paddingBlock") (3 ms)
      ✓ [non-standard] "start" (aka "insetInlineStart") (3 ms)
    [transform] CSS value polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: true)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "clear" property (3 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "clear" property (3 ms)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "float" property (2 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "float" property (3 ms)
    [transform] CSS property polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: false)
      ✓ [non-standard] "end" (aka "insetInlineEnd") (2 ms)
      ✓ [non-standard] "marginEnd" (aka "marginInlineEnd") (2 ms)
      ✓ [non-standard] "marginHorizontal" (aka "marginInline") (2 ms)
      ✓ [non-standard] "marginStart" (aka "marginInlineStart") (3 ms)
      ✓ [non-standard] "marginVertical" (aka "marginBlock") (3 ms)
      ✓ [non-standard] "paddingEnd" (aka "paddingInlineEnd") (3 ms)
      ✓ [non-standard] "paddingHorizontal" (aka "paddingInline") (3 ms)
      ✓ [non-standard] "paddingStart" (aka "paddingInlineStart") (10 ms)
      ✓ [non-standard] "paddingVertical" (aka "paddingBlock") (3 ms)
      ✓ [non-standard] "start" (aka "insetInlineStart") (2 ms)
    [transform] CSS value polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: false)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "clear" property (2 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "clear" property (3 ms)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "float" property (3 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "float" property (2 ms)

PASS __tests__/legacy/transform-logical-values-test.js
  @stylexjs/babel-plugin
    [transform] CSS logical values
      ✓ value "inline-end" for "clear" property (88 ms)
      ✓ value "inline-start" for "clear" property (9 ms)
      ✓ value "inline-end" for "float" property (9 ms)
      ✓ value "inline-start" for "float" property (6 ms)
      ✓ value "end" for "textAlign" property (8 ms)
      ✓ value "start" for "textAlign" property (5 ms)
      ✓ [legacy] value "e-resize" for "cursor" property (4 ms)
      ✓ [legacy] value "w-resize" for "cursor" property (4 ms)
      ✓ [legacy] value "ne-resize" for "cursor" property (8 ms)
      ✓ [legacy] value "nw-resize" for "cursor" property (7 ms)
      ✓ [legacy] value "se-resize" for "cursor" property (4 ms)
      ✓ [legacy] value "sw-resize" for "cursor" property (5 ms)
      ✓ [legacy] value of "animationName" property (4 ms)
      ✓ [legacy] value of "backgroundPosition" property (7 ms)
      ✓ [legacy] value of "paddingInline" property (11 ms)
      ✓ [legacy] value of "boxShadow" property (43 ms)
      ✓ [legacy] value of "textShadow" property (15 ms)

PASS __tests__/transform-process-test.js
  @stylexjs/babel-plugin
    [transform] stylexPlugin.processStylexRules
      ✓ no rules (104 ms)
      ✓ all rules (useLayers:false) (45 ms)
      ✓ all rules (useLayers:true) (24 ms)
      ✓ all rules (legacyDisableLayers:true) (20 ms)
      ✓ legacy-expand-shorthands with logical styles polyfill (13 ms)
      ✓ legacy-expand-shorthands duplicates theme selectors for higher precedence (10 ms)
      ✓ no mutation of rules (22 ms)
      ✓ useLegacyClassnamesSort: false (default behavior) (18 ms)
      ✓ useLegacyClassnamesSort: true (legacy behavior) (16 ms)

PASS __tests__/validation-stylex-defineConsts-test.js
  @stylexjs/babel-plugin
    [transform] stylex.defineConsts()
      ✓ invalid export: not bound (175 ms)
      ✓ invalid argument: none (7 ms)
      ✓ invalid argument: too many (5 ms)
      ✓ invalid argument: number (9 ms)
      ✓ invalid argument: string (5 ms)
      ✓ invalid argument: non-static (5 ms)
      ✓ valid argument: object (13 ms)
      ✓ invalid key: starts with "--" (11 ms)
      ✓ invalid key: non-static (6 ms)
      ✓ invalid value: non-static (9 ms)
      ✓ valid value: number (5 ms)
      ✓ valid value: string (14 ms)
      ○ skipped valid value: keyframes

PASS __tests__/transform-stylex-createTheme-test.js
  @stylexjs/babel-plugin
    [transform] stylex.createTheme()
      ✓ theme object (99 ms)
      ✓ theme object (haste) (13 ms)
      ✓ theme object deep in file tree (11 ms)
      ✓ literal tokens theme object (9 ms)
      ✓ local variable theme object (13 ms)
      ✓ local variables used in theme objects (7 ms)
      ✓ template literals used in theme objects (8 ms)
      ✓ expressions used in theme objects (7 ms)
      ✓ stylex.types used in theme object (8 ms)
      ✓ multiple theme objects (same vars) (10 ms)
      ✓ multiple theme objects (different vars) (29 ms)
      ✓ themes are indifferent to order of keys (11 ms)
      options `debug:true`
        ✓ adds debug data (7 ms)
        ✓ adds debug data for npm packages (6 ms)
        ✓ adds debug data (haste) (6 ms)
        ✓ adds debug data for npm packages (haste) (6 ms)
      options `dev:true`
        ✓ adds dev data (6 ms)
      options `runtimeInjection:true`
        ✓ adds style injection (11 ms)

PASS __tests__/evaluation-import-test.js
  Evaluation of imported values works based on configuration
    Theme name hashing based on fileName alone works
      ✓ Importing file with ".stylex" suffix works (92 ms)
      ✓ Importing file with ".stylex" and reading __varGroupHash__ returns a className (9 ms)
      ✓ Maintains variable names that start with -- from "*.stylex" files (9 ms)
      ✓ Importing file with ".stylex" suffix works with keyframes (11 ms)
      ✓ Importing file with ".stylex.js" suffix works (12 ms)
      ✓ Importing file with ".stylex.js" with an alias suffix works (7 ms)
      ✓ Importing file without a ".stylex" suffix fails (116 ms)
      ✓ Imported vars with ".stylex" suffix can be used as style keys (6 ms)
      ✓ Imported vars with ".stylex" suffix can be used as style keys dynamically (14 ms)
    Module resolution commonJS
      ✓ Recognizes .ts stylex imports when resolving .js relative imports (14 ms)

PASS __tests__/when-functions-test.js
  @stylexjs/babel-plugin
    [transform] when functions
      ✓ when.ancestor function (88 ms)
      ✓ when.siblingBefore function (8 ms)
      ✓ namespace imports (13 ms)
      ✓ aliased imports (6 ms)
    [validation] when functions
      ✓ validates pseudo selector format (217 ms)
      ✓ rejects pseudo-elements (6 ms)
    [transform] using stylex.defaultMarker
      ✓ named import (4 ms)
      ✓ namespace import (4 ms)

PASS __tests__/transform-stylex-props-test.js
  @stylexjs/babel-plugin
    [transform] stylex.props() call
      ✓ empty stylex.props call (75 ms)
      ✓ basic stylex call (27 ms)
      ✓ stylex call with number (6 ms)
      ✓ stylex call with computed number (7 ms)
      ✓ stylex call with computed string (5 ms)
      ✓ stylex call with multiple namespaces (8 ms)
      ✓ stylex call within variable declarations (6 ms)
      ✓ stylex call with styles variable assignment (5 ms)
      ✓ stylex call within export declarations (6 ms)
      ✓ stylex call with short-form properties (5 ms)
      ✓ stylex call with exported short-form properties (3 ms)
      ✓ Last property wins, even if shorthand (9 ms)
      ✓ stylex call using styles with pseudo selectors (6 ms)
      ✓ stylex call using styles with pseudo selectors within property (6 ms)
      ✓ stylex call using styles with Media Queries (7 ms)
      ✓ stylex call using styles with Media Queries within property (13 ms)
      ✓ stylex call using styles with Support Queries (7 ms)
      ✓ stylex call using styles with Support Queries within property (5 ms)
      props calls with jsx
        ✓ local static styles (16 ms)
        ✓ local dynamic styles (17 ms)
        ✓ non-local styles (9 ms)
      with contextual styles and collisions
        ✓ stylex call with conditions (7 ms)
        ✓ stylex call with conditions - skip conditional (7 ms)
        ✓ stylex call with property collisions (6 ms)
        ✓ stylex call with reverting by null (6 ms)
        ✓ stylex call with short-form property collisions (6 ms)
        ✓ stylex call with short-form property collisions with null (5 ms)
        ✓ stylex call with conditions and collisions (6 ms)
        ✓ stylex call with conditions and collisions - skip conditional (7 ms)
        ✓ stylex call with conditions and null collisions (5 ms)
        ✓ stylex call with conditions and null collisions - skip conditional (6 ms)
      with plugin options
        ✓ dev:true and enableInlinedConditionalMerge:false (9 ms)
        ✓ dev:true (9 ms)
    Keep stylex.create when needed
      ✓ stylex call with computed key access (3 ms)
      ✓ stylex call with composition of external styles (4 ms)
      ✓ stylex call using exported styles with pseudo selectors, and queries (3 ms)
      even when stylex calls come first
        ✓ stylex call with computed key access (4 ms)
        ✓ stylex call with mixed access (4 ms)
        ✓ stylex call with composition of external styles (2 ms)
        ✓ stylex call using exported styles with pseudo selectors, and queries (4 ms)
    Setting custom import paths
      ✓ Basic stylex call (2 ms)
    Specific edge-case bugs
      ✓ Basic stylex call (7 ms)
      ✓ Basic stylex call (6 ms)
      ✓ Stylex call with debug on (6 ms)
      ✓ Stylex call with debug on and debug classnames off (12 ms)
      ✓ hoisting correctly with duplicte names (6 ms)

PASS __tests__/transform-import-export-test.js
  @stylexjs/babel-plugin
    [transform] stylex imports
      ✓ import: none (120 ms)
      ✓ import: non-stylex (22 ms)
      ✓ require: non-stylex (22 ms)
      ✓ import: wildcard (the default) (37 ms)
      ✓ import: wildcard (non-stylex name) (27 ms)
      ✓ import: named (31 ms)
      ✓ import: named alias (21 ms)
      ✓ importSources (string) (21 ms)
      ✓ importSources (object) (22 ms)
      ✓ [META-ONLY] import: default (16 ms)
    [transform] stylex exports
      ✓ export: named property (6 ms)
      ✓ export: named declaration (5 ms)
      ✓ export: default (4 ms)
      ✓ module.export (5 ms)

PASS __tests__/validation-stylex-createTheme-test.js
  @stylexjs/babel-plugin
    [validation] stylex.createTheme()
      ✓ must be bound to a variable (479 ms)
      ✓ it must have two arguments (63 ms)
      ✓ variable keys must be a static value (5 ms)
      ✓ values must be static number or string in stylex.createTheme() (35 ms)

PASS __tests__/legacy/transform-logical-properties-test.js
  @stylexjs/babel-plugin
    [transform] CSS logical properties (styleResolution: "application-order")
      ✓ "borderBlockColor" (82 ms)
      ✓ "borderBlockStartColor" (9 ms)
      ✓ "borderBlockEndColor" (9 ms)
      ✓ "borderInlineColor" (6 ms)
      ✓ "borderInlineStartColor" (7 ms)
      ✓ "borderInlineEndColor" (5 ms)
      ✓ "borderBlockStyle" (5 ms)
      ✓ "borderBlockStartStyle" (4 ms)
      ✓ "borderBlockEndStyle" (17 ms)
      ✓ "borderInlineStyle" (7 ms)
      ✓ "borderInlineStartStyle" (4 ms)
      ✓ "borderInlineEndStyle" (6 ms)
      ✓ "borderBlockWidth" (3 ms)
      ✓ "borderBlockStartWidth" (4 ms)
      ✓ "borderBlockEndWidth" (3 ms)
      ✓ "borderInlineWidth" (3 ms)
      ✓ "borderInlineStartWidth" (4 ms)
      ✓ "borderInlineEndWidth" (5 ms)
      ✓ "borderTopStartRadius" (5 ms)
      ✓ "borderBottomStartRadius" (4 ms)
      ✓ "borderTopEndRadius" (5 ms)
      ✓ "borderBottomEndRadius" (5 ms)
      ✓ "insetBlock" (5 ms)
      ✓ "insetBlockEnd" (5 ms)
      ✓ "insetBlockStart" (5 ms)
      ✓ "insetInline" (4 ms)
      ✓ "insetInlineEnd" (4 ms)
      ✓ "insetInlineStart" (4 ms)
      ✓ "marginBlock" (5 ms)
      ✓ "marginBlockEnd" (4 ms)
      ✓ "marginBlockStart" (5 ms)
      ✓ "marginInline" (3 ms)
      ✓ "marginInlineEnd" (3 ms)
      ✓ "marginInlineStart" (3 ms)
      ✓ "paddingBlock" (3 ms)
      ✓ "paddingBlockEnd" (4 ms)
      ✓ "paddingBlockStart" (3 ms)
      ✓ "paddingInline" (4 ms)
      ✓ "paddingInlineEnd" (4 ms)
      ✓ "paddingInlineStart" (4 ms)
      ✓ [legacy] short-form property value flipping (10 ms)
    [transform] CSS logical properties  (styleResolution: "legacy-expand-shorthands")
      with enableLogicalStylesPolyfill: true
        ✓ marginInline (6 ms)
        ✓ marginInlineStart (4 ms)
        ✓ marginInlineEnd (4 ms)
        ✓ paddingInline (5 ms)
        ✓ paddingInlineStart (4 ms)
        ✓ paddingInlineEnd (4 ms)
        ✓ borderInlineColor (4 ms)
        ✓ borderInlineStartColor (4 ms)
        ✓ borderInlineStyle (5 ms)
        ✓ borderInlineWidth (5 ms)
        ✓ borderBlockColor (4 ms)
        ✓ borderBlockStyle (5 ms)
        ✓ borderBlockWidth (5 ms)
        ✓ insetBlock (4 ms)
        ✓ insetBlockStart (4 ms)
        ✓ insetBlockEnd (4 ms)
        ✓ insetInline (4 ms)
        ✓ insetInlineStart (4 ms)
        ✓ insetInlineEnd (4 ms)
        ✓ borderTopStartRadius (4 ms)
        ✓ borderBottomStartRadius (4 ms)
        ✓ borderTopEndRadius (3 ms)
        ✓ borderBottomEndRadius (3 ms)
      with enableLogicalStylesPolyfill: false
        ✓ marginInline (4 ms)
        ✓ marginInlineStart (3 ms)
        ✓ marginInlineEnd (3 ms)
        ✓ paddingInline (4 ms)
        ✓ paddingInlineStart (3 ms)
        ✓ paddingInlineEnd (3 ms)
        ✓ borderInlineColor (2 ms)
        ✓ borderInlineStartColor (2 ms)
        ✓ borderInlineStyle (3 ms)
        ✓ borderInlineWidth (2 ms)
        ✓ borderBlockColor (2 ms)
        ✓ borderBlockStyle (3 ms)
        ✓ borderBlockWidth (2 ms)
        ✓ insetBlock (2 ms)
        ✓ insetBlockStart (2 ms)
        ✓ insetBlockEnd (6 ms)
        ✓ insetInline (3 ms)
        ✓ insetInlineStart (3 ms)
        ✓ insetInlineEnd (2 ms)
        ✓ borderTopStartRadius (2 ms)
        ✓ borderBottomStartRadius (2 ms)
        ✓ borderTopEndRadius (2 ms)
        ✓ borderBottomEndRadius (3 ms)

PASS __tests__/validation-stylex-create-test.js
  @stylexjs/babel-plugin
    [validation] stylex.create()
      ✓ invalid use: not bound (193 ms)
      ✓ invalid argument: none (7 ms)
      ✓ invalid argument: too many (7 ms)
      ✓ invalid argument: non-static (5 ms)
      ✓ valid argument: object (13 ms)
      style rules
        ✓ invalid key: non-static (16 ms)
        ✓ invalid rule: non-object (18 ms)
        ✓ invalid rule: spread (5 ms)
        ✓ valid rule: object (8 ms)
        ✓ invalid dynamic rule: default object value (24 ms)
        ✓ invalid dynamic rule: default string value (4 ms)
        ✓ invalid dynamic rule: destructuring  (5 ms)
        ✓ invalid dynamic rule: rest param  (4 ms)
        ✓ valid dynamic rule (14 ms)
      style declarations
        ✓ invalid property: non-static value (4 ms)
        ✓ invalid value: boolean (4 ms)
        ✓ invalid value: non-static (19 ms)
        ✓ invalid value: array of objects (3 ms)
        ✓ valid value: number (3 ms)
        ✓ valid value: string (3 ms)
        ✓ valid value: array of numbers (4 ms)
        ✓ valid value: array of strings (2 ms)
        ✓ valid value: single-expr function call (5 ms)
        ✓ valid value: single-expr function call in object (6 ms)
        ✓ valid value: local variable (3 ms)
        ✓ valid value: pure complex expression (5 ms)
        ✓ valid value: template literal expressions (4 ms)
        ✓ valid object value: key is "default" (2 ms)
        ✓ valid object value: key starts with ":" (3 ms)
        ✓ valid object value: multiple valid keys (2 ms)
        ✓ valid object value: nested pseudo-classes (15 ms)
        ✓ invalid CSS variable: unclosed function (27 ms)
        ✓ invalid CSS variable: unprefixed custom property (3 ms)
        ✓ valid CSS variable: defined custom properties (3 ms)
        ✓ valid CSS variable: undefined custom properties (7 ms)
        ✓ [legacy] pseudo-classes must start with ":" character (2 ms)
        ○ skipped invalid value: empty object
        ○ skipped invalid object value: contains disallowed key
    [validation] invalid properties
      ○ skipped invalid property: "animation"
      ○ skipped invalid property: "background"
      ○ skipped invalid property: "border"
      ○ skipped invalid property: "borderBlock"
      ○ skipped invalid property: "borderBlockEnd"
      ○ skipped invalid property: "borderBlockStart"
      ○ skipped invalid property: "borderBottom"
      ○ skipped invalid property: "borderImage"
      ○ skipped invalid property: "borderInline"
      ○ skipped invalid property: "borderInlineEnd"
      ○ skipped invalid property: "borderInlineStart"
      ○ skipped invalid property: "borderLeft"
      ○ skipped invalid property: "borderRight"
      ○ skipped invalid property: "borderTop"
      ○ skipped invalid property: "flexFlow"
      ○ skipped invalid property: "font"
      ○ skipped invalid property: "listStyle"
      ○ skipped invalid property: "textDecoration"
      ○ skipped invalid property: "transition"
    [validation] invalid values
      ○ skipped invalid value: "block !important" for "display"
      ○ skipped invalid value: "top left" for "backgroundPosition"
      ○ skipped invalid value: "red blue" for "borderColor"
      ○ skipped invalid value: "1px 2px" for "borderRadius"
      ○ skipped invalid value: "solid dashed" for "borderStyle"
      ○ skipped invalid value: "1px 2px" for "borderWidth"
      ○ skipped invalid value: "1px 2px" for "inset"
      ○ skipped invalid value: "1px 2px" for "insetBlock"
      ○ skipped invalid value: "1px 2px" for "insetInline"
      ○ skipped invalid value: "1 1 0" for "flex"
      ○ skipped invalid value: "1 1 0" for "grid"
      ○ skipped invalid value: "1px 2px" for "margin"
      ○ skipped invalid value: "1px 2px" for "marginBlock"
      ○ skipped invalid value: "1px 2px" for "marginInline"
      ○ skipped invalid value: "1px solid red" for "outline"
      ○ skipped invalid value: "hidden visible" for "overflow"
      ○ skipped invalid value: "1px 2px" for "padding"
      ○ skipped invalid value: "1px 2px" for "paddingBlock"
      ○ skipped invalid value: "1px 2px" for "paddingInline"
      ○ skipped invalid value: "all" for "transitionProperty"
      ○ skipped invalid value: "bottom" for "transitionProperty"
      ○ skipped invalid value: "end" for "transitionProperty"
      ○ skipped invalid value: "height" for "transitionProperty"
      ○ skipped invalid value: "inset" for "transitionProperty"
      ○ skipped invalid value: "inset-block" for "transitionProperty"
      ○ skipped invalid value: "inset-inline" for "transitionProperty"
      ○ skipped invalid value: "inset-block-end" for "transitionProperty"
      ○ skipped invalid value: "inset-block-start" for "transitionProperty"
      ○ skipped invalid value: "inset-inline-end" for "transitionProperty"
      ○ skipped invalid value: "inset-inline-start" for "transitionProperty"
      ○ skipped invalid value: "margin" for "transitionProperty"
      ○ skipped invalid value: "left" for "transitionProperty"
      ○ skipped invalid value: "padding" for "transitionProperty"
      ○ skipped invalid value: "right" for "transitionProperty"
      ○ skipped invalid value: "start" for "transitionProperty"
      ○ skipped invalid value: "top" for "transitionProperty"
      ○ skipped invalid value: "width" for "transitionProperty"

PASS __tests__/legacy/stylex-transform-legacy-shorthands-test.js
  legacy-shorthand-expansion style resolution (enableLogicalStylesPolyfill: true)
    while using RN non-standard properties
      ✓ padding: with longhand property collisions (106 ms)
      ✓ padding: with null longhand property collisions (12 ms)
      ✓ borderColor: basic shorthand (7 ms)
      ✓ borderWidth: basic shorthand (6 ms)
    while using standard logical properties
      ✓ padding: basic shorthand (8 ms)
      ✓ margin: basic shorthand (6 ms)
      ✓ paddingInline: basic shorthand (6 ms)
      ✓ paddingInline: basic multivalue shorthand (5 ms)
      ✓ padding: with longhand property collisions (14 ms)
      ✓ padding: with longhand directional and logical property collisions (12 ms)
      ✓ padding: with null longhand property collisions (6 ms)
      ✓ marginInline: basic shorthand (5 ms)
      ✓ marginInline: basic multivalue shorthand (6 ms)
      ✓ marginBlock: basic multivalue shorthand (4 ms)
      ✓ margin: with longhand property collisions (6 ms)
      ✓ margin: with null longhand property collisions (6 ms)
      ✓ border: basic shorthand (5 ms)
      ✓ borderInlineColor: basic shorthand (8 ms)
      ✓ borderInlineWidth: basic shorthand (3 ms)
      ✓ inset: basic shorthand (4 ms)
      ✓ inset: multivalue shorthand (4 ms)
      ✓ insetInline: basic shorthand (3 ms)
      ✓ insetInline: multivalue shorthand (4 ms)
      ✓ insetBlock: basic shorthand (3 ms)
      ✓ insetBlock: multivalue shorthand (3 ms)
      ✓ listStyle: basic shorthand (6 ms)
      ✓ listStyle: multi-value shorthand (7 ms)
      ✓ listStyle: with longhand collisions (6 ms)
      ✓ listStyle: invalid values (155 ms)
  legacy-shorthand-expansion resolution (enableLogicalStylesPolyfill: false)
    while using RN non-standard properties
      ✓ padding: with longhand property collisions (5 ms)
      ✓ padding: with null longhand property collisions (3 ms)
      ✓ borderColor: basic shorthand (2 ms)
      ✓ borderWidth: basic shorthand (3 ms)
    while using standard logical properties
      ✓ padding: basic shorthand (4 ms)
      ✓ margin: basic shorthand (3 ms)
      ✓ paddingInline: basic shorthand (3 ms)
      ✓ padding: with longhand property collisions (3 ms)
      ✓ paddingBlock: basic multivalue shorthand (4 ms)
      ✓ padding: with null longhand property collisions (3 ms)
      ✓ marginInline: basic shorthand (13 ms)
      ✓ margin: with longhand property collisions (4 ms)
      ✓ margin: with null longhand property collisions (5 ms)
      ✓ border: basic shorthand (4 ms)
      ✓ borderInlineColor: basic shorthand (3 ms)
      ✓ borderInlineWidth: basic shorthand (2 ms)

PASS __tests__/transform-stylex-create-test.js
  @stylexjs/babel-plugin
    [transform] stylex.create()
      static styles
        ✓ unused style object (80 ms)
        ✓ style object (12 ms)
        ✓ nested referenced style object (19 ms)
        ✓ multiple nested referenced style object (16 ms)
        ✓ style object (multiple) (10 ms)
        ✓ style object with custom properties (6 ms)
        ✓ style object with shortform properties (14 ms)
        ✓ style object with shortform properties (styleResolution: "property-specificity") (13 ms)
        ✓ style object requiring vendor prefixes (7 ms)
        simple values
          ✓ set custom property (7 ms)
          ✓ set "transitionProperty" (15 ms)
          ✓ set "willChange" (26 ms)
          ✓ use "attr()" function (5 ms)
          ✓ use array (fallbacks) (4 ms)
          ✓ use CSS variable (4 ms)
          ✓ use string containing CSS variables (5 ms)
        function value: stylex.firstThatWorks()
          ✓ args: value, value (4 ms)
          ✓ args: value, var (3 ms)
          ✓ args: var, value (3 ms)
          ✓ args: var, var (3 ms)
          ✓ args: var, var, var (4 ms)
          ✓ args: func, var, value (3 ms)
          ✓ args: func, var, value, value (3 ms)
        object values: pseudo-classes
          ✓ invalid pseudo-class (4 ms)
          ✓ valid pseudo-class (3 ms)
          ✓ pseudo-class generated order (4 ms)
          ✓ pseudo-class generated order (nested, same value) (16 ms)
          ✓ pseudo-class generated order (nested, different value) (5 ms)
          ✓ pseudo-class with array fallbacks (3 ms)
        object values: pseudo-elements
          ✓ "::before" and "::after" (3 ms)
          ✓ "::placeholder" (2 ms)
          ✓ "::thumb" (3 ms)
          ✓ "::before" containing pseudo-classes (3 ms)
        object values: queries
          ✓ media queries with last query wins (113 ms)
          ✓ media queries (4 ms)
          ✓ supports queries (3 ms)
          ✓ media query with pseudo-classes (3 ms)
          ✓ media query with array fallbacks (2 ms)
      dynamic styles
        ✓ style function (4 ms)
        ✓ style function and object (3 ms)
        ✓ style function with custom properties (3 ms)
        safe conditional checks
          ✓ template literal expressions (8 ms)
          ✓ binary expressions (7 ms)
          ✓ unary expressions (5 ms)
          ✓ logical expressions with safe left side (5 ms)
          ✓ logical expressions with safe right side (3 ms)
          ✓ nullish coalescing with safe left side (4 ms)
          ✓ conditional expressions with safe branches (3 ms)
          ✓ conditional expressions with safe branches (3 ms)
          ✓ complex nested safe expressions (6 ms)
          ✓ complex safe ternary expressions (14 ms)
          ✓ template literal expressions (3 ms)
          ✓ binary expressions (7 ms)
          ✓ unary expressions (3 ms)
          ✓ logical expressions with safe left side (3 ms)
          ✓ logical expressions with safe right side (3 ms)
          ✓ nullish coalescing with safe left side (4 ms)
          ✓ conditional expressions with safe branches (3 ms)
          ✓ complex nested safe expressions (5 ms)
        simple values
          ✓ set number unit (3 ms)
          ✓ set mixed values (4 ms)
          ✓ set custom property (4 ms)
        object values: pseudo-classes
          ✓ valid pseudo-class (4 ms)
          ✓ pseudo-class generated order (4 ms)
        object values: pseudo-elements
          ✓ "::before" and "::after" (3 ms)
          ✓ "::placeholder" (3 ms)
          ✓ "::thumb" (3 ms)
          ✓ "::before" containing pseudo-classes (3 ms)
        object values: queries
          ✓ media queries (4 ms)
          ✓ supports queries (3 ms)
          ✓ media query with pseudo-classes (4 ms)
      options `debug:true`
        ✓ adds debug data (3 ms)
        ✓ adds debug data for npm packages (3 ms)
        ✓ adds debug data (haste) (3 ms)
        ✓ adds debug data for npm packages (haste) (3 ms)
      legacy / deprecated
        ✓ transforms nested pseudo-class to CSS (4 ms)
        ✓ transforms legacy pseudo class within a pseudo element (4 ms)
        ✓ transforms pseudo elements within legacy pseudo class (2 ms)
        ✓ transforms pseudo elements sandwiched within pseudo classes (3 ms)
        ✓ transforms media queries (3 ms)
        ✓ transforms supports queries (3 ms)
        ✓ transforms dynamic shorthands in legacy-expand-shorthands mode (7 ms)
        pseudo-classes
          ✓ transforms invalid pseudo-class (6 ms)
          ✓ transforms valid pseudo-classes in order (3 ms)
          ✓ transforms pseudo-class with array value as fallbacks (2 ms)

PASS __tests__/validation-stylex-defineVars-test.js
  @stylexjs/babel-plugin
    [validation] stylex.defineVars()
      ✓ invalid export: not bound (487 ms)
      ✓ invalid argument: none (6 ms)
      ✓ invalid argument: too many (6 ms)
      ✓ invalid argument: number (8 ms)
      ✓ invalid argument: string (12 ms)
      ✓ invalid argument: non-static (6 ms)
      ✓ valid argument: object (46 ms)
      ✓ invalid key: non-static (7 ms)
      ✓ invalid value: non-static (10 ms)
      ✓ valid value: number (14 ms)
      ✓ valid value: string (18 ms)
      ✓ valid value: keyframes (17 ms)

PASS __tests__/legacy/stylex-transform-call-test.js (5.093 s)
  @stylexjs/babel-plugin
    [transform] stylex() call
      ✓ empty stylex call (66 ms)
      ✓ basic stylex call (27 ms)
      ✓ stylex call with number (8 ms)
      ✓ stylex call with computed number (9 ms)
      ✓ stylex call with computed number (8 ms)
      ✓ stylex call with computed string (6 ms)
      ✓ stylex call with multiple namespaces (8 ms)
      ✓ stylex call within variable declarations (9 ms)
      ✓ stylex call with styles variable assignment (7 ms)
      ✓ stylex call within export declarations (11 ms)
      ✓ stylex call with short-form properties (5 ms)
      ✓ stylex call with exported short-form properties (6 ms)
      ✓ stylex call keeps only the styles that are needed (11 ms)
      ✓ stylex keeps all null when applied after unknown (11 ms)
      ✓ stylex call keeps only the nulls that are needed (14 ms)
      ✓ stylex call using styles with pseudo selectors (4 ms)
      ✓ stylex call using styles with pseudo selectors within property (11 ms)
      ✓ stylex call using styles with Media Queries (4 ms)
      ✓ stylex call using styles with Media Queries within property (4 ms)
      ✓ stylex call using styles with Support Queries (3 ms)
      ✓ stylex call using styles with Support Queries within property (3 ms)
      with contextual styles and collisions
        ✓ stylex call with conditions (5 ms)
        ✓ stylex call with conditions - skip conditional (5 ms)
        ✓ stylex call with property collisions (4 ms)
        ✓ stylex call with reverting by null (4 ms)
        ✓ stylex call with short-form property collisions (7 ms)
        ✓ stylex call with short-form property collisions with null (5 ms)
        ✓ stylex call with conditions and collisions (5 ms)
        ✓ stylex call with conditions and collisions - skip conditional (6 ms)
        ✓ stylex call with conditions and null collisions (4 ms)
        ✓ stylex call with conditions and null collisions - skip conditional (4 ms)
      with plugin options
        ✓ dev:true and enableInlinedConditionalMerge:false (14 ms)
        ✓ dev:true (8 ms)
    Keep stylex.create when needed
      ✓ stylex call with computed key access (3 ms)
      ✓ stylex keeps spaces around operators (5 ms)
      ✓ stylex call with composition of external styles (3 ms)
      ✓ stylex call using exported styles with pseudo selectors, and queries (3 ms)
      ✓ stylex call using exported styles with pseudo selectors, and queries within props (3 ms)
      even when stylex calls come first
        ✓ stylex call with computed key access (3 ms)
        ✓ stylex call with mixed access (5 ms)
        ✓ stylex call with composition of external styles (2 ms)
        ✓ stylex call with composition border shorthands with external styles (9 ms)
        ✓ stylex call using exported styles with pseudo selectors, and queries (4 ms)
    Setting custom import paths
      ✓ Basic stylex call (3 ms)
      ✓ Named import from custom source (3 ms)
      ✓ Named import with other name from custom source (3 ms)
    Extreme use-cases
      ✓ Basic stylex call (344 ms)
      ✓ Basic exported stylex.create call (9 ms)
      ✓ Basic stylex call - skip conditional (8 ms)
      ✓ Basic stylex call (7 ms)
    Accounts for edge-cases
      ✓ Using stylex() in a for loop (3 ms)
      ✓ Using stylex.props() in a for loop (2 ms)
      ✓ trying to use an unknown style in stylex() (3 ms)
      ✓ trying to use an unknown style in stylex.props() (2 ms)

----------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                         |   80.95 |    76.49 |   66.15 |   81.01 |
 src                              |   82.11 |    76.92 |   93.33 |   82.62 |
  index.js                        |   82.11 |    76.92 |   93.33 |   82.62 | 90-120,134,142,168,175,276,321,379,409,414-418,439-442,567,573-577
 src/shared                       |   94.58 |    80.28 |   95.34 |   94.73 |
  common-types.js                 |       0 |        0 |       0 |       0 |
  hash.js                         |     100 |       75 |     100 |     100 | 25
  index.js                        |     100 |      100 |     100 |     100 |
  messages.js                     |   96.87 |      100 |   83.33 |   96.87 | 26
  stylex-consts-utils.js          |       0 |        0 |       0 |       0 |
  stylex-create-theme.js          |   95.65 |       80 |     100 |   95.65 | 30
  stylex-create.js                |     100 |    93.33 |     100 |     100 | 43
  stylex-defaultMarker.js         |     100 |    33.33 |     100 |     100 | 14-17
  stylex-define-consts.js         |     100 |      100 |     100 |     100 |
  stylex-define-vars.js           |     100 |    94.44 |     100 |     100 | 89
  stylex-first-that-works.js      |     100 |      100 |     100 |     100 |
  stylex-keyframes.js             |     100 |       80 |     100 |     100 | 35-37
  stylex-position-try.js          |   96.15 |    66.66 |     100 |      96 | 77
  stylex-vars-utils.js            |   81.25 |    76.47 |     100 |   81.25 | 40,44,76,79,83,87
  stylex-view-transition-class.js |   95.65 |       50 |     100 |   95.45 | 84
  validate.js                     |       0 |        0 |       0 |       0 | 13-26
 src/shared/physical-rtl          |   74.68 |     81.6 |   61.29 |   74.68 |
  generate-ltr.js                 |   68.96 |    85.18 |   58.13 |   68.96 | 106-166,178-180
  generate-rtl.js                 |      78 |       80 |      64 |      78 | 32,54,175-235,243-245,250,269
 src/shared/preprocess-rules      |   53.16 |    74.62 |   35.23 |   53.09 |
  PreRule.js                      |   66.66 |    33.33 |   77.77 |   65.62 | 42,91-100,123,139-145
  application-order.js            |   16.31 |      100 |   14.49 |   16.31 | 67-122,136,157,170-246,282-407,423-477,501-511,522-561,596-717,741-834
  basic-validation.js             |   87.17 |    86.95 |     100 |   87.17 | 38,70,73,83,91
  flatten-raw-style-obj.js        |   91.22 |    89.36 |     100 |   91.22 | 34,90-93,117
  index.js                        |   81.81 |    66.66 |      50 |   81.81 | 25,48
  legacy-expand-shorthands.js     |    64.8 |    75.75 |   50.72 |   65.32 | 116-132,174-176,240-245,262,280-281,304,313,334,373-378,392-393,427,447-475,496-515
  property-specificity.js         |   44.61 |      100 |   41.93 |   44.61 | 23-82,106-128,151-166,183-186,197-198,211-214
 src/shared/utils                 |   93.46 |    83.83 |   84.37 |   93.69 |
  Rule.js                         |       0 |      100 |       0 |       0 | 35-89
  convert-to-className.js         |   97.36 |    89.47 |     100 |   97.22 | 100
  dashify.js                      |     100 |      100 |     100 |     100 |
  default-options.js              |     100 |      100 |     100 |     100 |
  file-based-identifier.js        |     100 |      100 |     100 |     100 |
  generate-css-rule.js            |     100 |    85.71 |     100 |     100 | 59
  normalize-value.js              |   85.71 |       75 |     100 |   85.71 | 44
  object-utils.js                 |   53.65 |    30.76 |   77.77 |      55 | 29-39,60-64,133-143
  property-priorities.js          |   99.79 |    85.41 |     100 |   99.79 | 741
  rule-utils.js                   |    90.9 |    83.33 |     100 |    90.9 | 52,55
  split-css-value.js              |   81.25 |     87.5 |      75 |   86.66 | 37,50
  transform-value.js              |      96 |    96.29 |     100 |      96 | 86
 src/shared/utils/normalizers     |   97.97 |    94.31 |     100 |   97.97 |
  convert-camel-case-values.js    |   88.88 |       90 |     100 |   88.88 | 26
  detect-unclosed-fns.js          |     100 |      100 |     100 |     100 |
  font-size-px-to-rem.js          |     100 |      100 |     100 |     100 |
  leading-zero.js                 |     100 |       90 |     100 |     100 | 32
  quotes.js                       |     100 |      100 |     100 |     100 |
  timings.js                      |     100 |      100 |     100 |     100 |
  whitespace.js                   |     100 |    94.11 |     100 |     100 | 52
  zero-dimensions.js              |   96.15 |     92.3 |     100 |   96.15 | 47
 src/shared/when                  |     100 |    45.45 |     100 |     100 |
  when.js                         |     100 |    45.45 |     100 |     100 | 15-18,46-118
 src/utils                        |   72.86 |    65.69 |   76.85 |   72.67 |
  add-sourcemap-data.js           |   85.29 |       75 |     100 |   85.29 | 89-96,116
  ast-helpers.js                  |   61.72 |       52 |   77.77 |   62.02 | 27,52-53,73,85-123,134,155,159,175,187
  dev-classname.js                |       0 |        0 |       0 |       0 | 23-68
  evaluate-path.js                |   72.31 |     64.3 |   78.94 |   72.02 | 103-157,207,234-235,297-298,302-303,307-308,333-346,354-357,386-389,443,453,461,468,472,489,497,502-516,534-536,549,554,631-637,643-653,657,663-672,696-706,710,722-728,743,788-789,815-816
  evaluation-errors.js            |   93.33 |      100 |      50 |   93.33 | 53
  helpers.js                      |       0 |      100 |       0 |       0 | 11
  js-to-ast.js                    |     100 |      100 |     100 |     100 |
  state-manager.js                |   78.53 |    73.72 |   74.35 |   78.07 | 348-351,386-393,412,449,466,491-492,551-560,656-680,715-727,754-763
  validate.js                     |   74.59 |    64.47 |   82.05 |   74.59 | 30,74-78,115-119,179-198,260-277
 src/visitors                     |   86.79 |    82.43 |   91.12 |   86.97 |
  imports.js                      |   54.65 |     55.1 |     100 |   54.65 | 22,74,89,120-174
  parse-stylex-create-arg.js      |    85.1 |    76.56 |     100 |   84.94 | 53,61,97,107-108,137,140-145,150,173,189
  stylex-create-theme.js          |   78.78 |    82.97 |   66.66 |   78.78 | 58,62,91-108,120,147,172-175
  stylex-create.js                |   93.78 |    84.86 |    90.9 |   94.15 | 69-70,170,183,252,257,323,335-336,492
  stylex-default-marker.js        |    87.5 |     92.3 |     100 |    87.5 | 43
  stylex-define-consts.js         |   91.89 |    91.42 |     100 |   96.96 | 68
  stylex-define-vars.js           |   87.93 |    89.74 |   77.77 |   87.93 | 58,64,101-106,118,149
  stylex-keyframes.js             |   83.78 |    82.35 |      75 |   83.78 | 33,50,65,76,90,115
  stylex-merge.js                 |    92.9 |    91.42 |     100 |    92.8 | 85-86,95-97,103-104,117,152,218
  stylex-position-try.js          |    87.5 |       80 |     100 |   87.17 | 54,60,85,109,169
  stylex-props.js                 |   92.52 |    90.97 |      92 |   92.98 | 80,109-110,119-121,127-128,141,176,262,288
  stylex-view-transition-class.js |   90.19 |       80 |     100 |   90.19 | 58,64,111,143,162
----------------------------------|---------|----------|---------|---------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Test Suites: 1 skipped, 34 passed, 34 of 35 total
Tests:       64 skipped, 721 passed, 785 total
Snapshots:   700 passed, 700 total
Time:        7.033 s
Ran all test suites.

> @stylexjs/cli@0.16.1 test
> jest

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    node /app/packages/@stylexjs/cli/lib/index.js -i ./source -o ./src

      at log (__tests__/compile-stylex-folder-test.js:38:11)

  console.log
    node /app/packages/@stylexjs/cli/lib/index.js -i /app/packages/@stylexjs/cli/__tests__/__mocks__/source -o /app/packages/@stylexjs/cli/__tests__/__mocks__/src

      at log (__tests__/compile-stylex-folder-test.js:38:11)

  console.log
    node /app/packages/@stylexjs/cli/lib/index.js -i ./source ./source2 -o ./src ./src2

      at log (__tests__/compile-stylex-folder-test.js:38:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: index.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: components/button.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: pages/home.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: components/button.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: pages/home.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: /app/packages/__custom_cache__/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: /app/packages/__custom_cache__/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: /app/packages/__custom_cache__/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    [stylex] Using cached CSS for: index.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    [stylex] Using cached CSS for: components/button.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    [stylex] Using cached CSS for: pages/home.js

      at log (src/transform.js:129:13)

PASS __tests__/compile-stylex-folder-test.js
  compiling __mocks__/source to __mocks__/src correctly such that it matches __mocks__/snapshot
    ✓ /app/packages/@stylexjs/cli/__tests__/__mocks__/source (3 ms)
    ✓ /app/packages/@stylexjs/cli/__tests__/__mocks__/src (175 ms)
  cli works with -i and -o args
    ✓ script start (446 ms)
    ✓ script runs with absolute input and output paths (390 ms)
  cli works with multiple inputs and outputs
    ✓ script compiles multiple directories (498 ms)
  individual testing of util functions
    ✓ file to relative css path (1 ms)
  cache mechanism works as expected
    ✓ first compilation populates the cache (65 ms)
    ✓ skips transformation when cache is valid (19 ms)
    ✓ recompiles when config changes (51 ms)
    ✓ recompiles when babelrc changes (45 ms)
    ✓ recompiles when input changes (31 ms)
  CLI works with a custom cache path
    ✓ uses the custom cache path for caching (29 ms)
    ✓ skips transformation when cache is valid (18 ms)
  findProjectRoot
    ✓ finds root based on package.json (1 ms)
    ✓ finds root based on deno.json (2 ms)
    ✓ finds root based on .git (1 ms)

Test Suites: 1 passed, 1 total
Tests:       16 passed, 16 total
Snapshots:   0 total
Time:        3.691 s
Ran all test suites.

> @stylexjs/eslint-plugin@0.16.1 test
> jest --detectOpenHandles --coverage

PASS __tests__/stylex-valid-styles-test.js
  stylex-valid-styles
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const start = 'start';
      const styles = stylex.create({
        default: {
          textAlign: start,
          MozOsxFontSmoothing: 'grayscale',
          WebkitFontSmoothing: 'antialiased',
          transitionProperty: 'opacity, transform',
          transitionDuration: '0.3s',
          transitionTimingFunction: 'ease',
        }
      });
     (96 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        validStyle: {
          marginInlineStart: "10px",
          marginInlineEnd: "5px",
          marginInline: "15px",
          marginBlock: "20px",
          paddingInlineStart: "8px",
          paddingInlineEnd: "12px",
          paddingInline: "10px",
          paddingBlock: "16px",
        },
      });
     (9 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const start = 'start';
      const grayscale = 'grayscale';
      const styles = stylex.create({
        default: {
          textAlign: start,
          MozOsxFontSmoothing: grayscale,
          WebkitFontSmoothing: 'antialiased',
          transitionProperty: 'opacity, transform',
          transitionDuration: '0.3s',
          transitionTimingFunction: 'ease',
        }
      });
     (16 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const bounce = stylex.keyframes({
        '0%': {
          transform: 'translateY(0)',
        },
        '50%': {
          transform: 'translateY(-10px)',
        },
        '100%': {
          transform: 'translateY(0)',
        },
      });
      const styles = stylex.create({
        default: {
          animationName: bounce,
          animationDuration: '1s',
          animationIterationCount: 'infinite',
        }
      });
     (22 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        default: {
          animationName: stylex.keyframes({
            '0%': {
              transform: 'translateY(0)',
            },
            '50%': {
              transform: 'translateY(-10px)',
            },
            '100%': {
              transform: 'translateY(0)',
            },
          }),
          animationDuration: '1s',
          animationIterationCount: 'infinite',
        }
      });
     (7 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const bounce = stylex.keyframes({
        '0%': {
          transform: 'translateY(0)',
        },
        '50%': {
          transform: 'translateY(-10px)',
        },
        '100%': {
          transform: 'translateY(0)',
        },
      });
      const shimmy = stylex.keyframes({
        '0%': {
          backgroundPosition: '-468px 0',
        },
        '100%': {
          backgroundPosition: '468px 0',
        },
      });
      const styles = stylex.create({
        default: {
          animationName: `${bounce}, ${shimmy}`,
          animationDuration: '1s',
          animationIterationCount: 'infinite',
        }
      });
     (9 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const TRANSPARENT = 0;
        const OPAQUE = 1;
        const styles = stylex.create({
          default: {
            opacity: TRANSPARENT,
            ':hover': {
              opacity: OPAQUE,
            },
            ':focus-visible': {
              borderWidth: 1,
              borderStyle: 'solid',
              borderColor: 'blue',
            }
          }
        });
       (8 ms)
      ✓
        import { keyframes as kf, create } from 'stylex';
        const fadeIn = kf({
          '0%': {
            opacity: 0,
          },
          '100%': {
            opacity: 1,
          },
        });
        const styles = create({
          main: {
            animationName: fadeIn,
          },
        });
       (5 ms)
      ✓
        import * as stlx from 'stylex';
        const fadeIn = stlx.keyframes({
          '0%': {
            opacity: 0,
          },
          '100%': {
            opacity: 1,
          },
        });
        const styles = create({
          main: {
            animationName: fadeIn,
          },
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            width: '50%',
            '@media (max-width: 600px)': {
              width: '100%',
            }
          }
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          base: {
            width: {
              "@starting-style": {
                default: 10,
                ":hover": 20,
              }
            },
          },
        })
       (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {marginInlineStart: 5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({"default-1": {marginInlineStart: 5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({["default-1"]: {marginInlineStart: 5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({0: {marginInlineStart: 5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({[0]: {marginInlineStart: 5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {marginInlineStart: -5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {margin: 0}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {padding: '0'}}); (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlign: 'start'}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         textAlign: 'start',
       }
     }); (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         marginInlineStart: Math.abs(-1),
         marginInlineEnd: `${Math.floor(5 / 2)}px`,
         paddingInlineStart: Math.ceil(5 / 2),
         paddingInlineEnd: Math.round(5 / 2),
       },
     }) (5 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
    const FOO = 5;
     stylex.create({
       default: {
         scrollMarginTop: FOO + 5,
         scrollMarginBottom: FOO * 5,
       },
     }) (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     const x = 5;
     stylex.create({
       default: {
         marginInlineStart: Math.abs(x),
         marginInlineEnd: `${Math.floor(x)}px`,
         paddingInlineStart: Math.ceil(-x),
         paddingInlineEnd: Math.round(x / 2),
       },
     }) (9 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'WebkitAppearance': 'textfield',
         '::-webkit-search-decoration': {
           appearance: 'none',
         },
         '::-webkit-search-cancel-button': {
           appearance: 'none',
         },
         '::-webkit-search-results-button': {
           appearance: 'none',
         },
         '::-webkit-search-results-decoration': {
           appearance: 'none',
         },
       },
     }) (6 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'WebkitAppearance': 'textfield',
         '::-webkit-slider-thumb': {
           appearance: 'none',
         },
         '::-webkit-slider-runnable-track': {
           appearance: 'none',
         },
         '::-moz-range-thumb': {
           appearance: 'none',
         },
         '::-moz-range-track': {
           appearance: 'none',
         },
         '::-moz-range-progress': {
           appearance: 'none',
         },
       },
     }) (7 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': 'red',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': '#fff',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': '#fafbfc',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': '#fafbfcfc',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30rem',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30em',
       },
      }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30ch',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30ex',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30vh',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30vw',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'contain': '300px',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicSize': '300px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicSize': 'auto 300px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       a: {
         interpolateSize: 'numeric-only',
       },
       b: {
         interpolateSize: 'allow-keywords',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicInlineSize': '300px',
         'containIntrinsicBlockSize': '200px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicInlineSize': 'auto 300px',
         'containIntrinsicBlockSize': 'auto 200px',
       },
     }) (9 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicWidth': '300px',
         'containIntrinsicHeight': '200px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicWidth': 'auto 300px',
         'containIntrinsicHeight': 'auto 200px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30cm',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30mm',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30in',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30pc',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30pt',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '50%',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         fontWeight: 'var(--weight)',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
      default: {
        fontWeight: 'var(--🔴)',
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const red = 'var(--🔴)';
    stylex.create({
      default: {
        fontWeight: red,
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const red = 'var(--🔴)';
    stylex.create({
      default: {
        fieldSizing: 'fixed',
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const red = 'var(--🔴)';
    stylex.create({
      default: {
        fieldSizing: 'content',
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    import {TextTypeTokens as TextType, ColorTokens} from 'DspSharedTextTokens.stylex';
    stylex.create({
      root: {
        fontSize: TextType.fontSize,
        borderColor: ColorTokens.borderColor,
        paddingBottom: TextType.paddingBottom,
        fontFamily: `${TextType.defaultFontFamily}, ${TextType.fallbackFontFamily}`,
      }
    })
     (5 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    import { componentVars } from './bug.stylex';
    stylex.create({
      host: {
        [componentVars.color]: 'blue',
      },
    })
     (3 ms)
      ✓
    import * as stylex from'stylex';
    import { tokens } from 'tokens.stylex';
    stylex.create({
      root: (position) => ({
        [tokens.position]: `${position}px`,
      })
    })
     (4 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    import { vars } from './vars.stylex';
    import { varsJs } from './vars.stylex.js';
    import { varsTs } from './vars.stylex.ts';
    import { varsTsx } from './vars.stylex.tsx';
    import { varsJsx } from './vars.stylex.jsx';
    import { varsMjs } from './vars.stylex.mjs';
    import { varsCjs } from './vars.stylex.cjs';
    stylex.create({
      root: {
        [vars.color]: 'blue',
        [varsJs.color]: 'blue',
        [varsTs.color]: 'blue',
        [varsTsx.color]: 'blue',
        [varsJsx.color]: 'blue',
        [varsMjs.color]: 'blue',
        [varsCjs.color]: 'blue',
      },
    })
     (8 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    stylex.create({
      default: {
        positionTryFallbacks: 'none',
      },
    });
     (7 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const fallback = stylex.positionTry({
      positionAnchor: '--anchor',
      top: '0',
      left: '0',
      width: '100px',
      height: '100px'
    });
    stylex.create({
      anchor: {
        positionTryFallbacks: fallback,
      },
    });
     (5 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const fallback1 = stylex.positionTry({
      positionAnchor: '--anchor',
      top: '0',
      left: '0',
      width: '100px',
      height: '100px'
    });
    const fallback2 = stylex.positionTry({
      positionAnchor: '--anchor',
      bottom: '0',
      right: '0',
      width: '100px',
      height: '100px'
    });
    stylex.create({
      anchor: {
        positionTryFallbacks: `${fallback1}, ${fallback2}`,
      },
    });
     (6 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            ':focus': {
              ':hover': {
                ':active': {
                  color: 'red'
                }
              }
            }
          }
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = {default: {width: '30pt'}};
        stylex.create(styles);
       (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
    import { FOO } from 'foo';
     stylex.create({
       default: {
         scrollMarginTop: FOO + 5,
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
    const FOO = 'bad string';
     stylex.create({
       default: {
         scrollMarginTop: FOO + 5,
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlin: 'left'}}); (7 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlin: 'left'}}); (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {["textAlin"]: 'left'}}); (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            marginStart: '10px',
            marginEnd: '5px',
            marginHorizontal: '15px',
            marginVertical: '15px',
            paddingStart: '10px',
            paddingEnd: '5px',
            paddingHorizontal: '5px',
            paddingVertical: '15px',
          },
        });
       (25 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            borderVerticalWidth: '2px',
            borderVerticalStyle: 'solid',
            borderVerticalColor: 'red',
            borderHorizontalWidth: '1px',
            borderHorizontalStyle: 'dashed',
            borderHorizontalColor: 'blue',
            borderStartWidth: '2px',
            borderStartStyle: 'solid',
            borderStartColor: 'green',
            borderEndWidth: '3px',
            borderEndStyle: 'dotted',
            borderEndColor: 'purple',
          },
        });
       (39 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            borderTopStartRadius: '4px',
            borderTopEndRadius: '5px',
            borderBottomStartRadius: '6px',
            borderBottomEndRadius: '7px',
          },
        });
       (8 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            end: '5px',
            start: '10px',
          },
        });
       (5 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlign: 'lfet'}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {fontWeight: 10001}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {content: 100 + 100}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {':hover': {textAlin: 'left'}}}); (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {':focus': {textAlign: 'lfet'}}}); (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            ':focs': {
              textAlign: 'left'
            }
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            ':focus': {
              ':hover': {
                textAlign: 'left'
              }
            }
          }
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const bounce = stylex.keyframes({
          '0%': {
            transform: 'translateY(0)',
          },
          '50%': {
            transform: 'translateY(-10px)',
          },
          '100%': {
            transform: 'translateY(0)',
          },
        });
        const styles = stylex.create({
          default: {
            animationName: bob,
            animationDuration: '1s',
            animationIterationCount: 'infinite',
          }
        });
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px solid blue",
          }
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: '1px solid rgba(var(--black), 0.0975)',
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "solid blue 1px",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "blue 1px solid",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px blue solid",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px solid",
          }
        });
       (7 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px var(--foo)",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px",
          }
        });
       (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "none",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: 0,
          }
        });
       (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: 4,
          }
        });
       (3 ms)
      ✓
        import * as stylex from 'custom-import';
        const styles = stylex.create({
          default: {
            border: 4,
          }
        });
       (3 ms)
      ✓
      import * as stylex from'stylex';
      import {TextTypeTokens as TextType, ColorTokens} from 'DspSharedTextTokens';
      stylex.create({
        root: {
          fontSize: TextType.fontSize,
          borderColor: ColorTokens.borderColor,
          paddingBottom: TextType.paddingBottom,
          fontFamily: `${TextType.fontFamily}, ${TextType.fallbackFontFamily}`,
        }
      })
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          foo: {
            float: 'start',
            clear: 'start',
          },
          bar: {
            float: 'end',
            clear: 'end',
          }
        });
       (6 ms)
  stylex-valid-styles [restrictions]
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        default: {
          display: 'grid',
          grid: 'repeat(3, 80px) / auto-flow',
          gridTemplateColumns: 'repeat(3, 1fr)',
          gridTemplateRows: 'repeat(3, 1fr)',
        }
      });
     (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            grid: 'repeat(3, 80px) / auto-flow',
          }
        });
       (12 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
          }
        });
       (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          default: {
            textUnderlineOffset: 'auto',
          },
        });
       (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          default: {
            textUnderlineOffset: '1px',
          },
        });
       (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          default: {
            textUnderlineOffset: '100%',
          },
        });
       (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          base: {
            backgroundColor: {
              default: 'blue',
              ':focus-within': 'red',
            },
          },
        }); (13 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          foo: {
            '--bar': '0',
          }
        })
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            '::after': {
              ':hover': {
                content: ''
              }
            }
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply',
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply, darken, exclusion',
          },
        });
       (2 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
          }
        });
       (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            ':focus': {
              '::after': {
                content: ''
              }
            }
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            grid: 'repeat(3, 80px) / auto-flow',
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            gridTemplateColumns: 'repeat(3, 1fr)',
          }
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            grid: 'repeat(3, 80px) / auto-flow',
          }
        });
       (12 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        base:{
          background: ''
        },
      });
     (9 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          b:{
            textUnderlineOffset: '',
          },
        })
       (4 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          base:{
            background: ''
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            margin: "10",
            height: "10",
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            margin: "10",
            marginTop: "10.1",
            marginRight: "-10",
            marginBottom: "-1.0",
            marginLeft: "-0.10",
            padding: "0.1234",
            paddingTop: "100000",
            paddingRight: "10",
            paddingBottom: "10",
            paddingLeft: "10",
            width: "10",
            height: "10",
            minWidth: "10",
            maxWidth: "10",
            minHeight: "10",
            maxHeight: "10",
            top: "10",
            right: "10",
            bottom: "10",
            left: "10",
            inset: "10",
            borderWidth: "10",
            borderTopWidth: "10",
            borderRightWidth: "10",
            borderBottomWidth: "10",
            borderLeftWidth: "10",
            gap: "10",
            rowGap: "10",
            columnGap: "10",
            lineHeight: "10",
            outlineWidth: "10",
          },
        });
       (12 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            positionTryFallbacks: 42,
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const fallback1 = stylex.positionTry({
          positionAnchor: '--anchor',
          top: '0',
          left: '0',
          width: '100px',
          height: '100px'
        });
        const fallback2 = stylex.positionTry({
          positionAnchor: '--anchor',
          bottom: '0',
          right: '0',
          width: '100px',
          height: '100px'
        });
        stylex.create({
          anchor: {
            positionTryFallbacks: `${fallback1} ${fallback2}`,
          },
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const fallback1 = stylex.positionTry({
          positionAnchor: '--anchor',
          top: '0',
          left: '0',
          width: '100px',
          height: '100px'
        });
        const fallback2 = stylex.positionTry({
          positionAnchor: '--anchor',
          bottom: '0',
          right: '0',
          width: '100px',
          height: '100px'
        });
        stylex.create({
          anchor: {
            positionTryFallbacks: `${fallback1},${fallback2}`,
          },
        });
       (7 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          foo: {
            '--bar': '0',
          }
        })
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'invalid-blend-mode',
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply, darke, exclusion',
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply, darken,exclusion',
          },
        });
       (3 ms)

PASS __tests__/stylex-valid-shorthands-test.js
  stylex-valid-shorthands
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginInlineEnd: '14px',
          marginInlineStart: '14px',
        },
      })
     (32 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderRadius: 5,
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          margin: 10,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginInline: 0,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          paddingInline: 0,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginBlock: 10,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          paddingBlock: 10,
        },
      })
     (7 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          padding: 'calc(0.5 * 100px)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginTop: '10em',
          marginInlineEnd: '5em',
          marginBottom: '15em',
          marginInlineStart: '25em',
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: '1px',
          borderStyle: 'solid',
          borderColor: 'black',
          borderRadius: '4px'
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'rgb(0, 0, 0)',
          borderWidth: 'var(--border-width, 10)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'oklch(0.928 0.006 264.531)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'oklab(0.9 -0.003 -0.003)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'lch(50% 20 240)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'lab(50% -20 -20)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'color(display-p3 1 0.5 0)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'hwb(240 100% 50%)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'rgb(255 0 0 / 0.5)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'hsl(220 3% 15% / 10%)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'hsb(220 3% 15% / 10%)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'oklch(0.7 0.15 180 / 0.8)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'oklab(0.7 0.15 -0.1 / 0.8)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'lch(70% 15 180 / 0.8)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'lab(70% -10 20 / 0.8)',
        },
      })
     (2 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'color(display-p3 0.7 0.2 0.1 / 0.8)',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'hwb(220 3% 15% / 10%)',
        },
      })
     (3 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            marginInlineEnd: '14px',
            marginInlineStart: '14px',
          },
        })
       (3 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            borderRadius: 5,
          },
        })
       (7 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            margin: '10px 12px 13px 14px',
          },
        });
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderRight: '4px solid var(--fds-gray-10)'
        },
      })
     (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderRadius: '10px 15px 20px 25px',
          },
        });
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderRadius: '10px 15px 20px 25px',
          },
        });
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            marginHorizontal: '10px',
            marginVertical: '5px',
            paddingHorizontal: '10px',
            paddingVertical: '5px',
          },
        });
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            margin: '10px 10px 10px',
            marginInline: '15px 15px',
            padding: '20px 20px 20px 20px',
          },
        });
       (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              borderWidth: 'var(--vertical-border-width, 10) var(--horizontal-border-width, 15)',
            },
          })
         (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: 'calc(100% - 20px) calc(90% - 20px)',
          borderColor: 'var(--test-color, #ccc) linear-gradient(to right, #ff7e5f, #feb47b)',
          background: 'no-repeat center/cover, linear-gradient(to right, #ff7e5f, #feb47b)'
        },
      })
       (3 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              borderWidth: '1px 2px 3px 4px',
              borderStyle: 'solid dashed dotted double',
              borderColor: 'red green blue yellow',
              borderTop: '2px solid red',
              borderRight: '3px dashed green',
              borderBottom: '4px dotted blue',
              borderLeft: '5px double yellow',
              borderRadius: '10px 20px 30px 40px'
            },
          });
         (12 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            outline: '2px dashed red',
          },
        });
       (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              background: '#ff0 url("image.jpg") no-repeat fixed center / cover !important',
            },
          });
         (6 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              background: '#ff0 url("image.jpg") no-repeat fixed center / cover !important',
            },
          });
         (5 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '0px',
              font: 'italic small-caps bold 16px/1.5 "Helvetica Neue"',
              color: 'white',
            },
          });
         (6 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10px 12px 13px 14px !important',
            },
          });
         (11 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10px 12px 13px 14px !important',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10em 1em 5em 2em',
            },
          });
         (5 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10em 1em',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              marginInline: '10em 1em',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              marginBlock: '10em 1em',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              paddingBlock: '10em 1em',
            },
          });
         (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: '4px 5px 6px 7px',
          borderStyle: 'solid dashed dotted double',
          borderColor: 'var(--fds-gray-10) var(--fds-gray-20) var(--fds-gray-30) var(--fds-gray-40)',
        },
      })
       (7 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: '4px 5px 6px 7px',
          borderStyle: 'solid dashed dotted double',
          borderColor: 'var(--fds-gray-10) var(--fds-gray-20) var(--fds-gray-30) var(--fds-gray-40)',
        },
      })
       (7 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              paddingTop: '10em',
              paddingBottom: '1em',
              marginStart: '20em',
              marginEnd: '20em',
              paddingStart: '10em',
              paddingEnd: '1em',
            },
          });
         (5 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              padding: '10em 1em',
            },
          });
         (4 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            margin: '10px 12px',
          },
        });
       (4 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            padding: '5px 10px',
          },
        });
       (4 ms)

PASS __tests__/stylex-sort-keys-test.js
  stylex-sort-keys
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: {
            default: 'green',
            ':hover': 'red',
            '@media (min-width: 1540px)': 1366,
          },
          borderRadius: 10,
          display: 'flex',
        },
        dynamic: (color) => ({
          backgroundColor: color,
        })
      })
     (37 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          width: {
            default: '100%',
            '@supports (width: 100dvw)': {
              default: '100dvw',
              '@media (max-width: 1000px)': '100px',
            },
            ':hover': {
              color: 'red',
            }
          },
        },
      }); (6 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const obj = { fontSize: '12px' };
      const styles = cr({
        button: {
          alignItems: 'center',
          display: 'flex',
          ...obj,
          alignSelf: 'center',
          borderColor: 'black',
        }
      });
     (5 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const styles = cr({
        button: {
          alignItems: 'center',
          display: 'flex',

          alignSelf: 'center',
          borderColor: 'black',
        }
      });
     (3 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const styles = cr({
        button: {
          flex: 1,
          display: 'flex',
          borderColor: 'black',
          alignItems: 'center',
        }
      });
     (4 ms)
      ✓
      import { create as cr } from 'a';
      const styles = cr({
        button: {
          borderColor: 'black',
          display: 'flex',
        }
      });
     (4 ms)
      ✓
      import { css } from 'a';
      const styles = css.create({
        button: {
          borderColor: 'black',
          display: 'flex',
        }
      });
       (3 ms)
      ✓
        import { keyframes } from 'stylex';
        const someAnimation = keyframes({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            borderColor: 'green',
            display: 'flex',
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const someAnimation = stylex.keyframes({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            borderColor: 'green',
            display: 'flex',
          },
        });
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        nav: {
          maxWidth: {
            default: "1080px",
            "@media (min-width: 2000px)": "calc((1080 / 24) * 1rem)"
          },
          paddingVertical: 0,
        },
      }); (4 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            padding: 10,
            animationDuration: '100ms',
            fontSize: 12,
          }
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const obj = { fontSize: '12px' };
        const styles = stylex.create({
          button: {
            alignItems: 'center',
            display: 'flex',
            ...obj,
            borderColor: 'red', // ok
            alignSelf: 'center',
          }
        });
       (7 ms)
      ✓
        import { create } from 'stylex';
        const styles = create({
          button: {
            alignItems: 'center',
            display: 'flex',
            borderColor: 'red',
          }
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const someAnimation = stylex.keyframes({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            display: 'flex',
            borderColor: 'green',
          },
        });
       (5 ms)
      ✓
        import { keyframes as kf } from 'stylex';
        const someAnimation = kf({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            display: 'flex',
            borderColor: 'green',
          },
        });
       (11 ms)
      ✓
      import { create } from 'stylex';
      const styles = create({
        main: {
          display: 'flex',
          borderColor: {
            default: 'green',
            '@media (min-width: 1540px)': 1366,
            ':hover': 'red',
          },
          borderRadius: 10,
        },
      }); (6 ms)
      ✓
      import { create } from 'stylex';
      const styles = create({
        main: {
          backgroundColor: {
            // a
            ':hover': 'blue', // a
            // b
            default: 'red', // b
          },
        },
      }); (5 ms)
      ✓
      import { create } from 'stylex';
      const styles = create({
        foo: {
          display: 'flex',
          backgroundColor: {
            // foo
            default: 'red',
            // bar
            /* Block comment */
            ':hover': 'brown',
          },
        }
      });
       (6 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          // zee
          backgroundColor: 'red', // foo
          // bar
          alignItems: 'center' // eee
        }
      })
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: { backgroundColor: 'red', alignItems: 'center', }
      })
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: { // foo
          // foo
          backgroundColor: 'red', // bar
          // bar
          alignItems: 'center' // baz
          // qux
        }
      })
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          /*
          *
          * foo
          * bar
          * baz
          *
          */
          backgroundColor: 'red',
          alignItems: 'center'
        }
      })
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          backgroundColor: 'red',             //       foo
          alignItems: 'center'       // baz
        }
      })
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          /*
          * foo
          */ backgroundColor: 'red',
          alignItems: 'center'
        }
      })
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          // foo

          backgroundColor: 'red',
          alignItems: 'center'
        }
      })
       (4 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const styles = cr({
        button: {
          alignItems: 'center',
          display: 'flex',
          // foo

          // bar
          borderColor: 'black',
          alignSelf: 'center',
        }
      });
       (5 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            padding: 10,
            animationDuration: '100ms',
            fontSize: 12,
          }
        });
       (5 ms)

PASS __tests__/stylex-no-unused-test.js
  stylex-no-unused
    valid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderColor: {
              default: 'green',
              ':hover': 'red',
              '@media (min-width: 1540px)': 1366,
            },
            borderRadius: 10,
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        const sizeStyles = stylex.create({
          [8]: {
            height: 8,
            width: 8,
          },
          [10]: {
            height: 10,
            width: 10,
          },
          [12]: {
            height: 12,
            width: 12,
          },
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.main, styles.dynamic('red'), sizeStyles[8])}>
            </div>
          )
        }
       (34 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderColor: {
              default: 'green',
              ':hover': 'red',
              '@media (min-width: 1540px)': 1366,
            },
            borderRadius: 10,
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export const sizeStyles = stylex.create({
          [8]: {
            height: 8,
            width: 8,
          },
          [10]: {
            height: 10,
            width: 10,
          },
          [12]: {
            height: 12,
            width: 12,
          },
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.main, styles.dynamic('red'))}>
            </div>
          )
        }
       (11 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        const sizeStyles = stylex.create({
          [8]: {
            height: 8,
            width: 8,
          },
          [10]: {
            height: 10,
            width: 10,
          },
          [12]: {
            height: 12,
            width: 12,
          },
        });
        const widthStyles = stylex.create({
            widthModeConstrained: {
              width: 'auto',
            },
            widthModeFlexible: {
              width: '100%',
            },
        })
        // style used as export
        function getWidthStyles() {
          return widthStyles;
        }
        export default function TestComponent({ width: number}) {
          // style used as variable
          const red = styles.dynamic('red');
          const display = width > 10 ? sizeStyles[12] :  sizeStyles[8]
          return(
            <div {...stylex.props(styles.main, red, display)}>
            </div>
          )
        }
       (13 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: {
            default: 'green',
            ':hover': 'red',
            '@media (min-width: 1540px)': 1366,
          },
          borderRadius: 10,
          display: 'flex',
        },
        dynamic: (color) => ({
          backgroundColor: color,
        })
      });
      export default styles;
     (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      export default styles = stylex.create({
        maxDimensionsModal: {
          maxWidth: '90%',
          maxHeight: '90%',
        },
        halfWindowWidth: {
          width: '50vw',
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      export default stylex.create({
        maxDimensionsModal: {
          maxWidth: '90%',
          maxHeight: '90%',
        },
        halfWindowWidth: {
          width: '50vw',
        },
      })
     (7 ms)
      ✓
      import stylex from 'stylex';
      export default stylex.create({
        maxDimensionsModal: {
          maxWidth: '90%',
          maxHeight: '90%',
        }
      })
     (3 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            color: 'red',
          },
        });
        export default function Component() {
          return <div {...stylex.props(styles.main)} />;
        }
       (5 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            color: 'red',
          },
        });
        export default function Component() {
          return <div {...css.props(styles.main)} />;
        }
       (4 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderColor: {
              default: 'green',
              ':hover': 'red',
              '@media (min-width: 1540px)': 1366,
            },
            borderRadius: 10,
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.dynamic('red'))}>
            </div>
          )
        }
       (8 ms)
      ✓
        import * as customStylex from '@stylexjs/stylex';
        const styles = customStylex.create({
          main: {
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.dynamic('red'))}>
            </div>
          )
        } (7 ms)
      ✓
        import {create as c} from '@stylexjs/stylex';
        const styles = c({
          main: {
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.dynamic('red'))}>
            </div>
          )
        } (7 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            color: 'red',
          },
          unused: {
            fontSize: '16px',
          },
        });
        export default function Component() {
          return <div {...stylex.props(styles.main)} />;
        }
       (5 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            color: 'red',
          },
          unused: {
            fontSize: '16px',
          },
        });
        export default function Component() {
          return <div {...css.props(styles.main)} />;
        }
       (6 ms)

PASS __tests__/stylex-no-lookahead-selectors-test.js
  stylex-no-lookahead-selectors
    valid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          button: {
            color: {
              default: 'black',
              [stylex.when.ancestor(':hover')]: 'red',
            },
            backgroundColor: {
              default: 'white',
              [stylex.when.ancestor(':focus')]: 'blue',
            },
          },
        });
       (29 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            display: {
              default: 'none',
              [stylex.when.siblingBefore(':active')]: 'block',
            },
            opacity: {
              default: 1,
              [stylex.when.siblingBefore(':disabled')]: 0.5,
            },
          },
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            color: 'red',
            backgroundColor: 'blue',
          },
        });
       (4 ms)
      ✓
        import * as s from '@stylexjs/stylex';
        const styles = s.create({
          button: {
            color: {
              default: 'black',
              [s.when.ancestor(':hover')]: 'red',
            },
          },
        });
       (6 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          button: {
            color: {
              default: 'black',
              [stylex.when.ancestor(':hover')]: 'red',
            },
          },
        });
       (3 ms)
      ✓
        import { create, when } from '@stylexjs/stylex';
        const styles = create({
          button: {
            color: {
              default: 'black',
              [when.ancestor(':hover')]: 'red',
            },
          },
        });
       (3 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          button: {
            color: {
              default: 'black',
              [stylex.when.anySibling(':active')]: 'red',
            },
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundColor: {
              default: 'white',
              [stylex.when.descendant(':focus')]: 'black',
            },
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          item: {
            marginTop: {
              default: '0px',
              [stylex.when.siblingAfter(':active')]: '10px',
            },
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          button: {
            color: {
              default: 'black',
              [stylex.when.anySibling(':active')]: 'red',
            },
            backgroundColor: {
              default: 'white',
              [stylex.when.descendant(':dark')]: 'black',
            },
            padding: {
              default: 'none',
              [stylex.when.siblingAfter(':selected')]: '10px',
            },
          },
        });
       (6 ms)
      ✓
        import * as s from '@stylexjs/stylex';
        const styles = s.create({
          button: {
            color: {
              default: 'black',
              [s.when.anySibling(':active')]: 'red',
            },
          },
        });
       (3 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          button: {
            color: {
              default: 'black',
              [stylex.when.descendant(':hover')]: 'red',
            },
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          button: {
            color: {
              default: 'black',
              [stylex.when.ancestor(':hover')]: 'red', // valid
              [stylex.when.anySibling(':active')]: 'blue', // invalid
            },
            padding: {
              default: 0,
              [stylex.when.siblingBefore(':focus')]: 10, // valid
            },
          },
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            ':hover': {
              color: {
                default: 'black',
                [stylex.when.siblingAfter(':active')]: 'red',
              },
            },
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          dynamic: (isActive) => ({
            color: {
              default: 'black',
              [stylex.when.descendant(':dark')]: 'white',
            },
            backgroundColor: isActive ? 'blue' : 'transparent',
          }),
        });
       (4 ms)
      ✓
        import { create, when } from '@stylexjs/stylex';
        const styles = create({
          button: {
            color: {
              default: 'black',
              [when.anySibling(':hover')]: 'white',
            },
          },
        });
       (4 ms)

PASS __tests__/stylex-enforce-extension-test.js
  stylex-enforce-extension
    valid
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (19 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓ export const somethingElse = {}; (2 ms)
      ✓ export const somethingElse = {}; (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓ export const somethingElse = {}; (1 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({ color: 'red' });
        export default stylex.defineVars({ background: 'blue' });
       (4 ms)
      ✓
        import * as stylex from 'custom-stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓
        import { css } from 'a';
        export const vars = css.defineVars({});
       (2 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({ color: 'red' });
        export const somethingElse = someFunction();
        export default stylex.defineVars({ background: 'blue' });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = someFunction();
        export const somethingElse = someFunction();
        export default stylex.defineVars({ background: 'blue' });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({
          color: 'blue',
        });
        export const somethingElse = someFunction();
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({
          color: 'red',
        });
        export const somethingElse = someFunction();
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (9 ms)
      ✓ export const somethingElse = {}; (2 ms)
      ✓ export const somethingElse = {}; (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (2 ms)
      ✓ export const somethingElse = {}; (1 ms)
      ✓
        import * as stylex from 'custom-stylex';
        export const vars = stylex.defineVars({});
       (2 ms)
      ✓
        import { css } from 'a';
        export const vars = css.defineVars({});
       (3 ms)
      ✓ export const somethingElse = {}; (1 ms)
      ✓ export const somethingElse = {}; (1 ms)

PASS __tests__/stylex-no-legacy-contextual-styles-test.js
  stylex-no-legacy-contextual-styles
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          '::placeholder': {
            color: '#999',
          },
          width: {
            default: '100%',
            '@media (min-width: 600px)': {
              default: '50%',
              '@media screen': '40%'
            },
          }
        },
        ':dummy': {
          color: '#999',
        }
      });
     (27 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            '::placeholder': {
              color: '#999',
            },
            width: {
              default: '100%',
              '@media (min-width: 600px)': {
                default: '50%',
                '@media screen': '40%'
              },
            }
          },
        });
       (5 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            '::placeholder': {
              color: '#999',
            },
          },
        });
       (3 ms)
    invalid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          width: '100%',
          '@media (min-width: 600px)': {
            width: '50%',
          }
        }
      });
       (3 ms)
      ✓
      import {create} from '@stylexjs/stylex';
      const styles = create({
        main: {
          width: '100%',
          ':hover': {
            width: '50%',
          }
        }
      });
       (4 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            width: '100%',
            ':hover': {
              width: '50%',
            }
          }
        });
       (3 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            width: '100%',
            '@media (max-width: 600px)': {
              width: '50%',
            }
          }
        });
       (11 ms)

----------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------
File                                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------
All files                               |   87.54 |    77.09 |   94.28 |   87.59 |
 src                                    |   83.66 |    79.52 |   93.04 |   83.72 |
  index.js                              |       0 |      100 |     100 |       0 | 26
  stylex-enforce-extension.js           |   96.66 |    94.44 |     100 |     100 | 71,89
  stylex-no-legacy-contextual-styles.js |   95.23 |    94.73 |     100 |   95.23 | 100
  stylex-no-lookahead-selectors.js      |   86.95 |    86.11 |     100 |   86.95 | 65,70,98
  stylex-no-unused.js                   |   67.05 |    64.51 |      84 |   67.05 | 40,48-49,131-155,189,203-207,214,220,261
  stylex-sort-keys.js                   |   95.23 |    90.34 |     100 |   95.23 | 148,245,324,385,400
  stylex-valid-shorthands.js            |    83.6 |    75.67 |     100 |    83.6 | 131,134,144,150-151,165,180,236,241,246
  stylex-valid-styles.js                |   81.77 |    75.33 |   89.47 |   81.53 | 255,258,261,270,330,345,351,365,383,409,421-435,439,450,544,552,564-569,687,698-719,742,785,826,847,850-853,868
 src/reference                          |   99.18 |       85 |    90.9 |   99.45 |
  cssProperties.js                      |   99.18 |       85 |    90.9 |   99.45 | 431,492
  namedColors.js                        |     100 |      100 |     100 |     100 |
 src/rules                              |      88 |    79.14 |     100 |   87.83 |
  isAbsoluteLength.js                   |     100 |    83.33 |     100 |     100 | 24
  isAnimationName.js                    |   80.95 |    85.29 |     100 |   80.95 | 44,49,61,73
  isCSSVariable.js                      |     100 |    91.66 |     100 |     100 | 27
  isHexColor.js                         |     100 |       40 |     100 |     100 | 22
  isNumber.js                           |      76 |    65.85 |     100 |      76 | 37-45,74
  isPercentage.js                       |     100 |    83.33 |     100 |     100 | 22
  isPositionTryFallbacks.js             |   80.95 |    76.47 |     100 |   80.95 | 39,44,49,61
  isRelativeLength.js                   |    87.5 |    66.66 |     100 |    87.5 | 55
  isString.js                           |     100 |      100 |     100 |     100 |
  isStylexResolvedVarsToken.js          |    90.9 |    83.33 |     100 |    90.9 | 36
  makeLiteralRule.js                    |   93.33 |       80 |     100 |   93.33 | 54
  makeRangeRule.js                      |      75 |    83.33 |     100 |      75 | 30
  makeRegExRule.js                      |     100 |      100 |     100 |     100 |
  makeUnionRule.js                      |     100 |    91.66 |     100 |     100 | 32
 src/utils                              |   80.68 |     68.3 |   94.23 |    80.5 |
  createImportTracker.js                |    93.1 |    80.76 |     100 |    93.1 | 39,50
  evaluate.js                           |       0 |        0 |       0 |       0 | 17-37
  getDistance.js                        |   98.33 |    96.15 |     100 |   98.33 | 45
  getPropertyName.js                    |   44.82 |     37.5 |      75 |   44.82 | 15,27-34,41-51,58,69-70,83
  getPropertyPriorityAndType.js         |    87.5 |       80 |     100 |    87.5 | 31,47
  getSourceCode.js                      |      75 |    33.33 |     100 |      75 | 23
  isWhiteSpaceOrEmpty.js                |     100 |      100 |     100 |     100 |
  makeVariableCheckingRule.js           |   81.81 |    83.33 |     100 |   81.81 | 31,36
  resolveKey.js                         |       0 |        0 |       0 |       0 | 17-44
  split-css-value.js                    |   88.67 |    81.03 |     100 |   88.46 | 14,25,90,104,119-120
  splitShorthands.js                    |   95.55 |     82.5 |     100 |   95.45 | 269,288,296,300
----------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------
Test Suites: 7 passed, 7 total
Tests:       266 passed, 266 total
Snapshots:   0 total
Time:        7.542 s
Ran all test suites.

> @stylexjs/postcss-plugin@0.16.1 test
> jest

PASS __tests__/index-test.js
  @stylexjs/postcss-plugin
    ✓ extracts CSS from StyleX files (141 ms)
    ✓ handles empty CSS input without @stylex rule (1 ms)
    ✓ supports CSS layers (9 ms)
    ✓ handles exclude patterns (7 ms)
    ✓ respects string syntax for importSources (6 ms)
    ✓ supports object syntax for importSources (4 ms)
    ✓ skips files that do not match include/exclude patterns (4 ms)

Test Suites: 1 passed, 1 total
Tests:       7 passed, 7 total
Snapshots:   7 passed, 7 total
Time:        1.632 s
Ran all test suites.

> @stylexjs/rollup-plugin@0.16.1 test
> jest

PASS __tests__/index-test.js
  rollup-plugin-stylex
    ✓ extracts CSS and removes stylex.inject calls (448 ms)
    ✓ output filename match pattern (41 ms)
    runtimeInjection:true
      ✓ preserves stylex.inject calls and does not extract CSS (60 ms)

Test Suites: 1 passed, 1 total
Tests:       3 passed, 3 total
Snapshots:   4 passed, 4 total
Time:        2.338 s
Ran all test suites.

> typescript-tests@0.16.1 test
> tsc


> stylex-monorepo@0.0.0 prettier:report
> prettier --check "**/*.js" "**/*.flow"

Checking formatting...
All matched files use Prettier code style!

> stylex-monorepo@0.0.0 lint:report
> eslint . --ext .flow,.js,.jsx,.mjs

