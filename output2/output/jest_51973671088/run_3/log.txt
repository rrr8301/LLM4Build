‚û§ YN0000: ¬∑ Yarn 4.9.2
‚û§ YN0000: ‚îå Resolution step
‚û§ YN0000: ‚îî Completed in 0s 489ms
‚û§ YN0000: ‚îå Post-resolution validation
‚û§ YN0060: ‚îÇ @babel/core is listed by your project with version 7.27.4 (pf247d), which doesn't satisfy what @babel/preset-react and other dependencies request (but they have non-overlapping ranges!).
‚û§ YN0060: ‚îÇ react is listed by your project with version 18.3.1 (p4a9fd), which doesn't satisfy what react-native and other dependencies request (but they have non-overlapping ranges!).
‚û§ YN0002: ‚îÇ @jest/diff-sequences@workspace:packages/diff-sequences doesn't provide @jest/globals (p03fd7), requested by @fast-check/jest.
‚û§ YN0002: ‚îÇ babel-preset-jest@workspace:packages/babel-preset-jest doesn't provide @babel/core (pa5adb), requested by babel-preset-current-node-syntax.
‚û§ YN0002: ‚îÇ create-jest@workspace:packages/create-jest doesn't provide @types/node (p9c2ad), requested by jest-config.
‚û§ YN0002: ‚îÇ example-react-testing-library@workspace:examples/react-testing-library doesn't provide @testing-library/dom (p31adb), requested by @testing-library/react.
‚û§ YN0002: ‚îÇ example-snapshot@workspace:examples/snapshot doesn't provide react-dom (p491d7), requested by @testing-library/react.
‚û§ YN0002: ‚îÇ expect@workspace:packages/expect doesn't provide @jest/globals (p9fb73), requested by @fast-check/jest.
‚û§ YN0002: ‚îÇ jest-cli@workspace:packages/jest-cli [023ef] doesn't provide @types/node (pdec1f), requested by jest-config.
‚û§ YN0002: ‚îÇ jest-cli@workspace:packages/jest-cli [e9642] doesn't provide @types/node (p72525), requested by jest-config.
‚û§ YN0002: ‚îÇ jest-cli@workspace:packages/jest-cli doesn't provide @types/node (pdd748), requested by jest-config.
‚û§ YN0002: ‚îÇ jest-config@workspace:packages/jest-config doesn't provide @types/node (p4a73b), requested by ts-node.
‚û§ YN0002: ‚îÇ jest-website@workspace:website doesn't provide @mdx-js/react (p1a83d), requested by @docusaurus/core.
‚û§ YN0086: ‚îÇ Some peer dependencies are incorrectly met by your project; run yarn explain peer-requirements <hash> for details, where <hash> is the six-letter p-prefixed code.
‚û§ YN0086: ‚îÇ Some peer dependencies are incorrectly met by dependencies; run yarn explain peer-requirements for details.
‚û§ YN0068: ‚îÇ @react-native/metro-babel-transformer ‚û§ peerDependencies ‚û§ @babel/preset-env: No matching package in the dependency tree; you may not need this rule anymore.
‚û§ YN0000: ‚îî Completed
‚û§ YN0000: ‚îå Fetch step
‚û§ YN0000: ‚îî Completed in 0s 555ms
‚û§ YN0000: ‚îå Link step
‚û§ YN0000: ‚îî Completed in 0s 978ms
‚û§ YN0000: ¬∑ Done with warnings in 2s 972ms
 Bundling packages
 DONE
GLOBALS_CLEANUP=off
PASS packages/jest-environment-node/src/__tests__/node_environment.test.ts
  ‚óè Console

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:24:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:25:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:31:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:43:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:55:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:76:17)

PASS packages/jest-environment-node/src/__tests__/globals_cleanup_2.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_1.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_3.test.ts

Test Suites: 4 passed, 4 total
Tests:       2 skipped, 11 passed, 13 total
Snapshots:   0 total
Time:        1.646 s
Ran all test suites matching packages/jest-environment-node/src/__tests__.
GLOBALS_CLEANUP=soft
PASS packages/jest-environment-node/src/__tests__/node_environment.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_2.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_1.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_3.test.ts

Test Suites: 4 passed, 4 total
Tests:       2 skipped, 11 passed, 13 total
Snapshots:   0 total
Time:        1.714 s, estimated 2 s
Ran all test suites matching packages/jest-environment-node/src/__tests__.
GLOBALS_CLEANUP=on
PASS packages/jest-environment-node/src/__tests__/node_environment.test.ts
  ‚óè Console

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:24:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:25:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:31:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:43:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:55:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:76:17)

PASS packages/jest-environment-node/src/__tests__/globals_cleanup_1.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_2.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_3.test.ts

Test Suites: 4 passed, 4 total
Tests:       2 skipped, 11 passed, 13 total
Snapshots:   0 total
Time:        1.507 s, estimated 2 s
Ran all test suites matching packages/jest-environment-node/src/__tests__.
Attempt 1 of 3
.........[SKIP] Does not work on jest-circus
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'soft'[39m
[33m  Given: 'on'[39m
.[SKIP] Does not work on jest-circus
......
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

....
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'soft'[39m
[33m  Given: 'on'[39m
.......
/app/packages/jest-resolve/src/__tests__/resolve.test.ts

[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.371 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

..
/app/e2e/__tests__/environmentAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () =>[27m {[49m[39m
    [36m[107m+       [7m1678 |       }[27m[49m[39m
    [36m[107m+ [7m      1679 |       if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     [7m  1[27m0 |   [7msetTimeout(() => {[27m[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+     [7m> 168[27m0 |   [7m  [27m[7m    throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |   [27m          [7m  [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m681[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m682 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1683 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..............
/app/e2e/__tests__/requireAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1215 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m216[27m |   [7m  if (this.isInsideTestCode === false && !supportsDynamicImport)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m217[27m |     [7m  throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          [7m|[27m              [7m [27m     [7m^[27m[49m[39m
    [36m[107m+          [7m  |  [27m        [7m   ^[27m[49m[39m
    [36m[107m+       [7m1218 |[27m     [7m}[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m19[27m |[49m[39m
    [35m[103m-       1[7m3[27m |    [7m expect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m220[27m |    [7m [27m[7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.........
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.392 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.387 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.844 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

..../app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
(node:45717) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
..
/app/e2e/__tests__/customReporters.test.ts

[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

....
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m

.
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-resolve/src/__tests__/[22m[1mresolve.test.ts[22m
[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m ([0m[1m[41m7.52 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m9.128 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.371 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1menvironmentAfterTeardown.test.ts[22m ([0m[1m[41m8.474 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () =>[27m {[49m[39m
    [36m[107m+       [7m1678 |       }[27m[49m[39m
    [36m[107m+ [7m      1679 |       if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     [7m  1[27m0 |   [7msetTimeout(() => {[27m[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+     [7m> 168[27m0 |   [7m  [27m[7m    throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |   [27m          [7m  [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m681[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m682 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1683 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireAfterTeardown.test.ts[22m ([0m[1m[41m9.129 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1215 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m216[27m |   [7m  if (this.isInsideTestCode === false && !supportsDynamicImport)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m217[27m |     [7m  throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          [7m|[27m              [7m [27m     [7m^[27m[49m[39m
    [36m[107m+          [7m  |  [27m        [7m   ^[27m[49m[39m
    [36m[107m+       [7m1218 |[27m     [7m}[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m19[27m |[49m[39m
    [35m[103m-       1[7m3[27m |    [7m expect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m220[27m |    [7m [27m[7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m14.976 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.392 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.387 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.844 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomReporters.test.ts[22m ([0m[1m[41m21.454 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m23.771 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m152.475 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m190.334 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 6 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m12 failed[39m[22m, [1m[32m109 passed[39m[22m, 121 total
[1mTests:       [22m[1m[31m15 failed[39m[22m, [1m[33m28 skipped[39m[22m, [1m[32m1153 passed[39m[22m, 1196 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m182 passed[39m[22m, 188 total
[1mTime:[22m        [1m[33m192.17 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Test attempt 1 failed, retrying...
Attempt 2 of 3
..
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/packages/jest-resolve/src/__tests__/resolve.test.ts

[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

...........................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..........[SKIP] Does not work on jest-circus
.
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[SKIP] Does not work on jest-circus
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........................
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/requireAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1215 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m216[27m |   [7m  if (this.isInsideTestCode === false && !supportsDynamicImport)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m217[27m |     [7m  throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          [7m|[27m              [7m [27m     [7m^[27m[49m[39m
    [36m[107m+          [7m  |  [27m        [7m   ^[27m[49m[39m
    [36m[107m+       [7m1218 |[27m     [7m}[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m19[27m |[49m[39m
    [35m[103m-       1[7m3[27m |    [7m expect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m220[27m |    [7m [27m[7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/environmentAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () =>[27m {[49m[39m
    [36m[107m+       [7m1678 |       }[27m[49m[39m
    [36m[107m+ [7m      1679 |       if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     [7m  1[27m0 |   [7msetTimeout(() => {[27m[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+     [7m> 168[27m0 |   [7m  [27m[7m    throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |   [27m          [7m  [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m681[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m682 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1683 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....../app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
......
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.755 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..(node:70244) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.744 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.682 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.558 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

......
/app/e2e/__tests__/customReporters.test.ts

[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

...
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m



[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-resolve/src/__tests__/[22m[1mresolve.test.ts[22m
[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireAfterTeardown.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1215 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m216[27m |   [7m  if (this.isInsideTestCode === false && !supportsDynamicImport)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m217[27m |     [7m  throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          [7m|[27m              [7m [27m     [7m^[27m[49m[39m
    [36m[107m+          [7m  |  [27m        [7m   ^[27m[49m[39m
    [36m[107m+       [7m1218 |[27m     [7m}[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m19[27m |[49m[39m
    [35m[103m-       1[7m3[27m |    [7m expect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m220[27m |    [7m [27m[7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1menvironmentAfterTeardown.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () =>[27m {[49m[39m
    [36m[107m+       [7m1678 |       }[27m[49m[39m
    [36m[107m+ [7m      1679 |       if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     [7m  1[27m0 |   [7msetTimeout(() => {[27m[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+     [7m> 168[27m0 |   [7m  [27m[7m    throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |   [27m          [7m  [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m681[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m682 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1683 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.755 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m8.152 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.744 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.682 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.558 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomReporters.test.ts[22m ([0m[1m[41m12.67 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m16.557 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m49.664 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m146.889 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 6 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m12 failed[39m[22m, [1m[32m109 passed[39m[22m, 121 total
[1mTests:       [22m[1m[31m15 failed[39m[22m, [1m[33m28 skipped[39m[22m, [1m[32m1153 passed[39m[22m, 1196 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m182 passed[39m[22m, 188 total
[1mTime:[22m        148.765 s, estimated 191 s
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Test attempt 2 failed, retrying...
Attempt 3 of 3
.
/app/packages/jest-resolve/src/__tests__/resolve.test.ts

[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

.
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[SKIP] Does not work on jest-circus
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[SKIP] Does not work on jest-circus
......
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
......./app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
.................
/app/e2e/__tests__/requireAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1215 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m216[27m |   [7m  if (this.isInsideTestCode === false && !supportsDynamicImport)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m217[27m |     [7m  throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          [7m|[27m              [7m [27m     [7m^[27m[49m[39m
    [36m[107m+          [7m  |  [27m        [7m   ^[27m[49m[39m
    [36m[107m+       [7m1218 |[27m     [7m}[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m19[27m |[49m[39m
    [35m[103m-       1[7m3[27m |    [7m expect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m220[27m |    [7m [27m[7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....
/app/e2e/__tests__/environmentAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () =>[27m {[49m[39m
    [36m[107m+       [7m1678 |       }[27m[49m[39m
    [36m[107m+ [7m      1679 |       if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     [7m  1[27m0 |   [7msetTimeout(() => {[27m[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+     [7m> 168[27m0 |   [7m  [27m[7m    throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |   [27m          [7m  [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m681[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m682 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1683 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.67 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

(node:97814) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.647 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.66 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.565 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

......
/app/e2e/__tests__/customReporters.test.ts

[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

...
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m



[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-resolve/src/__tests__/[22m[1mresolve.test.ts[22m
[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireAfterTeardown.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1215 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m216[27m |   [7m  if (this.isInsideTestCode === false && !supportsDynamicImport)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m217[27m |     [7m  throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          [7m|[27m              [7m [27m     [7m^[27m[49m[39m
    [36m[107m+          [7m  |  [27m        [7m   ^[27m[49m[39m
    [36m[107m+       [7m1218 |[27m     [7m}[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m19[27m |[49m[39m
    [35m[103m-       1[7m3[27m |    [7m expect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m220[27m |    [7m [27m[7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1menvironmentAfterTeardown.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () =>[27m {[49m[39m
    [36m[107m+       [7m1678 |       }[27m[49m[39m
    [36m[107m+ [7m      1679 |       if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     [7m  1[27m0 |   [7msetTimeout(() => {[27m[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+     [7m> 168[27m0 |   [7m  [27m[7m    throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |   [27m          [7m  [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m681[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m682 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1683 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.67 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m8.088 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.647 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.66 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.565 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomReporters.test.ts[22m ([0m[1m[41m12.398 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m16.639 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m50.236 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m151.252 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 6 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m12 failed[39m[22m, [1m[32m109 passed[39m[22m, 121 total
[1mTests:       [22m[1m[31m15 failed[39m[22m, [1m[33m28 skipped[39m[22m, [1m[32m1153 passed[39m[22m, 1196 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m182 passed[39m[22m, 188 total
[1mTime:[22m        [1m[33m153.079 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Test attempt 3 failed, retrying...
Attempt 1 of 3
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/packages/jest-resolve/src/__tests__/resolve.test.ts

[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.........................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
../app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

......
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.191 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

......(node:126326) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.204 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.839 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.914 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

......
/app/e2e/__tests__/customReporters.test.ts

[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

..
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m



[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-resolve/src/__tests__/[22m[1mresolve.test.ts[22m
[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m5.328 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.191 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m9.049 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.204 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.839 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.914 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomReporters.test.ts[22m ([0m[1m[41m14.816 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m17.242 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m52.482 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m147.805 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 4 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m10 failed[39m[22m, [1m[32m111 passed[39m[22m, 121 total
[1mTests:       [22m[1m[31m13 failed[39m[22m, [1m[33m17 skipped[39m[22m, [1m[32m1167 passed[39m[22m, 1197 total
[1mSnapshots:   [22m[1m[31m4 failed[39m[22m, [1m[32m186 passed[39m[22m, 190 total
[1mTime:[22m        150.447 s, estimated 152 s
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Test attempt 1 failed, retrying...
Attempt 2 of 3
.
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/packages/jest-resolve/src/__tests__/resolve.test.ts

[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
............[SKIP] Does not work on Jasmine
...[SKIP] Does not work on Jasmine
..[SKIP] Does not work on Jasmine
..[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........................
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
......./app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

................
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.659 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.(node:154723) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.708 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.671 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.582 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

.....
/app/e2e/__tests__/customReporters.test.ts

[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

...
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m



[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-resolve/src/__tests__/[22m[1mresolve.test.ts[22m
[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.659 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m7.666 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.708 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.671 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.582 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomReporters.test.ts[22m ([0m[1m[41m12.888 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m16.54 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m51.92 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m150.704 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 4 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m10 failed[39m[22m, [1m[32m111 passed[39m[22m, 121 total
[1mTests:       [22m[1m[31m13 failed[39m[22m, [1m[33m17 skipped[39m[22m, [1m[32m1167 passed[39m[22m, 1197 total
[1mSnapshots:   [22m[1m[31m4 failed[39m[22m, [1m[32m186 passed[39m[22m, 190 total
[1mTime:[22m        [1m[33m152.644 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Test attempt 2 failed, retrying...
Attempt 3 of 3
.
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/packages/jest-resolve/src/__tests__/resolve.test.ts

[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..........................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..........[SKIP] Does not work on Jasmine
.....[SKIP] Does not work on Jasmine
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
....[SKIP] Does not work on Jasmine
......
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.[SKIP] Does not work on Jasmine
......../app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
......
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.682 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

...(node:182453) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.689 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.656 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.538 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

.....
/app/e2e/__tests__/customReporters.test.ts

[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

...
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m



[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-resolve/src/__tests__/[22m[1mresolve.test.ts[22m
[1m[31m  [1m‚óè [22m[1mresolveModule ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModule] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:358:10)[22m[2m[22m
[2m      [2mat Object.resolveModule ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:500:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mresolveModuleAsync ‚Ä∫ is possible to resolve node modules by resolving their realpath[39m[22m

    TypeError: The "from" argument must be of type string. Received undefined
[2m[22m
[2m    [0m [90m 428 |[39m   [36mprivate[39m _throwModNotFoundError([36mfrom[39m[33m:[39m string[33m,[39m moduleName[33m:[39m string)[33m:[39m never {[22m
[2m     [90m 429 |[39m     [36mconst[39m relativePath [33m=[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 430 |[39m       slash(path[33m.[39mrelative([36mthis[39m[33m.[39m_options[33m.[39mrootDir[33m,[39m [36mfrom[39m)) [33m||[39m [32m'.'[39m[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 431 |[39m[22m
[2m     [90m 432 |[39m     [36mthrow[39m [36mnew[39m [33mModuleNotFoundError[39m([22m
[2m     [90m 433 |[39m       [32m`Cannot find module '${moduleName}' from '${relativePath}'`[39m[33m,[39m[0m[22m
[2m[22m
[2m      [2mat Resolver.relative [as _throwModNotFoundError] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:430:18)[22m[2m[22m
[2m      [2mat Resolver._throwModNotFoundError [as resolveModuleAsync] ([22m[2mpackages/jest-resolve/src/resolver.ts[2m:380:10)[22m[2m[22m
[2m      [2mat Object.<anonymous> ([22m[2m[0m[36mpackages/jest-resolve/src/__tests__/resolve.test.ts[39m[0m[2m:624:22)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.682 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m7.468 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.689 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.656 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.538 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomReporters.test.ts[22m ([0m[1m[41m12.507 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mCustom Reporters Integration ‚Ä∫ supports custom reporter stored in legacy module path, i.e. $HOME/.node_libraries[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected pattern: [32m/ON_RUN_START_ERROR/[39m
    Received string:  [31m"/tmp/custom-reporters-test-dir/fakeHome/.node_libraries/@org/custom-reporter/index.js:1[39m
    [31mexport default class Reporter {[39m
    [31m^^^^^^¬∑[39m
    [31mSyntaxError: Unexpected token 'export'[39m
    [31m    at internalCompileFunction (node:internal/vm:76:18)[39m
    [31m    at wrapSafe (node:internal/modules/cjs/loader:1283:20)[39m
    [31m    at Module._compile (node:internal/modules/cjs/loader:1328:27)[39m
    [31m    at Module._extensions..js (node:internal/modules/cjs/loader:1422:10)[39m
    [31m    at Module.load (node:internal/modules/cjs/loader:1203:32)[39m
    [31m    at Module._load (node:internal/modules/cjs/loader:1019:12)[39m
    [31m    at Module.require (node:internal/modules/cjs/loader:1231:19)[39m
    [31m    at require (node:internal/modules/helpers:177:18)[39m
    [31m    at requireOrImportModule (/app/packages/jest-util/build/index.js:1010:28)[39m
    [31m    at TestScheduler._addCustomReporter (/app/packages/jest-core/build/index.js:1222:68)"[39m
[2m[22m
[2m    [0m [90m 201 |[39m       env[33m:[39m {[33mHOME[39m[33m:[39m path[33m.[39mresolve([33mDIR[39m[33m,[39m [32m'fakeHome'[39m)}[33m,[39m[22m
[2m     [90m 202 |[39m     })[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 203 |[39m     expect(stderr)[33m.[39mtoMatch([35m/ON_RUN_START_ERROR/[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 204 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 205 |[39m   })[33m;[39m[22m
[2m     [90m 206 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/customReporters.test.ts[39m[0m[2m:203:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m16.588 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m51.797 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       146 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       147 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 148 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       149 |   }[49m[39m
    [36m[107m+       150 | }[49m[39m
    [36m[107m+       151 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:148:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m274.834 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 109 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 110 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 113 |[39m })[33m;[39m[22m
[2m     [90m 114 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:111:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 158 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 159 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 160 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 161 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 162 |[39m })[33m;[39m[22m
[2m     [90m 163 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:160:38)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 4 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m10 failed[39m[22m, [1m[32m111 passed[39m[22m, 121 total
[1mTests:       [22m[1m[31m13 failed[39m[22m, [1m[33m17 skipped[39m[22m, [1m[32m1167 passed[39m[22m, 1197 total
[1mSnapshots:   [22m[1m[31m4 failed[39m[22m, [1m[32m186 passed[39m[22m, 190 total
[1mTime:[22m        [1m[33m276.706 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Test attempt 3 failed, retrying...
