Scope: all 3 workspace projects
Lockfile is up to date, resolution step is skipped
Already up to date

playgrounds/sandbox prepare$ node scripts/create-app-svelte.js
playgrounds/sandbox prepare: Done
Done in 1.3s
Playwright Host validation warning:
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Please install them with the following command:      ║
║                                                      ║
║     pnpm exec playwright install-deps                ║
║                                                      ║
║ Alternatively, use apt:                              ║
║     apt-get install libglib2.0-0\                    ║
║         libnss3\                                     ║
║         libnspr4\                                    ║
║         libdbus-1-3\                                 ║
║         libatk1.0-0\                                 ║
║         libatk-bridge2.0-0\                          ║
║         libcups2\                                    ║
║         libdrm2\                                     ║
║         libxcb1\                                     ║
║         libxkbcommon0\                               ║
║         libatspi2.0-0\                               ║
║         libx11-6\                                    ║
║         libxcomposite1\                              ║
║         libxdamage1\                                 ║
║         libxext6\                                    ║
║         libxfixes3\                                  ║
║         libxrandr2\                                  ║
║         libgbm1\                                     ║
║         libpango-1.0-0\                              ║
║         libcairo2\                                   ║
║         libasound2                                   ║
║                                                      ║
║ <3 Playwright Team                                   ║
╚══════════════════════════════════════════════════════╝
    at validateDependenciesLinux (/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/dependencies.js:216:9)
    at async Registry._validateHostRequirements (/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/index.js:575:43)
    at async Registry._validateHostRequirementsForExecutableIfNeeded (/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/index.js:673:7)
    at async Registry.validateHostRequirementsForExecutablesIfNeeded (/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/index.js:662:43)
    at async t.<anonymous> (/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/cli/program.js:119:7)

> svelte-monorepo@0.0.1 test /app
> vitest run


 RUN  v2.1.9 /app

 ✓ packages/svelte/src/internal/client/proxy.test.ts (8 tests) 10ms
 ✓ packages/svelte/src/internal/shared/clone.test.ts (11 tests) 15ms
 ✓ packages/svelte/src/reactivity/set.test.ts (6 tests) 12ms
 ✓ packages/svelte/src/reactivity/url.test.ts (4 tests) 14ms
 ✓ packages/svelte/src/reactivity/url-search-params.test.ts (8 tests) 17ms
 ✓ packages/svelte/src/internal/server/renderer.test.ts (20 tests) 35ms
 ✓ packages/svelte/src/reactivity/map.test.ts (8 tests) 50ms
 ✓ packages/svelte/src/reactivity/date.test.ts (17 tests) 98ms
 ✓ packages/svelte/tests/store/test.ts (33 tests) 129ms
 ✓ packages/svelte/tests/signals/test.ts (94 tests | 2 skipped) 592ms
 ✓ packages/svelte/tests/parser-modern/test.ts (22 tests) 108ms
 ✓ packages/svelte/tests/parser-legacy/test.ts (83 tests | 1 skipped) 154ms
 ✓ packages/svelte/tests/preprocess/test.ts (19 tests) 48ms
 ✓ packages/svelte/tests/snapshot/test.ts (26 tests) 322ms
 ✓ packages/svelte/tests/migrate/test.ts (75 tests) 312ms
 ✓ packages/svelte/tests/motion/test.ts (8 tests) 10ms
 ✓ packages/svelte/tests/validator/test.ts (328 tests | 4 skipped) 681ms
 ❯ packages/svelte/tests/runtime-browser/test.ts (85 tests | 85 skipped) 61ms
 ✓ packages/svelte/tests/runtime-browser/test-ssr.ts (30 tests) 772ms
 ✓ packages/svelte/tests/compiler-errors/test.ts (144 tests) 255ms
 ✓ packages/svelte/tests/sourcemaps/test.ts (28 tests | 2 skipped) 306ms
stderr | packages/svelte/tests/server-side-rendering/test.ts > invalid-nested-svelte-element (sync)
node_invalid_placement_ssr: `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:2:1) cannot be a child of `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:1:0)

This can cause content to shift around as the browser repairs the HTML, and will likely result in a `hydration_mismatch` warning.

stderr | packages/svelte/tests/server-side-rendering/test.ts > invalid-nested-svelte-element (async)
node_invalid_placement_ssr: `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:2:1) cannot be a child of `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:1:0)

This can cause content to shift around as the browser repairs the HTML, and will likely result in a `hydration_mismatch` warning.

 ✓ packages/svelte/tests/server-side-rendering/test.ts (172 tests) 1509ms
 ✓ packages/svelte/tests/hydration/test.ts (71 tests) 1445ms
 ✓ packages/svelte/tests/css/test.ts (177 tests) 2683ms
 ✓ packages/svelte/tests/runtime-legacy/test.ts (3289 tests | 10 skipped) 38762ms
   ✓ before-render-chain-2 (dom) 2051ms
   ✓ before-render-chain-2 (hydrate) 1843ms
   ✓ each-block-keyed-random-permute (dom) 666ms
   ✓ each-block-keyed-random-permute (hydrate) 681ms
   ✓ each-block-random-permute (dom) 370ms
   ✓ each-block-random-permute (hydrate) 437ms
 ✓ packages/svelte/tests/runtime-runes/test.ts (2136 tests | 22 skipped) 41840ms
   ✓ 1000-reading-derived-effects (dom) 324ms
   ✓ effect-loop-3 (dom) 1095ms
   ✓ effect-loop-3 (hydrate) 979ms
   ✓ effect-loop-infinite (dom) 352ms
   ✓ effect-loop-infinite (hydrate) 343ms
   ✓ error-boundary-20 (dom) 438ms
   ✓ error-boundary-20 (hydrate) 431ms
   ✓ mount-unmount-anchor (dom) 6973ms
   ✓ mount-unmount-anchor (hydrate) 6892ms

⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  packages/svelte/tests/runtime-browser/test.ts [ packages/svelte/tests/runtime-browser/test.ts ]
Error: browserType.launch:
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Please install them with the following command:      ║
║                                                      ║
║     pnpm exec playwright install-deps                ║
║                                                      ║
║ Alternatively, use apt:                              ║
║     apt-get install libglib2.0-0\                    ║
║         libnss3\                                     ║
║         libnspr4\                                    ║
║         libdbus-1-3\                                 ║
║         libatk1.0-0\                                 ║
║         libatk-bridge2.0-0\                          ║
║         libcups2\                                    ║
║         libdrm2\                                     ║
║         libxcb1\                                     ║
║         libxkbcommon0\                               ║
║         libatspi2.0-0\                               ║
║         libx11-6\                                    ║
║         libxcomposite1\                              ║
║         libxdamage1\                                 ║
║         libxext6\                                    ║
║         libxfixes3\                                  ║
║         libxrandr2\                                  ║
║         libgbm1\                                     ║
║         libpango-1.0-0\                              ║
║         libcairo2\                                   ║
║         libasound2                                   ║
║                                                      ║
║ <3 Playwright Team                                   ║
╚══════════════════════════════════════════════════════╝
 ❯ packages/svelte/tests/runtime-browser/test.ts:16:27
     14|
     15| beforeAll(async () => {
     16|  browser = await chromium.launch();
       |                           ^
     17| }, 20000);
     18|

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/1]⎯

 Test Files  1 failed | 25 passed (26)
      Tests  6776 passed | 126 skipped (6902)
   Start at  02:53:23
   Duration  48.76s (transform 25.42s, setup 0ms, collect 74.76s, tests 90.24s, environment 3.35s, prepare 3.22s)

 ELIFECYCLE  Test failed. See above for more details.
