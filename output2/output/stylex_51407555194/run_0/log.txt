
> stylex-monorepo@0.0.0 test:packages
> npm run test --workspaces --if-present


> style-value-parser@0.16.0 test
> jest --coverage

PASS src/css-types/__tests__/angle-test.js
  Test CSS Type: <angle>
    ✓ parses CSS angle types strings correctly (15 ms)
    Rejects
      ✓ rejects invalid angle values (92 ms)

PASS src/css-types/__tests__/alpha-value-test.js
  Test CSS Type: <alpha-value>
    Number Fractions
      ✓ 0.5 (11 ms)
      ✓ .5
      ✓ 0.25
      ✓ .25 (1 ms)
      ✓ 0.75 (1 ms)
      ✓ .75 (1 ms)
      ✓ 1 (1 ms)
      ✓ parses decimal alpha values (2 ms)
    Percentages
      ✓ 50% (1 ms)
      ✓ 25% (1 ms)
      ✓ 75%
      ✓ 75.5%
      ✓ 0.25%
      ✓ .25%
      ✓ parses percentage alpha values (1 ms)
    Rejects
      ✓ rejects invalid alpha values (92 ms)

PASS src/css-types/__tests__/blend-mode-test.js
  Test CSS Type: <blend-mode>
    ✓ parses valid blend mode values (16 ms)
    ✓ rejects invalid blend mode values (97 ms)

PASS src/css-types/__tests__/angle-percentage-test.js
  Test CSS Type: <angle-percentage>
    ✓ parses angle values (13 ms)
    ✓ parses percentage values (3 ms)
    ✓ rejects invalid angle-percentage values (94 ms)

PASS src/css-types/__tests__/length-percentage-test.js
  Test CSS Type: <length-percentage>
    ✓ parses length values (12 ms)
    ✓ parses percentage values (1 ms)
    ✓ rejects invalid length-percentage values (93 ms)

PASS src/css-types/__tests__/easing-function-test.js
  <easing-function>
    ✓ parses valid CSS <easing-function> types strings correctly (29 ms)
    ✓ fails to parse invalid CSS <easing-function> types strings (106 ms)

PASS src/css-types/__tests__/custom-ident-test.js
  Test CSS Type: <custom-ident>
    ✓ parses valid custom identifiers (12 ms)
    ✓ rejects reserved keywords (109 ms)
    ✓ rejects invalid identifiers (3 ms)

PASS src/css-types/__tests__/calc-constant.js
  calcConstant
    ✓ should parse valid calc constants (11 ms)
    ✓ should not parse invalid calc constants (129 ms)

PASS src/css-types/__tests__/frequency-test.js
  Frequency.parse
    ✓ parses valid CSS frequency types strings correctly (28 ms)
    ✓ fails to parse invalid CSS frequency types strings (90 ms)

PASS src/properties/__tests__/transform.js
  Test CSS property: `transform`
    single functions
      ✓ matrix (19 ms)
      ✓ matrix3d (2 ms)
      ✓ perspective (2 ms)
      ✓ rotate (2 ms)
      ✓ rotate3d (2 ms)
      ✓ rotateX (2 ms)
      ✓ rotateY (1 ms)
      ✓ rotateZ (2 ms)
    multiple functions
      ✓ perspective + matrix3d (2 ms)
      ✓ scale + rotate (1 ms)
      ✓ scale3d + rotate3d (2 ms)
      ✓ scale + rotate + translate + skew (4 ms)

PASS src/css-types/__tests__/time-test.js
  Time.parse
    ✓ parses valid CSS <time> types strings correctly (27 ms)
    ✓ fails to parse invalid CSS <time> types strings (92 ms)

PASS src/css-types/__tests__/flex-test.js
  Flex.parse
    ✓ parses valid `fr` values (11 ms)
    ✓ rejects invalid `fr` values (80 ms)

PASS src/css-types/__tests__/dashed-ident-test.js
  Test CSS Type: <dashed-ident>
    ✓ parses valid dashed identifiers (12 ms)
    ✓ rejects invalid dashed identifiers (86 ms)

PASS src/__tests__/token-parser-test.js
  TokenParser
    oneOf
      ✓ parses the first parser (9 ms)
      ✓ fails to parse a different string
    sequence
      ✓ parses a sequence (1 ms)
      ✓ parses a sequence separated by whitespace (1 ms)
      ✓ makes separators optional for optional parsers (2 ms)
      ✓ parses a sequence separated commas and optional whitespace (1 ms)
    set
      ✓ parses a set (2 ms)
      ✓ parses a set with double separators (2 ms)
      ✓ makes separators optional for optional parsers (3 ms)
    oneOrMore
      ✓ parses one or more (1 ms)
      ✓ fails to parse a different string
    zeroOrMore
      ✓ parses zero or more (2 ms)

PASS src/css-types/__tests__/position-test.js
  Test CSS Type: <position>
    ✓ parses single keywords (21 ms)
    ✓ parses keyword combinations (5 ms)
    ✓ parses keyword with length-percentage (4 ms)
    ✓ parses length-percentage combinations (3 ms)
    ✓ parses keyword with offset (2 ms)
    ✓ rejects invalid positions (85 ms)

PASS src/css-types/__tests__/length-test.js
  Test CSS Type: <length>
    ✓ parses font-based units (14 ms)
    ✓ parses viewport-based units (3 ms)
    ✓ parses container-based units (2 ms)
    ✓ parses absolute units (2 ms)
    ✓ rejects invalid units (88 ms)

PASS src/css-types/__tests__/resolution-test.js
  Test CSS Type: <resolution>
    ✓ parses dpi values (11 ms)
    ✓ parses dpcm values (1 ms)
    ✓ parses dppx values (1 ms)
    ✓ rejects invalid resolution values (69 ms)

PASS src/css-types/__tests__/basic-shape.js
  Basic Shapes
    Inset
      ✓ should parse valid insets (14 ms)
      ✓ should not parse invalid insets (70 ms)
    Circle
      ✓ should parse valid circles (4 ms)
      ✓ should not parse invalid circles (2 ms)
    Ellipse
      ✓ should parse valid ellipses (3 ms)
      ✓ should not parse invalid ellipses (1 ms)
    Polygon
      ✓ should parse valid polygons (3 ms)
      ✓ should not parse invalid polygons (2 ms)
    Path
      ✓ should parse valid paths (2 ms)
      ✓ should not parse invalid paths (1 ms)

PASS src/css-types/__tests__/calc-test.js
  Test CSS Type: calc()
    ✓ parses simple numeric values (15 ms)
    ✓ parses percentage values (4 ms)
    ✓ parses dimension values (5 ms)
    ✓ parses addition operations (4 ms)
    ✓ parses subtraction operations (2 ms)
    ✓ parses multiplication operations (2 ms)
    ✓ parses division operations (3 ms)
    ✓ parses nested operations with parentheses (7 ms)
    ✓ parses complex expressions with multiple operations (2 ms)
    ✓ handles whitespace correctly (7 ms)
    ✓ rejects invalid calc expressions (71 ms)
    ✓ toString round‑trips calc expressions (13 ms)
    ○ skipped rejects invalid calc spacing

PASS src/properties/__tests__/border-radius.test.js
  Test CSS property: `border-<dir>-<dir>-radius`
    ✓ Valid: border-<dir>-<dir>-radius: <length-percentage> (14 ms)
    ✓ Valid: border-<dir>-<dir>-radius: <length-percentage> <length-percentage> (4 ms)
    ✓ Invalid: border-<dir>-<dir>-radius (87 ms)
  Test CSS property shorthand: `border-radius`
    ✓ Valid: border-radius: <length-percentage> (4 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> (4 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> <length-percentage> (3 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> <length-percentage> <length-percentage> (3 ms)
    ✓ Valid: border-radius: <percentage>... (3 ms)
    ✓ Valid: border-radius: <length-percentage> / <length-percentage> (4 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> / <length-percentage> <length-percentage> (3 ms)
    ✓ Valid: border-radius: <length-percentage> <length-percentage> <length-percentage> / <length-percentage> <length-percentage> <length-percentage> (4 ms)

PASS src/css-types/__tests__/color-test.js
  Test CSS Type: <color>
    ✓ parses named colors (10 ms)
    ✓ parses hash colors (4 ms)
    ✓ parses RGB values (6 ms)
    ✓ parses space-separated RGB values (10 ms)
    ✓ parses RGBA values (3 ms)
    ✓ parses space-separated RGBA values (6 ms)
    ✓ parses lch values (1 ms)
    ✓ rejects invalid colors (64 ms)

PASS src/properties/__tests__/box-shadow.test.js
  Test CSS property: `box-shadow`
    BoxShadow
      ✓ Valid: box-shadow with required parameters (offsetX, offsetY, color) (11 ms)
      ✓ Valid: box-shadow with blur radius (offsetX, offsetY, blurRadius, color) (1 ms)
      ✓ Valid: box-shadow with blur and spread radius (offsetX, offsetY, blurRadius, spreadRadius, color) (2 ms)
      ✓ Valid: box-shadow with inset keyword (2 ms)
      ✓ Valid: box-shadow with inset keyword and blur/spread radius (1 ms)
      ✓ Valid: box-shadow with different length units (3 ms)
      ✓ Valid: box-shadow with rgba color (2 ms)
      ✓ Valid: box-shadow with hsla color (4 ms)
    BoxShadowList
      ✓ Valid: single box-shadow (3 ms)
      ✓ Valid: multiple box-shadows (3 ms)
      ✓ Valid: box-shadows with whitespace around commas (2 ms)
    Invalid cases
      ✓ Invalid: missing required parameters (62 ms)
      ✓ Invalid: incorrect order of parameters (3 ms)
      ✓ Invalid: malformed values (6 ms)

PASS src/css-types/__tests__/transform-function-test.js
  Test CSS Type: <transform-function>
    Test <matrix> function
      ✓ valid uses (14 ms)
      ✓ invalid uses (83 ms)
    Test <matrix3d> function
      ✓ valid uses (4 ms)
      ✓ invalid uses (10 ms)
    Test <perspective> function
      ✓ valid uses (3 ms)
      ✓ invalid uses (7 ms)
    Test <rotate> function
      ✓ valid uses (8 ms)
      ✓ invalid uses (15 ms)
    Test <rotate3d> function
      ✓ valid uses (3 ms)
      ✓ invalid uses (10 ms)
    Test <rotate-axis> function
      ✓ valid uses (3 ms)
      ✓ invalid uses (6 ms)
    Test <scale> function
      ✓ valid uses (5 ms)
      ✓ invalid uses (10 ms)
    Test <scale3d> function
      ✓ valid uses (3 ms)
      ✓ invalid uses (16 ms)
    Test <scale-axis> function
      ✓ valid uses (4 ms)
      ✓ invalid uses (5 ms)
    Test <skew> function
      ✓ valid uses (6 ms)
      ✓ invalid uses (10 ms)
    Test <skew-axis> function
      ✓ valid uses (4 ms)
      ✓ invalid uses (8 ms)
    Test <translate> function
      ✓ valid uses (15 ms)
      ✓ invalid uses (12 ms)
    Test <translate3d> function
      ✓ valid uses (2 ms)
      ✓ invalid uses (8 ms)
    Test <translateX> function
      ✓ valid uses (5 ms)
      ✓ invalid uses (7 ms)
    Test <translateY> function
      ✓ valid uses (4 ms)
      ✓ invalid uses (13 ms)

PASS src/at-queries/__tests__/validation-media-query-test.js
  style-value-parser/at-queries
    [validation] media queries
      MediaQuery parser with simplified errors
        ✓ throws SYNTAX_ERROR for empty or incomplete conditions (147 ms)
        ✓ throws SYNTAX_ERROR for malformed expressions or invalid operators (105 ms)
        ✓ throws SYNTAX_ERROR for invalid or missing colon or value (47 ms)
        ✓ throws SYNTAX_ERROR for invalid var() usage (38 ms)
        ✓ throws SYNTAX_ERROR for invalid symbols or tokens (13 ms)
        ✓ throws SYNTAX_ERROR for misused logical operators (49 ms)
        ✓ throws UNBALANCED_PARENS for unmatched parentheses (5 ms)

PASS src/at-queries/__tests__/media-query-transform-test.js
  Media Query Transformer
    ✓ basic usage: multiple widths (62 ms)
    ✓ basic usage: nested query (72 ms)
    ✓ basic usage: nested query (82 ms)
    ✓ basic usage: complex object (58 ms)
    ✓ basic usage: lots and lots of max-widths (69 ms)
    ✓ basic usage: lots and lots of min-widths (49 ms)
    ✓ basic usage: multiple heights (54 ms)
    ✓ basic usage: min/max heights (56 ms)
    ✓ single word condition (31 ms)
    ✓ handles comma-separated (or) media queries (33 ms)
    ✓ basic usage: does not modify single queries (11 ms)
    ✓ ignores legacy media query syntax
    ✓ mixed min/max width and height (55 ms)
    ✓ mixed min/max width and height with only height changing (55 ms)
    ✓ mixed min/max width with disjoint ranges (31 ms)
    ✓ mixed min/max width with many disjoint ranges (49 ms)
    ✓ mixed min/max width with overlapping ranges (30 ms)
    ✓ mixed min/max width with mixed ranges (51 ms)
    ✓ mixed min/max width with intersecting ranges (30 ms)
    ✓ mixed min/max width with many intersecting ranges (50 ms)
    ✓ media queries with em units (35 ms)
    ✓ media queries with mixed units (33 ms)
    ✓ skips range simplification for media queries with conflicting units in same dimension across queries (32 ms)
    ✓ skips range simplification for media queries with conflicting units in same dimension and query (33 ms)
    ○ skipped handles and media queries
    ○ skipped combination of keywords and rules

PASS src/at-queries/__tests__/parse-media-query-test.js
  style-value-parser/at-queries
    [parse] media queries
      keywords
        ✓ @media screen (10 ms)
        ✓ @media print (1 ms)
        ✓ @media all (2 ms)
        ✓ @media only screen (1 ms)
        ✓ @media only print and (color) (7 ms)
        ✓ @media not screen (2 ms)
        ✓ @media not all and (monochrome) (5 ms)
      pair rule
        ✓ @media (width: 100px) (10 ms)
        ✓ @media (max-width: 50em) (10 ms)
        ✓ @media (orientation: landscape) (9 ms)
        ✓ @media (update: fast) (9 ms)
        ✓ @media (overflow-block: scroll) (9 ms)
        ✓ @media (display-mode: fullscreen) (9 ms)
        ✓ @media (scripting: enabled) (10 ms)
        ✓ @media (hover: hover) (12 ms)
        ✓ @media (any-hover: none) (9 ms)
        ✓ @media (pointer: coarse) (9 ms)
        ✓ @media (any-pointer: fine) (9 ms)
        ✓ @media (light-level: dim) (9 ms)
        ✓ @media (inverted-colors: inverted) (9 ms)
        ✓ @media (prefers-reduced-motion: reduce) (9 ms)
        ✓ @media (prefers-contrast: more) (10 ms)
        ✓ @media (forced-colors: active) (9 ms)
        ✓ @media (prefers-reduced-transparency: reduce) (9 ms)
        ✓ @media (min-width: calc(300px + 5em)) (13 ms)
        ✓ @media (max-height: calc(100vh - 50px)) (13 ms)
        ✓ @media (aspect-ratio: 16 / 9) (10 ms)
        ✓ @media (device-aspect-ratio: 16 / 9) (12 ms)
        ✓ @media (min-resolution: 150dpi) (11 ms)
        ✓ @media (max-resolution: 600dppx) (10 ms)
        ✓ @media (color-gamut: srgb) (10 ms)
        ✓ @media (display-mode: standalone) (10 ms)
        ✓ @media (prefers-color-scheme: dark) (9 ms)
        ✓ @media (scripting: none) (10 ms)
        ✓ @media (update: slow) (10 ms)
        ✓ @media (overflow-inline: none) (9 ms)
        ✓ @media (display-mode: minimal-ui) (10 ms)
        ✓ @media (hover: none) (9 ms)
        ✓ @media (any-hover: hover) (10 ms)
        ✓ @media (pointer: none) (10 ms)
        ✓ @media (any-pointer: none) (10 ms)
        ✓ @media (light-level: washed) (10 ms)
        ✓ @media (inverted-colors: none) (10 ms)
        ✓ @media (prefers-reduced-motion: no-preference) (9 ms)
        ✓ @media (prefers-contrast: no-preference) (10 ms)
        ✓ @media (forced-colors: none) (9 ms)
        ✓ @media (prefers-reduced-transparency: no-preference) (10 ms)
      word-rule
        ✓ @media (color) (10 ms)
        ✓ @media (color-index) (9 ms)
        ✓ @media (monochrome) (9 ms)
        ✓ @media (grid) (10 ms)
      and combinator
        ✓ @media not all and (monochrome) (6 ms)
        ✓ @media screen and (min-width: 400px) (5 ms)
        ✓ @media (min-height: 600px) and (orientation: landscape) (10 ms)
        ✓ @media screen and (device-aspect-ratio: 16/9) (5 ms)
        ✓ @media (min-aspect-ratio: 3/2) and (max-aspect-ratio: 16/9) (9 ms)
        ✓ @media (min-resolution: 300dpi) and (max-resolution: 600dpi) (9 ms)
        ✓ @media (min-width: 768px) and (max-width: 991px) (9 ms)
        ✓ @media (min-width: 1200px) and (orientation: landscape) (9 ms)
        ✓ @media (min-width: 992px) and (max-width: 1199px) and (pointer: fine) (13 ms)
        ✓ @media (min-width: 576px) and (max-width: 767px) and (hover: none) (14 ms)
        ✓ @media (orientation: landscape) and (pointer: fine) (8 ms)
        ✓ @media (prefers-reduced-motion: reduce) and (update: slow) (9 ms)
        ✓ @media (orientation: landscape) and (update: fast) (9 ms)
      or combinator
        ✓ @media (orientation: portrait), (orientation: landscape) (20 ms)
        ✓ @media (min-width: 500px) or (max-width: 600px) (13 ms)
        ✓ @media (width: 500px), (height: 400px) (19 ms)
        ✓ @media (min-width: 576px), (orientation: portrait) and (max-width: 767px) (18 ms)
        ✓ @media (min-width: 768px) and (max-width: 991px), (orientation: landscape) (19 ms)
        ✓ @media (min-width: 992px) and (max-width: 1199px), (pointer: fine) and (hover: hover) (18 ms)
        ✓ @media (min-width: 576px) and (max-width: 767px), (hover: none) and (any-pointer: coarse) (17 ms)
        ✓ @media (min-width: 576px), (orientation: portrait) and (max-width: 767px), (prefers-color-scheme: dark) (27 ms)
        ✓ @media (min-width: 768px) and (max-width: 991px), (orientation: landscape) and (update: fast), (prefers-reduced-motion: reduce) (27 ms)
        ✓ @media (min-width: 992px) and (max-width: 1199px), (pointer: fine) and (hover: hover), (any-pointer: coarse) and (any-hover: none) (26 ms)
        ✓ @media (min-width: 576px) and (max-width: 767px), (hover: none) and (any-pointer: coarse), (prefers-reduced-transparency: reduce) and (forced-colors: active) (26 ms)
        ✓ @media (color) and (min-width: 400px), screen and (max-width: 700px) (13 ms)
      not combinator
        ✓ @media not (not (not (min-width: 400px))) (54 ms)
        ✓ @media not ((min-width: 500px) and (max-width: 600px) and (max-width: 400px)) (22 ms)
        ✓ @media not all and (monochrome) and (min-width: 600px) (10 ms)
        ✓ @media (max-width: 1440px) and (not (max-width: 1024px)) and (not (max-width: 768px)) and (not (max-width: 458px)) (45 ms)
    [normalize] media queries
      flatten and combinator logic
        ✓ flattens nested and rules (20 ms)
        ✓ flattens complex nested and rules (83 ms)
        ✓ flattens deeply nested and chains (156 ms)
        ✓ handles top-level and and nested and (30 ms)
      simplify not combinator logic
        ✓ removes duplicate nots (15 ms)
        ✓ removes triple negation (55 ms)
        ✓ normalizes not with compound expression (17 ms)
        ✓ removes even number of nots (190 ms)
        ✓ preserves single not over group (17 ms)
      inequality rule tests
        ✓ @media (width > 400px) (9 ms)
        ✓ @media (width >= 400px) (9 ms)
        ✓ @media (400px < width) (10 ms)
        ✓ @media (400px <= width) (9 ms)
        ✓ @media (1000px <= width <= 700px) (8 ms)
        ✓ @media (400px < width <= 700px) (9 ms)
        ✓ @media (400px <= width <= 700px) (8 ms)
        ✓ @media (1000px >= width >= 700px) (8 ms)
        ✓ @media (1000px > width >= 700px) (8 ms)
        ✓ @media (1000px >= width > 700px) (8 ms)
        ✓ @media (1000px > width > 700px) (8 ms)
    simplify range intervals
      ✓ @media (min-width: 100px) and not (max-width: 200px) (19 ms)
      ✓ @media (min-width: 100px) and (min-width: 200px) (8 ms)
      ✓ @media (max-width: 200px) and not (max-width: 300px) (29 ms)
      ✓ @media (min-width: 100px) and not (max-width: 50px) (19 ms)
      ✓ @media (min-width: 100px) and not (max-width: 100px) (18 ms)
      ✓ @media (min-width: 100px) and not (max-width: 99.99px) (19 ms)
      ✓ @media (min-width: 100px) and not (max-width: 99.99px) (19 ms)
      ✓ @media (max-width: 1440px) and (not (max-width: 1024px)) and (not (max-width: 768px)) and (not (max-width: 458px)) (46 ms)
      ✓ @media (min-width: 100px) and (max-width: 500px) and (not (min-width: 600px)) => always-false (27 ms)
      ✓ @media (min-width: 100px) and (max-width: 500px) and (not (max-width: 200px)) => (min-width: 200.01px) and (max-width: 500px) (24 ms)
      ✓ @media (min-width: 100px) and (max-width: 500px) and (not (max-width: 200px)) and (not (min-width: 400px)) => (min-width: 200.01px) and (max-width: 399.99px) (37 ms)
      ✓ @media (min-width: 100px) and (orientation: landscape) => should not simplify (8 ms)
      ✓ @media (min-width: calc(100px + 2em)) and (max-width: 500px) => should not simplify (10 ms)
    additional media query features
      ✓ @media (-webkit-min-device-pixel-ratio: 2) (11 ms)
      ✓ @media (-webkit-max-device-pixel-ratio: 1.5) (11 ms)
      ✓ @media (color-index: 256) (11 ms)
      ✓ @media (min-color-index: 256) (12 ms)
      ✓ @media (max-color-index: 65536) (10 ms)
      ✓ @media (resolution: 300dpi) (11 ms)
      ✓ @media (resolution: 2dppx) (11 ms)
      ✓ @media (resolution: 1.5dpcm) (11 ms)
      ✓ @media (color-gamut: p3) (11 ms)
      ✓ @media (color-gamut: rec2020) (11 ms)
      ✓ @media (video-color-gamut: srgb) (11 ms)
      ✓ @media (video-color-gamut: p3) (10 ms)
      ✓ @media (video-color-gamut: rec2020) (9 ms)

---------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------
File                       | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
---------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------
All files                  |   79.58 |    74.32 |    75.7 |   79.48 |
 src                       |   89.59 |    86.36 |   85.22 |   90.07 |
  base-types.js            |       0 |        0 |       0 |       0 | 16-47
  index.js                 |       0 |        0 |       0 |       0 |
  properties.js            |       0 |        0 |       0 |       0 |
  token-parser.js          |      97 |     96.8 |   95.89 |   97.71 | 101,107,163,408,452
  token-types.js           |   76.92 |    67.64 |   55.55 |   76.92 | 72,88-91,103-119,125,135
 src/at-queries            |   96.81 |     93.4 |      97 |   97.41 |
  media-query-transform.js |   97.56 |    92.85 |     100 |   97.43 | 58
  media-query.js           |   96.68 |    93.44 |    96.7 |    97.4 | 311,322-327,507,552,586
  messages.js              |     100 |      100 |     100 |     100 |
 src/css-types             |   70.79 |    57.07 |   68.13 |    70.6 |
  alpha-value.js           |      80 |       50 |      75 |      80 | 18
  angle-percentage.js      |     100 |      100 |     100 |     100 |
  angle.js                 |     100 |      100 |     100 |     100 |
  basic-shape.js           |   69.56 |       12 |   74.07 |   69.56 | 18,44-61,113-115,161-163,217-219,255-256
  blend-mode.js            |     100 |      100 |     100 |     100 |
  calc-constant.js         |     100 |      100 |     100 |     100 |
  calc.js                  |   93.65 |     92.3 |     100 |   93.65 | 70,78,102,201
  color.js                 |   66.43 |    33.33 |      60 |   65.73 | 40,208-224,260,314,375-381,396,409,428,465,485,490-495,500,508,517,540-547,553-555,560,566,583-601,606-608,614,631
  common-types.js          |   46.42 |    16.66 |      25 |   48.14 | 32,36,40,44,48,54-63,66-74
  custom-ident.js          |   85.71 |      100 |   83.33 |   83.33 | 18
  dashed-ident.js          |   83.33 |      100 |   83.33 |      80 | 20
  dimension.js             |       0 |        0 |       0 |       0 | 18-37
  easing-function.js       |   91.22 |      100 |   89.79 |   91.22 | 31,59,91,120,158
  filter-function.js       |       0 |        0 |       0 |       0 | 18-255
  flex.js                  |   83.33 |      100 |   83.33 |   83.33 | 19
  frequency.js             |      70 |       50 |   83.33 |      70 | 21-24
  length-percentage.js     |     100 |      100 |     100 |     100 |
  length.js                |     100 |      100 |     100 |     100 |
  position.js              |   84.61 |    68.75 |   86.66 |   84.61 | 37-43,88
  resolution.js            |   85.71 |      100 |      80 |   85.71 | 24
  time.js                  |      70 |       50 |   83.33 |      70 | 21-24
  transform-function.js    |    82.2 |    45.94 |   85.14 |   82.09 | 64,106,144,167,191,221-230,302-306,357,391,419-423,459,484-488,530,560,567
 src/properties            |   55.07 |    38.63 |    87.5 |   55.07 |
  border-radius.js         |   41.17 |    30.76 |   84.61 |   41.17 | 25-30,79-132
  box-shadow.js            |     100 |      100 |     100 |     100 |
  transform.js             |      75 |      100 |      75 |      75 | 21
---------------------------|---------|----------|---------|---------|--------------------------------------------------------------------------------------------------------------------
Test Suites: 1 skipped, 26 passed, 26 of 27 total
Tests:       13 skipped, 322 passed, 335 total
Snapshots:   226 passed, 226 total
Time:        5.699 s
Ran all test suites.

> @stylexjs/stylex@0.16.0 test
> cross-env BABEL_ENV=test jest --coverage

PASS __tests__/createOrderedCSSStyleSheet-test.js
  createOrderedCSSStyleSheet
    #insert
      ✓ does not throw on invalid rule (5 ms)
      ✓ insertion of CSSStyleRule (2 ms)
      ✓ insertion of CSSMediaRule
      ✓ insertion of CSSMediaRule within CSSConditionRule (1 ms)
      ✓ insertion order for same group (1 ms)
      ✓ deduplication for same group (1 ms)
      ✓ order for same group (1 ms)
      ✓ insertion order for different groups
    client-side hydration
      ✓ from SSR CSS (13 ms)
      ✓ works when the group marker is in single quotes (2 ms)

PASS __tests__/createSheet-test.js
  createSheet
    client side
      ✓ creates a sheet (18 ms)
      ✓ creates multiple sheets (1 ms)
      ✓ reuses existing sheet for given root (3 ms)
      ✓ supports updating styles across multiple documents (20 ms)
    server side
      ✓ creates a sheet (1 ms)
      ✓ creates multiple sheets

PASS __tests__/inject-test.js
  inject
    ✓ @keyframes (10 ms)
    ✓ @positionTry (1 ms)
    ✓ ::view-transition (1 ms)
    ✓ @media (1 ms)
    ✓ ::before (1 ms)
    ✓ :hover (1 ms)
    ✓ ::before:hover

PASS __tests__/stylex-test.js
  stylex
    error handling
      ✓ stylex.create (28 ms)
      ✓ stylex.createTheme (1 ms)
      ✓ stylex.defineConsts
      ✓ stylex.defineVars (1 ms)
      ✓ stylex.firstThatWorks (1 ms)
      ✓ stylex.keyframes (1 ms)
      ✓ stylex.positionTry (1 ms)
      ✓ stylex.viewTransitionClass
      ✓ stylex.defaultMarker (1 ms)
      ✓ stylex.typesangle (1 ms)
      ✓ stylex.typescolor (1 ms)
      ✓ stylex.typesurl
      ✓ stylex.typesimage (1 ms)
      ✓ stylex.typesinteger (1 ms)
      ✓ stylex.typeslengthPercentage
      ✓ stylex.typeslength (1 ms)
      ✓ stylex.typespercentage
      ✓ stylex.typesnumber (1 ms)
      ✓ stylex.typesresolution (1 ms)
      ✓ stylex.typestime
      ✓ stylex.typestransformFunction (1 ms)
      ✓ stylex.typestransformList
      ✓ stylex.whenancestor (1 ms)
      ✓ stylex.whendescendant (1 ms)
      ✓ stylex.whensiblingBefore
      ✓ stylex.whensiblingAfter (1 ms)
      ✓ stylex.whenanySibling (7 ms)
    props
      ✓ basic resolve
      ✓ merge order (1 ms)
      ✓ with a top-level array of simple overridden classes (1 ms)
      ✓ with nested arrays and pseudoClasses overriding things
      ✓ with just pseudoclasses
      ✓ with complicated set of arguments (1 ms)
      ✓ with dynamic styles (2 ms)
      ✓ data prop for source map data (1 ms)

--------------------------------|---------|----------|---------|---------|-------------------
File                            | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
--------------------------------|---------|----------|---------|---------|-------------------
All files                       |    97.4 |     83.9 |      98 |   97.36 |
 src                            |    97.1 |    91.66 |   96.87 |   97.05 |
  inject.js                     |     100 |      100 |     100 |     100 |
  stylex.js                     |   96.92 |    91.66 |   96.77 |   96.87 | 251-252
 src/stylesheet                 |   97.58 |    82.66 |     100 |   97.54 |
  createCSSStyleSheet.js        |   93.75 |    64.28 |     100 |   93.75 | 33
  createOrderedCSSStyleSheet.js |   97.33 |    83.33 |     100 |   97.26 | 136,206
  createSheet.js                |     100 |    91.66 |     100 |     100 | 39
  utils.js                      |     100 |      100 |     100 |     100 |
--------------------------------|---------|----------|---------|---------|-------------------
Test Suites: 4 passed, 4 total
Tests:       58 passed, 58 total
Snapshots:   24 passed, 24 total
Time:        2.242 s
Ran all test suites.

> @stylexjs/babel-plugin@0.16.0 test
> jest --coverage

PASS src/shared/utils/__tests__/split-css-value-test.js
  Ensure CSS values are split correctly
    ✓ simple space-separated numbers (10 ms)
    ✓ simple space-separated lengths (1 ms)
    ✓ simple comma-separated numbers (1 ms)
    ✓ simple comma-separated lengths (1 ms)
    ✓ Does not lists within functions (2 ms)
    ✓ Does not lists within calc (1 ms)

PASS src/shared/types/__tests__/stylex-types-test.js
  stylex-types-test
    class methods
      ✓ angle (10 ms)
      ✓ color (1 ms)
      ✓ image (1 ms)
      ✓ integer (1 ms)
      ✓ length (2 ms)
      ✓ percentage (2 ms)
      ✓ num
      ✓ integer (1 ms)
      ✓ resolution (1 ms)
      ✓ time (1 ms)
      ✓ transformFunction (1 ms)
      ✓ transformList
      ✓ url (1 ms)
    standalone factory functions
      ✓ angle (1 ms)
      ✓ color (1 ms)
      ✓ image
      ✓ integer (1 ms)
      ✓ length
      ✓ percentage
      ✓ num (1 ms)
      ✓ integer
      ✓ resolution (1 ms)
      ✓ time
      ✓ transformFunction
      ✓ transformList (1 ms)
      ✓ url

PASS src/shared/utils/__tests__/transform-value-test.js
  transformValue content property tests
    ✓ preserves CSS functions without quotes (14 ms)
    ✓ preserves CSS keywords without quotes (2 ms)
    ✓ handles mixed content values (2 ms)
    ✓ adds quotes to plain strings (2 ms)

PASS src/utils/__tests__/state-manager-test.js
  StateManager config parsing
    "classNamePrefix" option
      ✓ logs errors if invalid (14 ms)
      ✓ default value (2 ms)
      ✓ empty string value (2 ms)
      ✓ provided value (1 ms)
    "debug" option (boolean)
      ✓ logs errors if invalid (2 ms)
      ✓ default value (1 ms)
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "dev" option (boolean)
      ✓ logs errors if invalid (2 ms)
      ✓ default value (1 ms)
      ✓ false value
      ✓ true value (1 ms)
    "enableDebugClassNames" option (boolean)
      ✓ logs errors if invalid
      ✓ default value (1 ms)
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "enableDebugDataProp" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "enableDevClassNames" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value (5 ms)
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "enableInlinedConditionalMerge" option (boolean)
      ✓ logs errors if invalid
      ✓ default value
      ✓ false value (1 ms)
      ✓ true value
    "enableMinifiedKeys" option (boolean)
      ✓ logs errors if invalid
      ✓ default value (1 ms)
      ✓ false value (1 ms)
      ✓ true value
    "importSources" option
      ✓ logs errors if invalid (2 ms)
      ✓ default value
      ✓ empty value (1 ms)
      ✓ provided value (2 ms)
    "runtimeInjection" option
      ✓ logs errors if invalid (2 ms)
      ✓ default value
      ✓ false value
      ✓ true value (1 ms)
      ✓ "true" value (1 ms)
    "styleResolution" option
      ✓ logs errors if invalid (1 ms)
      ✓ default value (1 ms)
      ✓ valid values (1 ms)
    "test" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value
      ✓ false value (1 ms)
      ✓ true value (1 ms)
    "treeshakeCompensation" option (boolean)
      ✓ logs errors if invalid (1 ms)
      ✓ default value
      ✓ false value
      ✓ true value (1 ms)
    "unstable_moduleResolution" option
      ✓ default value
      ✓ "commonJS" type
      ✓ "haste" type (2 ms)
      ✓ "rootDir" option (1 ms)
    "enableFontSizePxToRem" option (boolean)
      ✓ logs errors if invalid
      ✓ default value (1 ms)
      ✓ false value (1 ms)
      ✓ true value

PASS src/shared/preprocess-rules/__tests__/PreRule-test.js
  Converting PreRule to CSS
    ✓ should convert a PreRule to CSS (15 ms)

PASS src/shared/utils/__tests__/convert-to-className-test.js
  convert-to-className test
    ✓ converts style to className (13 ms)
    ✓ prefixes classname with property name when options.debug is true (1 ms)
    ✓ prefixes classname with prefix only when options.enableDebugClassNames is false (1 ms)
    ✓ prefixes classname with prefix only when options.debug is false (1 ms)
    ✓ converts margin number to px (1 ms)
    ✓ keeps number for zIndex
    ✓ keeps fr for 0 fraction values (1 ms)
    ✓ keeps fr for 0 percentage values (1 ms)
    ✓ keeps number for opacity (2 ms)
    ✓ handles array of values (2 ms)
    ✓ handles array of values with var (1 ms)
    ✓ handles array with multiple vars (2 ms)
    ✓ handles array with multiple vars and multiple fallbacks (6 ms)
    ✓ handles array with variable default and multiple constant fallbacks (1 ms)
    ✓ handles array with variable default and multiple variable and constant fallbacks (1 ms)
    ✓ handles array of all variables (1 ms)

PASS src/shared/preprocess-rules/__tests__/flatten-raw-style-obj-test.js
  Flatten Style Object with legacy shorthand expansion
    Simple Objects
      ✓ should create PreRule objects for simple style values (7 ms)
      ✓ should expand simple gap values
      ✓ should expand simple containIntrinsicSize values
      ✓ should expand simple shorthands (2 ms)
      ✓ should expand shorthands with space-separated values (2 ms)
      ✓ should expand simple gap with space-separated values (1 ms)
      ✓ should expand simple containIntrinsicSize with space-separated values (1 ms)
      ✓ should expand shorthands with fallbacks (1 ms)
    Nested Objects
      ✓ Legacy Pseudo classes (1 ms)
      ✓ Modern Pseudo classes (2 ms)
      ✓ Modern Pseudo classes with shorthands (1 ms)
      ✓ Modern Pseudo classes with complex shorthands (1 ms)
      ✓ Modern pseudo and at-rules (1 ms)
    Multiple levels of nesting
      ✓ Fallback styles within nested objects (1 ms)
      ✓ pseudo within a media query - legacy syntax
      ✓ pseudo with a pseudo within a media query - legacy syntax (1 ms)
      ✓ pseudo within a media query - modern syntax
      ✓ extra deep, pseudo within a media query - modern syntax (1 ms)

PASS src/visitors/__tests__/parse-stylex-create-arg-test.js
  custom path evaluation works as expected
    ✓ Evaluates Empty Object (26 ms)
    ✓ Evaluates Static Style Object (10 ms)
    ✓ Evaluates object with function styles (identifier) (15 ms)
    ✓ Evaluates object with function styles (binary expression) (7 ms)

PASS src/utils/__tests__/evaluate-path-test.js
  custom path evaluation works as expected
    ✓ Evaluates Primitive Value expressions (54 ms)
    ✓ Evaluates Simple Arrays and Objects (9 ms)
    ✓ Evaluates Objects with spreads (5 ms)
    ✓ Evaluates built-in functions (4 ms)
    ✓ Evaluates custom functions (3 ms)
    ✓ Evaluates custom functions that return non-static values (1 ms)
    ✓ Evaluates custom functions used as spread values (2 ms)
    ✓ Evaluates custom functions that take paths (1 ms)
    evaluating function expressions
      ✓ function with a single params (3 ms)
      ✓ function with a two params (2 ms)
      ✓ Array map (2 ms)
      ✓ Array filter (2 ms)
      ✓ Array map and filter (3 ms)
      ✓ Object entries (6 ms)
      ✓ Methods called by string should be bind (2 ms)

PASS __tests__/validation-import-export-test.js
  @stylexjs/babel-plugin
    [validation] stylex imports
      ✓ valid import: non-stylex (54 ms)
      ✓ valid import: named export of stylex.create() (14 ms)
      ✓ valid import: default export of stylex.create() (4 ms)
      ✓ valid import: positionTry named import (8 ms)
      ✓ valid import: positionTry from namespace import (3 ms)
      ✓ valid import: viewTransitionClass named import (3 ms)
      ✓ valid import: viewTransitionClass from namespace import (2 ms)

PASS __tests__/transform-stylex-keyframes-test.js
  @stylexjs/babel-plugin
    [transform] CSS keyframes
      ✓ keyframes object (86 ms)
      ✓ local variables used in keyframes object (8 ms)
      ✓ template literals used in keyframes object (16 ms)
      ✓ keyframes object used inline (6 ms)
      ✓ keyframes object (5 ms)
      ✓ [legacy] keyframes object RTL polyfills (6 ms)

PASS __tests__/transform-stylex-viewTransitionClass-test.js
  @stylexjs/babel-plugin
    [transform] stylex.viewTransitionClass
      ✓ basic object (84 ms)
      ✓ local variables used in view transition class (9 ms)
      ✓ using keyframes (10 ms)
      ✓ using inline keyframes (7 ms)
      ○ skipped using contextual styles

PASS __tests__/transform-stylex-positionTry-test.js
  @stylexjs/babel-plugin
    [transform] stylex.positionTry
      ✓ positionTry object (82 ms)
      ✓ local constants used in positionTry object (8 ms)
      ✓ positionTry value used within create (13 ms)
      ✓ positionTry object used inline (8 ms)

PASS __tests__/legacy/transform-pre-plugin-test.js
  [transform] stylex.create()
    ✓ transforms style object (131 ms)

PASS __tests__/legacy/transform-logical-values-test.js
  @stylexjs/babel-plugin
    [transform] CSS logical values
      ✓ value "inline-end" for "clear" property (84 ms)
      ✓ value "inline-start" for "clear" property (7 ms)
      ✓ value "inline-end" for "float" property (7 ms)
      ✓ value "inline-start" for "float" property (6 ms)
      ✓ value "end" for "textAlign" property (7 ms)
      ✓ value "start" for "textAlign" property (5 ms)
      ✓ [legacy] value "e-resize" for "cursor" property (5 ms)
      ✓ [legacy] value "w-resize" for "cursor" property (4 ms)
      ✓ [legacy] value "ne-resize" for "cursor" property (15 ms)
      ✓ [legacy] value "nw-resize" for "cursor" property (6 ms)
      ✓ [legacy] value "se-resize" for "cursor" property (4 ms)
      ✓ [legacy] value "sw-resize" for "cursor" property (5 ms)
      ✓ [legacy] value of "animationName" property (4 ms)
      ✓ [legacy] value of "backgroundPosition" property (7 ms)
      ✓ [legacy] value of "paddingInline" property (16 ms)
      ✓ [legacy] value of "boxShadow" property (36 ms)
      ✓ [legacy] value of "textShadow" property (12 ms)

PASS __tests__/transform-stylex-defineConsts-test.js
  @stylexjs/babel-plugin
    [transform] stylex.defineConsts()
      ✓ constants are unique (88 ms)
      ✓ constants object (8 ms)
      ✓ constants object (haste) (7 ms)
      ✓ constant names: special characters (4 ms)
      ✓ constant names: number (4 ms)
    [transform] stylex.defineConsts() in stylex.create()
      ✓ adds placeholder for constant value from constants.stylex (15 ms)
      ✓ adds media query placeholder from constants.stylex (11 ms)
      ✓ works with dynamic styles constants (16 ms)
      ✓ works with dynamic styles at-rules (7 ms)
      ✓ adds multiple media query placeholders from constants.stylex (8 ms)
      ✓ adds nested media query placeholders from constants.stylex (9 ms)
      ○ skipped works with firstThatWorks

PASS __tests__/transform-stylex-defineVars-test.js
  @stylexjs/babel-plugin
    [transform] stylex.defineVars()
      ✓ tokens as null (72 ms)
      ✓ tokens object (7 ms)
      ✓ tokens object (haste) (7 ms)
      ✓ tokens object deep in file tree (5 ms)
      ✓ tokens object with nested @-rules (6 ms)
      ✓ literal tokens object (4 ms)
      ✓ local variable tokens object (6 ms)
      ✓ local variables used in tokens objects (4 ms)
      ✓ template literals used in tokens objects (8 ms)
      ✓ expressions used in tokens objects (11 ms)
      ✓ stylex.types used in tokens object (4 ms)
      ✓ multiple variables objects (same file) (3 ms)
      ✓ multiple variables objects (dependency) (4 ms)
      ✓ multiple variables objects (different files) (5 ms)
      options `debug:true`
        ✓ tokens object includes debug data (4 ms)
        ✓ tokens object includes debug data (keys with special characters) (3 ms)
      options `dev:true`
        ✓ tokens object (3 ms)
      options `runtimeInjection:true`
        ✓ tokens object (10 ms)
      options `themeFileExtension`
        ✓ processes tokens in files with configured extension (4 ms)

PASS __tests__/legacy/transform-legacy-polyfills-test.js
  @stylexjs/babel-plugin
    [transform] CSS property polyfills (styleResolution: application-order)
      ✓ [non-standard] "end" (aka "insetInlineEnd") (89 ms)
      ✓ [non-standard] "marginEnd" (aka "marginInlineEnd") (6 ms)
      ✓ [non-standard] "marginHorizontal" (aka "marginInline") (5 ms)
      ✓ [non-standard] "marginStart" (aka "marginInlineStart") (5 ms)
      ✓ [non-standard] "marginVertical" (aka "marginBlock") (6 ms)
      ✓ [non-standard] "paddingEnd" (aka "paddingInlineEnd") (4 ms)
      ✓ [non-standard] "paddingHorizontal" (aka "paddingInline") (3 ms)
      ✓ [non-standard] "paddingStart" (aka "paddingInlineStart") (4 ms)
      ✓ [non-standard] "paddingVertical" (aka "paddingBlock") (9 ms)
      ✓ [non-standard] "start" (aka "insetInlineStart") (7 ms)
    [transform] CSS value polyfills (styleResolution: application-order)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "clear" property (4 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "clear" property (4 ms)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "float" property (3 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "float" property (3 ms)
    [transform] CSS property polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: true)
      ✓ [non-standard] "end" (aka "insetInlineEnd") (3 ms)
      ✓ [non-standard] "marginEnd" (aka "marginInlineEnd") (4 ms)
      ✓ [non-standard] "marginHorizontal" (aka "marginInline") (3 ms)
      ✓ [non-standard] "marginStart" (aka "marginInlineStart") (3 ms)
      ✓ [non-standard] "marginVertical" (aka "marginBlock") (4 ms)
      ✓ [non-standard] "paddingEnd" (aka "paddingInlineEnd") (4 ms)
      ✓ [non-standard] "paddingHorizontal" (aka "paddingInline") (3 ms)
      ✓ [non-standard] "paddingStart" (aka "paddingInlineStart") (3 ms)
      ✓ [non-standard] "paddingVertical" (aka "paddingBlock") (3 ms)
      ✓ [non-standard] "start" (aka "insetInlineStart") (3 ms)
    [transform] CSS value polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: true)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "clear" property (3 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "clear" property (4 ms)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "float" property (4 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "float" property (4 ms)
    [transform] CSS property polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: false)
      ✓ [non-standard] "end" (aka "insetInlineEnd") (4 ms)
      ✓ [non-standard] "marginEnd" (aka "marginInlineEnd") (4 ms)
      ✓ [non-standard] "marginHorizontal" (aka "marginInline") (3 ms)
      ✓ [non-standard] "marginStart" (aka "marginInlineStart") (4 ms)
      ✓ [non-standard] "marginVertical" (aka "marginBlock") (12 ms)
      ✓ [non-standard] "paddingEnd" (aka "paddingInlineEnd") (3 ms)
      ✓ [non-standard] "paddingHorizontal" (aka "paddingInline") (4 ms)
      ✓ [non-standard] "paddingStart" (aka "paddingInlineStart") (4 ms)
      ✓ [non-standard] "paddingVertical" (aka "paddingBlock") (2 ms)
      ✓ [non-standard] "start" (aka "insetInlineStart") (3 ms)
    [transform] CSS value polyfills (styleResolution: legacy-expand-shorthands and enableLogicalStylesPolyfill: false)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "clear" property (3 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "clear" property (2 ms)
      ✓ [non-standard] value "end" (aka "inlineEnd") for "float" property (3 ms)
      ✓ [non-standard] value "start" (aka "inlineStart") for "float" property (2 ms)

PASS __tests__/validation-stylex-keyframes-test.js
  @stylexjs/babel-plugin
    [validation] stylex.keyframes()
      ✓ local variable keyframes object (140 ms)
      ✓ only argument must be an object of objects (34 ms)
      ✓ allow defined CSS variables in keyframes (10 ms)
      ✓ allow undefined CSS variables in keyframes (4 ms)

PASS __tests__/transform-stylex-createTheme-test.js
  @stylexjs/babel-plugin
    [transform] stylex.createTheme()
      ✓ theme object (98 ms)
      ✓ theme object (haste) (19 ms)
      ✓ theme object deep in file tree (11 ms)
      ✓ literal tokens theme object (9 ms)
      ✓ local variable theme object (16 ms)
      ✓ local variables used in theme objects (8 ms)
      ✓ template literals used in theme objects (8 ms)
      ✓ expressions used in theme objects (9 ms)
      ✓ stylex.types used in theme object (11 ms)
      ✓ multiple theme objects (same vars) (10 ms)
      ✓ multiple theme objects (different vars) (17 ms)
      ✓ themes are indifferent to order of keys (16 ms)
      options `debug:true`
        ✓ adds debug data (10 ms)
        ✓ adds debug data for npm packages (6 ms)
        ✓ adds debug data (haste) (9 ms)
        ✓ adds debug data for npm packages (haste) (6 ms)
      options `dev:true`
        ✓ adds dev data (5 ms)
      options `runtimeInjection:true`
        ✓ adds style injection (11 ms)

PASS __tests__/transform-process-test.js
  @stylexjs/babel-plugin
    [transform] stylexPlugin.processStylexRules
      ✓ no rules (110 ms)
      ✓ all rules (useLayers:false) (47 ms)
      ✓ all rules (useLayers:true) (31 ms)
      ✓ all rules (legacyDisableLayers:true) (26 ms)
      ✓ legacy-expand-shorthands with logical styles polyfill (19 ms)
      ✓ legacy-expand-shorthands duplicates theme selectors for higher precedence (15 ms)
      ✓ no mutation of rules (15 ms)

PASS __tests__/transform-value-normalization-test.js
  @stylexjs/babel-plugin
    [transform] CSS value normalization
      ✓ normalize whitespace in CSS values (95 ms)
      ✓ no dimensions for 0 values (7 ms)
      ✓ 0 timings are all "0s" (7 ms)
      ✓ 0 angles are all "0deg" (6 ms)
      ✓ calc() preserves spaces around "+" and "-" (7 ms)
      ✓ strip leading zeros (6 ms)
      ✓ use double quotes in empty strings (4 ms)
      ✓ timing values are converted to seconds unless < 10ms (10 ms)
      ✓ transforms non-unitless property values (10 ms)
      ✓ number values rounded down to four decimal points (6 ms)
      ✓ "content" property values are wrapped in quotes (12 ms)
      ✓ [legacy] no space before "!important" (5 ms)
    [transform] fontSize with:
      enableFontSizePxToRem: true
        ✓ transforms font size from px to rem (7 ms)
        ✓ transforms font size from px to rem even with calc (4 ms)
      enableFontSizePxToRem: false
        ✓ ignores px font size (7 ms)
        ✓ ignores px font size within calc (4 ms)

PASS __tests__/evaluation-import-test.js
  Evaluation of imported values works based on configuration
    Theme name hashing based on fileName alone works
      ✓ Importing file with ".stylex" suffix works (95 ms)
      ✓ Importing file with ".stylex" and reading __varGroupHash__ returns a className (9 ms)
      ✓ Maintains variable names that start with -- from "*.stylex" files (9 ms)
      ✓ Importing file with ".stylex" suffix works with keyframes (11 ms)
      ✓ Importing file with ".stylex.js" suffix works (8 ms)
      ✓ Importing file with ".stylex.js" with an alias suffix works (7 ms)
      ✓ Importing file without a ".stylex" suffix fails (133 ms)
      ✓ Imported vars with ".stylex" suffix can be used as style keys (7 ms)
      ✓ Imported vars with ".stylex" suffix can be used as style keys dynamically (14 ms)
    Module resolution commonJS
      ✓ Recognizes .ts stylex imports when resolving .js relative imports (8 ms)

PASS __tests__/validation-stylex-defineConsts-test.js
  @stylexjs/babel-plugin
    [transform] stylex.defineConsts()
      ✓ invalid export: not bound (207 ms)
      ✓ invalid argument: none (7 ms)
      ✓ invalid argument: too many (4 ms)
      ✓ invalid argument: number (9 ms)
      ✓ invalid argument: string (5 ms)
      ✓ invalid argument: non-static (5 ms)
      ✓ valid argument: object (11 ms)
      ✓ invalid key: starts with "--" (15 ms)
      ✓ invalid key: non-static (6 ms)
      ✓ invalid value: non-static (8 ms)
      ✓ valid value: number (5 ms)
      ✓ valid value: string (5 ms)
      ○ skipped valid value: keyframes

PASS __tests__/transform-stylex-props-test.js
  @stylexjs/babel-plugin
    [transform] stylex.props() call
      ✓ empty stylex.props call (73 ms)
      ✓ basic stylex call (26 ms)
      ✓ stylex call with number (13 ms)
      ✓ stylex call with computed number (7 ms)
      ✓ stylex call with computed string (7 ms)
      ✓ stylex call with multiple namespaces (10 ms)
      ✓ stylex call within variable declarations (7 ms)
      ✓ stylex call with styles variable assignment (5 ms)
      ✓ stylex call within export declarations (6 ms)
      ✓ stylex call with short-form properties (4 ms)
      ✓ stylex call with exported short-form properties (4 ms)
      ✓ Last property wins, even if shorthand (9 ms)
      ✓ stylex call using styles with pseudo selectors (6 ms)
      ✓ stylex call using styles with pseudo selectors within property (7 ms)
      ✓ stylex call using styles with Media Queries (6 ms)
      ✓ stylex call using styles with Media Queries within property (7 ms)
      ✓ stylex call using styles with Support Queries (4 ms)
      ✓ stylex call using styles with Support Queries within property (4 ms)
      props calls with jsx
        ✓ local static styles (16 ms)
        ✓ local dynamic styles (17 ms)
        ✓ non-local styles (9 ms)
      with contextual styles and collisions
        ✓ stylex call with conditions (4 ms)
        ✓ stylex call with conditions - skip conditional (5 ms)
        ✓ stylex call with property collisions (4 ms)
        ✓ stylex call with reverting by null (4 ms)
        ✓ stylex call with short-form property collisions (5 ms)
        ✓ stylex call with short-form property collisions with null (4 ms)
        ✓ stylex call with conditions and collisions (4 ms)
        ✓ stylex call with conditions and collisions - skip conditional (4 ms)
        ✓ stylex call with conditions and null collisions (4 ms)
        ✓ stylex call with conditions and null collisions - skip conditional (11 ms)
      with plugin options
        ✓ dev:true and enableInlinedConditionalMerge:false (9 ms)
        ✓ dev:true (8 ms)
    Keep stylex.create when needed
      ✓ stylex call with computed key access (4 ms)
      ✓ stylex call with composition of external styles (3 ms)
      ✓ stylex call using exported styles with pseudo selectors, and queries (3 ms)
      even when stylex calls come first
        ✓ stylex call with computed key access (3 ms)
        ✓ stylex call with mixed access (6 ms)
        ✓ stylex call with composition of external styles (3 ms)
        ✓ stylex call using exported styles with pseudo selectors, and queries (3 ms)
    Setting custom import paths
      ✓ Basic stylex call (3 ms)
    Specific edge-case bugs
      ✓ Basic stylex call (7 ms)
      ✓ Basic stylex call (7 ms)
      ✓ Stylex call with debug on (7 ms)
      ✓ Stylex call with debug on and debug classnames off (7 ms)
    dealing with imports
      ✓ all local styles (4 ms)
      ✓ regular style import (4 ms)
      ✓ default import from .stylex.js file (6 ms)
      ✓ object import from .stylex.js file (4 ms)
      ○ skipped local array styles

PASS __tests__/legacy/transform-logical-properties-test.js
  @stylexjs/babel-plugin
    [transform] CSS logical properties (styleResolution: "application-order")
      ✓ "borderBlockColor" (89 ms)
      ✓ "borderBlockStartColor" (7 ms)
      ✓ "borderBlockEndColor" (8 ms)
      ✓ "borderInlineColor" (6 ms)
      ✓ "borderInlineStartColor" (11 ms)
      ✓ "borderInlineEndColor" (12 ms)
      ✓ "borderBlockStyle" (6 ms)
      ✓ "borderBlockStartStyle" (5 ms)
      ✓ "borderBlockEndStyle" (11 ms)
      ✓ "borderInlineStyle" (7 ms)
      ✓ "borderInlineStartStyle" (5 ms)
      ✓ "borderInlineEndStyle" (5 ms)
      ✓ "borderBlockWidth" (4 ms)
      ✓ "borderBlockStartWidth" (4 ms)
      ✓ "borderBlockEndWidth" (3 ms)
      ✓ "borderInlineWidth" (5 ms)
      ✓ "borderInlineStartWidth" (6 ms)
      ✓ "borderInlineEndWidth" (5 ms)
      ✓ "borderTopStartRadius" (5 ms)
      ✓ "borderBottomStartRadius" (4 ms)
      ✓ "borderTopEndRadius" (3 ms)
      ✓ "borderBottomEndRadius" (4 ms)
      ✓ "insetBlock" (3 ms)
      ✓ "insetBlockEnd" (4 ms)
      ✓ "insetBlockStart" (5 ms)
      ✓ "insetInline" (4 ms)
      ✓ "insetInlineEnd" (4 ms)
      ✓ "insetInlineStart" (4 ms)
      ✓ "marginBlock" (3 ms)
      ✓ "marginBlockEnd" (4 ms)
      ✓ "marginBlockStart" (4 ms)
      ✓ "marginInline" (3 ms)
      ✓ "marginInlineEnd" (2 ms)
      ✓ "marginInlineStart" (3 ms)
      ✓ "paddingBlock" (3 ms)
      ✓ "paddingBlockEnd" (8 ms)
      ✓ "paddingBlockStart" (3 ms)
      ✓ "paddingInline" (2 ms)
      ✓ "paddingInlineEnd" (3 ms)
      ✓ "paddingInlineStart" (3 ms)
      ✓ [legacy] short-form property value flipping (3 ms)
    [transform] CSS logical properties  (styleResolution: "legacy-expand-shorthands")
      with enableLogicalStylesPolyfill: true
        ✓ marginInline (4 ms)
        ✓ marginInlineStart (3 ms)
        ✓ marginInlineEnd (4 ms)
        ✓ paddingInline (3 ms)
        ✓ paddingInlineStart (3 ms)
        ✓ paddingInlineEnd (2 ms)
        ✓ borderInlineColor (3 ms)
        ✓ borderInlineStartColor (3 ms)
        ✓ borderInlineStyle (3 ms)
        ✓ borderInlineWidth (3 ms)
        ✓ borderBlockColor (3 ms)
        ✓ borderBlockStyle (3 ms)
        ✓ borderBlockWidth (3 ms)
        ✓ insetBlock (3 ms)
        ✓ insetBlockStart (3 ms)
        ✓ insetBlockEnd (2 ms)
        ✓ insetInline (3 ms)
        ✓ insetInlineStart (3 ms)
        ✓ insetInlineEnd (2 ms)
        ✓ borderTopStartRadius (3 ms)
        ✓ borderBottomStartRadius (2 ms)
        ✓ borderTopEndRadius (3 ms)
        ✓ borderBottomEndRadius (3 ms)
      with enableLogicalStylesPolyfill: false
        ✓ marginInline (2 ms)
        ✓ marginInlineStart (3 ms)
        ✓ marginInlineEnd (2 ms)
        ✓ paddingInline (3 ms)
        ✓ paddingInlineStart (2 ms)
        ✓ paddingInlineEnd (2 ms)
        ✓ borderInlineColor (2 ms)
        ✓ borderInlineStartColor (2 ms)
        ✓ borderInlineStyle (2 ms)
        ✓ borderInlineWidth (2 ms)
        ✓ borderBlockColor (3 ms)
        ✓ borderBlockStyle (7 ms)
        ✓ borderBlockWidth (2 ms)
        ✓ insetBlock (3 ms)
        ✓ insetBlockStart (2 ms)
        ✓ insetBlockEnd (3 ms)
        ✓ insetInline (3 ms)
        ✓ insetInlineStart (2 ms)
        ✓ insetInlineEnd (2 ms)
        ✓ borderTopStartRadius (3 ms)
        ✓ borderBottomStartRadius (2 ms)
        ✓ borderTopEndRadius (2 ms)
        ✓ borderBottomEndRadius (3 ms)

FAIL __tests__/transform-import-export-test.js
  @stylexjs/babel-plugin
    [transform] stylex imports
      ✓ import: none (115 ms)
      ✓ import: non-stylex (24 ms)
      ✓ require: non-stylex (22 ms)
      ✕ import: wildcard (the default) (56 ms)
      ✕ import: wildcard (non-stylex name) (27 ms)
      ✕ import: named (31 ms)
      ✕ import: named alias (24 ms)
      ✕ importSources (string) (21 ms)
      ✕ importSources (object) (26 ms)
      ✕ [META-ONLY] import: default (18 ms)
    [transform] stylex exports
      ✓ export: named property (5 ms)
      ✓ export: named declaration (3 ms)
      ✓ export: default (5 ms)
      ✓ module.export (5 ms)

  ● @stylexjs/babel-plugin › [transform] stylex imports › import: wildcard (the default)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: wildcard (the default) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - stylex.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      230 |       const { code, metadata } = transform(fixture);
      231 |
    > 232 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      233 |         "import * as stylex from '@stylexjs/stylex';
      234 |         export const constants = {
      235 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:232:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › import: wildcard (non-stylex name)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: wildcard (non-stylex name) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - foo.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      365 |       const { code, metadata } = transform(fixture);
      366 |
    > 367 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      368 |         "import * as foo from '@stylexjs/stylex';
      369 |         export const constants = {
      370 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:367:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › import: named

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: named 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      415 |       const { code, metadata } = transform(fixture);
      416 |
    > 417 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      418 |         "import { create, createTheme, defineConsts, defineVars, firstThatWorks, keyframes, positionTry, props, viewTransitionClass } from '@stylexjs/stylex';
      419 |         export const constants = {
      420 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:417:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › import: named alias

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: named alias 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - _props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      474 |       const { code, metadata } = transform(fixture);
      475 |
    > 476 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      477 |         "import { create as _create, createTheme as _createTheme, defineConsts as _defineConsts, defineVars as _defineVars, firstThatWorks as _firstThatWorks, keyframes as _keyframes, positionTry as _positionTry, props as _props, viewTransitionClass as _viewTransitionClass } from '@stylexjs/stylex';
      478 |         export const constants = {
      479 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:476:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › importSources (string)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports importSources (string) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - stylex.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      515 |       const { code, metadata } = transform(fixture, options);
      516 |
    > 517 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      518 |         "import * as stylex from 'foo-bar';
      519 |         export const constants = {
      520 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:517:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › importSources (object)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports importSources (object) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - css.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      569 |       const { code, metadata } = transform(fixture, options);
      570 |
    > 571 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      572 |         "import { css, html } from 'react-strict-dom';
      573 |         export const constants = {
      574 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:571:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › [META-ONLY] import: default

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports [META-ONLY] import: default 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - stylex.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      610 |       const { code, metadata } = transform(fixture);
      611 |
    > 612 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      613 |         "import stylex from 'stylex';
      614 |         export const constants = {
      615 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:612:20)

 › 7 snapshots failed.
PASS __tests__/legacy/stylex-transform-legacy-shorthands-test.js
  legacy-shorthand-expansion style resolution (enableLogicalStylesPolyfill: true)
    while using RN non-standard properties
      ✓ padding: with longhand property collisions (99 ms)
      ✓ padding: with null longhand property collisions (11 ms)
      ✓ borderColor: basic shorthand (7 ms)
      ✓ borderWidth: basic shorthand (7 ms)
    while using standard logical properties
      ✓ padding: basic shorthand (8 ms)
      ✓ margin: basic shorthand (5 ms)
      ✓ paddingInline: basic shorthand (5 ms)
      ✓ paddingInline: basic multivalue shorthand (5 ms)
      ✓ padding: with longhand property collisions (12 ms)
      ✓ padding: with longhand directional and logical property collisions (12 ms)
      ✓ padding: with null longhand property collisions (6 ms)
      ✓ marginInline: basic shorthand (4 ms)
      ✓ marginInline: basic multivalue shorthand (3 ms)
      ✓ marginBlock: basic multivalue shorthand (4 ms)
      ✓ margin: with longhand property collisions (8 ms)
      ✓ margin: with null longhand property collisions (7 ms)
      ✓ border: basic shorthand (4 ms)
      ✓ borderInlineColor: basic shorthand (4 ms)
      ✓ borderInlineWidth: basic shorthand (4 ms)
      ✓ inset: basic shorthand (4 ms)
      ✓ inset: multivalue shorthand (10 ms)
      ✓ insetInline: basic shorthand (3 ms)
      ✓ insetInline: multivalue shorthand (4 ms)
      ✓ insetBlock: basic shorthand (5 ms)
      ✓ insetBlock: multivalue shorthand (4 ms)
      ✓ listStyle: basic shorthand (6 ms)
      ✓ listStyle: multi-value shorthand (6 ms)
      ✓ listStyle: with longhand collisions (6 ms)
      ✓ listStyle: invalid values (162 ms)
  legacy-shorthand-expansion resolution (enableLogicalStylesPolyfill: false)
    while using RN non-standard properties
      ✓ padding: with longhand property collisions (5 ms)
      ✓ padding: with null longhand property collisions (5 ms)
      ✓ borderColor: basic shorthand (3 ms)
      ✓ borderWidth: basic shorthand (3 ms)
    while using standard logical properties
      ✓ padding: basic shorthand (3 ms)
      ✓ margin: basic shorthand (4 ms)
      ✓ paddingInline: basic shorthand (3 ms)
      ✓ padding: with longhand property collisions (3 ms)
      ✓ paddingBlock: basic multivalue shorthand (2 ms)
      ✓ padding: with null longhand property collisions (4 ms)
      ✓ marginInline: basic shorthand (3 ms)
      ✓ margin: with longhand property collisions (4 ms)
      ✓ margin: with null longhand property collisions (4 ms)
      ✓ border: basic shorthand (11 ms)
      ✓ borderInlineColor: basic shorthand (3 ms)
      ✓ borderInlineWidth: basic shorthand (3 ms)

PASS __tests__/validation-stylex-create-test.js
  @stylexjs/babel-plugin
    [validation] stylex.create()
      ✓ invalid use: not bound (177 ms)
      ✓ invalid argument: none (7 ms)
      ✓ invalid argument: too many (11 ms)
      ✓ invalid argument: non-static (5 ms)
      ✓ valid argument: object (12 ms)
      style rules
        ✓ invalid key: non-static (13 ms)
        ✓ invalid rule: non-object (21 ms)
        ✓ invalid rule: spread (5 ms)
        ✓ valid rule: object (8 ms)
        ✓ invalid dynamic rule: default object value (21 ms)
        ✓ invalid dynamic rule: default string value (4 ms)
        ✓ invalid dynamic rule: destructuring  (5 ms)
        ✓ invalid dynamic rule: rest param  (4 ms)
        ✓ valid dynamic rule (25 ms)
      style declarations
        ✓ invalid property: non-static value (4 ms)
        ✓ invalid value: boolean (4 ms)
        ✓ invalid value: non-static (11 ms)
        ✓ invalid value: array of objects (2 ms)
        ✓ valid value: number (3 ms)
        ✓ valid value: string (2 ms)
        ✓ valid value: array of numbers (4 ms)
        ✓ valid value: array of strings (3 ms)
        ✓ valid value: single-expr function call (5 ms)
        ✓ valid value: single-expr function call in object (6 ms)
        ✓ valid value: local variable (3 ms)
        ✓ valid value: pure complex expression (5 ms)
        ✓ valid value: template literal expressions (4 ms)
        ✓ valid object value: key is "default" (3 ms)
        ✓ valid object value: key starts with ":" (4 ms)
        ✓ valid object value: multiple valid keys (3 ms)
        ✓ valid object value: nested pseudo-classes (23 ms)
        ✓ invalid CSS variable: unclosed function (35 ms)
        ✓ invalid CSS variable: unprefixed custom property (4 ms)
        ✓ valid CSS variable: defined custom properties (8 ms)
        ✓ valid CSS variable: undefined custom properties (10 ms)
        ✓ [legacy] pseudo-classes must start with ":" character (2 ms)
        ○ skipped invalid value: empty object
        ○ skipped invalid object value: contains disallowed key
    [validation] invalid properties
      ○ skipped invalid property: "animation"
      ○ skipped invalid property: "background"
      ○ skipped invalid property: "border"
      ○ skipped invalid property: "borderBlock"
      ○ skipped invalid property: "borderBlockEnd"
      ○ skipped invalid property: "borderBlockStart"
      ○ skipped invalid property: "borderBottom"
      ○ skipped invalid property: "borderImage"
      ○ skipped invalid property: "borderInline"
      ○ skipped invalid property: "borderInlineEnd"
      ○ skipped invalid property: "borderInlineStart"
      ○ skipped invalid property: "borderLeft"
      ○ skipped invalid property: "borderRight"
      ○ skipped invalid property: "borderTop"
      ○ skipped invalid property: "flexFlow"
      ○ skipped invalid property: "font"
      ○ skipped invalid property: "listStyle"
      ○ skipped invalid property: "textDecoration"
      ○ skipped invalid property: "transition"
    [validation] invalid values
      ○ skipped invalid value: "block !important" for "display"
      ○ skipped invalid value: "top left" for "backgroundPosition"
      ○ skipped invalid value: "red blue" for "borderColor"
      ○ skipped invalid value: "1px 2px" for "borderRadius"
      ○ skipped invalid value: "solid dashed" for "borderStyle"
      ○ skipped invalid value: "1px 2px" for "borderWidth"
      ○ skipped invalid value: "1px 2px" for "inset"
      ○ skipped invalid value: "1px 2px" for "insetBlock"
      ○ skipped invalid value: "1px 2px" for "insetInline"
      ○ skipped invalid value: "1 1 0" for "flex"
      ○ skipped invalid value: "1 1 0" for "grid"
      ○ skipped invalid value: "1px 2px" for "margin"
      ○ skipped invalid value: "1px 2px" for "marginBlock"
      ○ skipped invalid value: "1px 2px" for "marginInline"
      ○ skipped invalid value: "1px solid red" for "outline"
      ○ skipped invalid value: "hidden visible" for "overflow"
      ○ skipped invalid value: "1px 2px" for "padding"
      ○ skipped invalid value: "1px 2px" for "paddingBlock"
      ○ skipped invalid value: "1px 2px" for "paddingInline"
      ○ skipped invalid value: "all" for "transitionProperty"
      ○ skipped invalid value: "bottom" for "transitionProperty"
      ○ skipped invalid value: "end" for "transitionProperty"
      ○ skipped invalid value: "height" for "transitionProperty"
      ○ skipped invalid value: "inset" for "transitionProperty"
      ○ skipped invalid value: "inset-block" for "transitionProperty"
      ○ skipped invalid value: "inset-inline" for "transitionProperty"
      ○ skipped invalid value: "inset-block-end" for "transitionProperty"
      ○ skipped invalid value: "inset-block-start" for "transitionProperty"
      ○ skipped invalid value: "inset-inline-end" for "transitionProperty"
      ○ skipped invalid value: "inset-inline-start" for "transitionProperty"
      ○ skipped invalid value: "margin" for "transitionProperty"
      ○ skipped invalid value: "left" for "transitionProperty"
      ○ skipped invalid value: "padding" for "transitionProperty"
      ○ skipped invalid value: "right" for "transitionProperty"
      ○ skipped invalid value: "start" for "transitionProperty"
      ○ skipped invalid value: "top" for "transitionProperty"
      ○ skipped invalid value: "width" for "transitionProperty"

FAIL __tests__/when-functions-test.js
  @stylexjs/babel-plugin
    [transform] when functions
      ✓ when.ancestor function (94 ms)
      ✓ when.siblingBefore function (15 ms)
      ✓ namespace imports (14 ms)
      ✓ aliased imports (7 ms)
    [validation] when functions
      ✓ validates pseudo selector format (249 ms)
      ✓ rejects pseudo-elements (8 ms)
    [transform] using stylex.defaultMarker
      ✕ named import (11 ms)
      ✕ namespace import (6 ms)

  ● @stylexjs/babel-plugin › [transform] using stylex.defaultMarker › named import

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] using stylex.defaultMarker named import 1`

    - Snapshot  - 4
    + Received  + 3

      "import { defaultMarker, props } from '@stylexjs/stylex';
    - const classNames = props({
    -   "x-default-marker": "x-default-marker",
    -   $$css: true
    - });"
    + const classNames = {
    +   className: "x-default-marker"
    + };"

      313 |       `);
      314 |
    > 315 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      316 |         "import { defaultMarker, props } from '@stylexjs/stylex';
      317 |         const classNames = props({
      318 |           "x-default-marker": "x-default-marker",

      at Object.toMatchInlineSnapshot (__tests__/when-functions-test.js:315:20)

  ● @stylexjs/babel-plugin › [transform] using stylex.defaultMarker › namespace import

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] using stylex.defaultMarker namespace import 1`

    - Snapshot  - 4
    + Received  + 3

      "import * as stylex from '@stylexjs/stylex';
    - const classNames = stylex.props({
    -   "x-default-marker": "x-default-marker",
    -   $$css: true
    + const classNames = {
    +   className: "x-default-marker"
    - });"
    + };"

      328 |       `);
      329 |
    > 330 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      331 |         "import * as stylex from '@stylexjs/stylex';
      332 |         const classNames = stylex.props({
      333 |           "x-default-marker": "x-default-marker",

      at Object.toMatchInlineSnapshot (__tests__/when-functions-test.js:330:20)

 › 2 snapshots failed.
PASS __tests__/validation-stylex-createTheme-test.js (5.018 s)
  @stylexjs/babel-plugin
    [validation] stylex.createTheme()
      ✓ must be bound to a variable (517 ms)
      ✓ it must have two arguments (57 ms)
      ✓ variable keys must be a static value (6 ms)
      ✓ values must be static number or string in stylex.createTheme() (31 ms)

PASS __tests__/transform-stylex-create-test.js (5.081 s)
  @stylexjs/babel-plugin
    [transform] stylex.create()
      static styles
        ✓ unused style object (76 ms)
        ✓ style object (9 ms)
        ✓ nested referenced style object (11 ms)
        ✓ multiple nested referenced style object (21 ms)
        ✓ style object (multiple) (10 ms)
        ✓ style object with custom properties (5 ms)
        ✓ style object with shortform properties (13 ms)
        ✓ style object with shortform properties (styleResolution: "property-specificity") (9 ms)
        ✓ style object requiring vendor prefixes (5 ms)
        simple values
          ✓ set custom property (7 ms)
          ✓ set "transitionProperty" (19 ms)
          ✓ set "willChange" (15 ms)
          ✓ use "attr()" function (3 ms)
          ✓ use array (fallbacks) (3 ms)
          ✓ use CSS variable (4 ms)
          ✓ use string containing CSS variables (3 ms)
        function value: stylex.firstThatWorks()
          ✓ args: value, value (4 ms)
          ✓ args: value, var (3 ms)
          ✓ args: var, value (3 ms)
          ✓ args: var, var (4 ms)
          ✓ args: var, var, var (4 ms)
          ✓ args: func, var, value (5 ms)
          ✓ args: func, var, value, value (8 ms)
        object values: pseudo-classes
          ✓ invalid pseudo-class (3 ms)
          ✓ valid pseudo-class (3 ms)
          ✓ pseudo-class generated order (3 ms)
          ✓ pseudo-class generated order (nested, same value) (18 ms)
          ✓ pseudo-class generated order (nested, different value) (4 ms)
          ✓ pseudo-class with array fallbacks (3 ms)
        object values: pseudo-elements
          ✓ "::before" and "::after" (3 ms)
          ✓ "::placeholder" (3 ms)
          ✓ "::thumb" (3 ms)
          ✓ "::before" containing pseudo-classes (3 ms)
        object values: queries
          ✓ media queries with last query wins (108 ms)
          ✓ media queries (5 ms)
          ✓ supports queries (4 ms)
          ✓ media query with pseudo-classes (3 ms)
          ✓ media query with array fallbacks (3 ms)
      dynamic styles
        ✓ style function (6 ms)
        ✓ style function and object (5 ms)
        ✓ style function with custom properties (4 ms)
        safe conditional checks
          ✓ template literal expressions (9 ms)
          ✓ binary expressions (7 ms)
          ✓ unary expressions (5 ms)
          ✓ logical expressions with safe left side (5 ms)
          ✓ logical expressions with safe right side (5 ms)
          ✓ nullish coalescing with safe left side (4 ms)
          ✓ conditional expressions with safe branches (4 ms)
          ✓ conditional expressions with safe branches (4 ms)
          ✓ complex nested safe expressions (6 ms)
          ✓ complex safe ternary expressions (12 ms)
          ✓ template literal expressions (4 ms)
          ✓ binary expressions (5 ms)
          ✓ unary expressions (3 ms)
          ✓ logical expressions with safe left side (3 ms)
          ✓ logical expressions with safe right side (2 ms)
          ✓ nullish coalescing with safe left side (3 ms)
          ✓ conditional expressions with safe branches (4 ms)
          ✓ complex nested safe expressions (5 ms)
        simple values
          ✓ set number unit (3 ms)
          ✓ set mixed values (5 ms)
          ✓ set custom property (4 ms)
        object values: pseudo-classes
          ✓ valid pseudo-class (6 ms)
          ✓ pseudo-class generated order (5 ms)
        object values: pseudo-elements
          ✓ "::before" and "::after" (4 ms)
          ✓ "::placeholder" (2 ms)
          ✓ "::thumb" (3 ms)
          ✓ "::before" containing pseudo-classes (3 ms)
        object values: queries
          ✓ media queries (4 ms)
          ✓ supports queries (4 ms)
          ✓ media query with pseudo-classes (4 ms)
      options `debug:true`
        ✓ adds debug data (4 ms)
        ✓ adds debug data for npm packages (2 ms)
        ✓ adds debug data (haste) (4 ms)
        ✓ adds debug data for npm packages (haste) (3 ms)
      legacy / deprecated
        ✓ transforms nested pseudo-class to CSS (4 ms)
        ✓ transforms legacy pseudo class within a pseudo element (3 ms)
        ✓ transforms pseudo elements within legacy pseudo class (3 ms)
        ✓ transforms pseudo elements sandwiched within pseudo classes (3 ms)
        ✓ transforms media queries (3 ms)
        ✓ transforms supports queries (3 ms)
        ✓ transforms dynamic shorthands in legacy-expand-shorthands mode (7 ms)
        pseudo-classes
          ✓ transforms invalid pseudo-class (3 ms)
          ✓ transforms valid pseudo-classes in order (3 ms)
          ✓ transforms pseudo-class with array value as fallbacks (3 ms)

PASS __tests__/validation-stylex-defineVars-test.js (5.081 s)
  @stylexjs/babel-plugin
    [validation] stylex.defineVars()
      ✓ invalid export: not bound (509 ms)
      ✓ invalid argument: none (6 ms)
      ✓ invalid argument: too many (6 ms)
      ✓ invalid argument: number (8 ms)
      ✓ invalid argument: string (5 ms)
      ✓ invalid argument: non-static (5 ms)
      ✓ valid argument: object (46 ms)
      ✓ invalid key: non-static (7 ms)
      ✓ invalid value: non-static (15 ms)
      ✓ valid value: number (14 ms)
      ✓ valid value: string (13 ms)
      ✓ valid value: keyframes (18 ms)

PASS __tests__/legacy/stylex-transform-call-test.js (5.173 s)
  @stylexjs/babel-plugin
    [transform] stylex() call
      ✓ empty stylex call (75 ms)
      ✓ basic stylex call (25 ms)
      ✓ stylex call with number (12 ms)
      ✓ stylex call with computed number (11 ms)
      ✓ stylex call with computed number (9 ms)
      ✓ stylex call with computed string (7 ms)
      ✓ stylex call with multiple namespaces (8 ms)
      ✓ stylex call within variable declarations (9 ms)
      ✓ stylex call with styles variable assignment (8 ms)
      ✓ stylex call within export declarations (9 ms)
      ✓ stylex call with short-form properties (7 ms)
      ✓ stylex call with exported short-form properties (5 ms)
      ✓ stylex call keeps only the styles that are needed (8 ms)
      ✓ stylex keeps all null when applied after unknown (7 ms)
      ✓ stylex call keeps only the nulls that are needed (20 ms)
      ✓ stylex call using styles with pseudo selectors (5 ms)
      ✓ stylex call using styles with pseudo selectors within property (4 ms)
      ✓ stylex call using styles with Media Queries (6 ms)
      ✓ stylex call using styles with Media Queries within property (5 ms)
      ✓ stylex call using styles with Support Queries (10 ms)
      ✓ stylex call using styles with Support Queries within property (4 ms)
      with contextual styles and collisions
        ✓ stylex call with conditions (5 ms)
        ✓ stylex call with conditions - skip conditional (5 ms)
        ✓ stylex call with property collisions (3 ms)
        ✓ stylex call with reverting by null (4 ms)
        ✓ stylex call with short-form property collisions (6 ms)
        ✓ stylex call with short-form property collisions with null (4 ms)
        ✓ stylex call with conditions and collisions (4 ms)
        ✓ stylex call with conditions and collisions - skip conditional (4 ms)
        ✓ stylex call with conditions and null collisions (4 ms)
        ✓ stylex call with conditions and null collisions - skip conditional (3 ms)
      with plugin options
        ✓ dev:true and enableInlinedConditionalMerge:false (13 ms)
        ✓ dev:true (7 ms)
    Keep stylex.create when needed
      ✓ stylex call with computed key access (3 ms)
      ✓ stylex keeps spaces around operators (4 ms)
      ✓ stylex call with composition of external styles (3 ms)
      ✓ stylex call using exported styles with pseudo selectors, and queries (4 ms)
      ✓ stylex call using exported styles with pseudo selectors, and queries within props (3 ms)
      even when stylex calls come first
        ✓ stylex call with computed key access (4 ms)
        ✓ stylex call with mixed access (7 ms)
        ✓ stylex call with composition of external styles (3 ms)
        ✓ stylex call with composition border shorthands with external styles (7 ms)
        ✓ stylex call using exported styles with pseudo selectors, and queries (3 ms)
    Setting custom import paths
      ✓ Basic stylex call (4 ms)
      ✓ Named import from custom source (3 ms)
      ✓ Named import with other name from custom source (2 ms)
    Extreme use-cases
      ✓ Basic stylex call (344 ms)
      ✓ Basic exported stylex.create call (8 ms)
      ✓ Basic stylex call - skip conditional (14 ms)
      ✓ Basic stylex call (7 ms)
    Accounts for edge-cases
      ✓ Using stylex() in a for loop (3 ms)
      ✓ Using stylex.props() in a for loop (2 ms)
      ✓ trying to use an unknown style in stylex() (3 ms)
      ✓ trying to use an unknown style in stylex.props() (2 ms)

----------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
File                              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
All files                         |   80.76 |     76.5 |    66.1 |   80.82 |
 src                              |   81.94 |     76.5 |   93.33 |   82.46 |
  index.js                        |   81.94 |     76.5 |   93.33 |   82.46 | 90-120,134,142,168,175,276,321,377,407,412-416,433-436,560,566-570
 src/shared                       |   94.58 |    80.28 |   95.34 |   94.73 |
  common-types.js                 |       0 |        0 |       0 |       0 |
  hash.js                         |     100 |       75 |     100 |     100 | 25
  index.js                        |     100 |      100 |     100 |     100 |
  messages.js                     |   96.87 |      100 |   83.33 |   96.87 | 26
  stylex-consts-utils.js          |       0 |        0 |       0 |       0 |
  stylex-create-theme.js          |   95.65 |       80 |     100 |   95.65 | 30
  stylex-create.js                |     100 |    93.33 |     100 |     100 | 43
  stylex-defaultMarker.js         |     100 |    33.33 |     100 |     100 | 14-17
  stylex-define-consts.js         |     100 |      100 |     100 |     100 |
  stylex-define-vars.js           |     100 |    94.44 |     100 |     100 | 89
  stylex-first-that-works.js      |     100 |      100 |     100 |     100 |
  stylex-keyframes.js             |     100 |       80 |     100 |     100 | 35-37
  stylex-position-try.js          |   96.15 |    66.66 |     100 |      96 | 77
  stylex-vars-utils.js            |   81.25 |    76.47 |     100 |   81.25 | 40,44,76,79,83,87
  stylex-view-transition-class.js |   95.65 |       50 |     100 |   95.45 | 84
  validate.js                     |       0 |        0 |       0 |       0 | 13-26
 src/shared/physical-rtl          |   74.68 |     81.6 |   61.29 |   74.68 |
  generate-ltr.js                 |   68.96 |    85.18 |   58.13 |   68.96 | 106-166,178-180
  generate-rtl.js                 |      78 |       80 |      64 |      78 | 32,54,175-235,243-245,250,269
 src/shared/preprocess-rules      |   53.16 |    74.62 |   35.23 |   53.09 |
  PreRule.js                      |   66.66 |    33.33 |   77.77 |   65.62 | 42,91-100,123,139-145
  application-order.js            |   16.31 |      100 |   14.49 |   16.31 | 67-122,136,157,170-246,282-407,423-477,501-511,522-561,596-717,741-834
  basic-validation.js             |   87.17 |    86.95 |     100 |   87.17 | 38,70,73,83,91
  flatten-raw-style-obj.js        |   91.22 |    89.36 |     100 |   91.22 | 34,90-93,117
  index.js                        |   81.81 |    66.66 |      50 |   81.81 | 25,48
  legacy-expand-shorthands.js     |    64.8 |    75.75 |   50.72 |   65.32 | 116-132,174-176,240-245,262,280-281,304,313,334,373-378,392-393,427,447-475,496-515
  property-specificity.js         |   44.61 |      100 |   41.93 |   44.61 | 23-82,106-128,151-166,183-186,197-198,211-214
 src/shared/utils                 |   93.15 |    85.51 |   84.37 |   93.38 |
  Rule.js                         |       0 |      100 |       0 |       0 | 35-89
  convert-to-className.js         |   97.36 |    89.47 |     100 |   97.22 | 100
  dashify.js                      |     100 |      100 |     100 |     100 |
  default-options.js              |     100 |      100 |     100 |     100 |
  file-based-identifier.js        |     100 |      100 |     100 |     100 |
  generate-css-rule.js            |     100 |    85.71 |     100 |     100 | 59
  normalize-value.js              |   85.71 |       75 |     100 |   85.71 | 44
  object-utils.js                 |   53.65 |    30.76 |   77.77 |      55 | 29-39,60-64,133-143
  property-priorities.js          |   99.78 |    96.15 |     100 |   99.78 | 732
  rule-utils.js                   |    90.9 |    83.33 |     100 |    90.9 | 52,55
  split-css-value.js              |   81.25 |     87.5 |      75 |   86.66 | 37,50
  transform-value.js              |      96 |    96.29 |     100 |      96 | 86
 src/shared/utils/normalizers     |   97.97 |    94.31 |     100 |   97.97 |
  convert-camel-case-values.js    |   88.88 |       90 |     100 |   88.88 | 26
  detect-unclosed-fns.js          |     100 |      100 |     100 |     100 |
  font-size-px-to-rem.js          |     100 |      100 |     100 |     100 |
  leading-zero.js                 |     100 |       90 |     100 |     100 | 32
  quotes.js                       |     100 |      100 |     100 |     100 |
  timings.js                      |     100 |      100 |     100 |     100 |
  whitespace.js                   |     100 |    94.11 |     100 |     100 | 52
  zero-dimensions.js              |   96.15 |     92.3 |     100 |   96.15 | 47
 src/shared/when                  |     100 |    45.45 |     100 |     100 |
  when.js                         |     100 |    45.45 |     100 |     100 | 15-18,46-118
 src/utils                        |   72.81 |    65.84 |   76.85 |   72.61 |
  add-sourcemap-data.js           |   85.29 |       75 |     100 |   85.29 | 89-96,116
  ast-helpers.js                  |   61.72 |       52 |   77.77 |   62.02 | 27,52-53,73,85-123,134,155,159,175,187
  dev-classname.js                |       0 |        0 |       0 |       0 | 23-68
  evaluate-path.js                |   72.19 |    64.58 |   78.94 |    71.9 | 104-158,206,211,238-239,301-302,306-307,311-312,337-350,358-361,390-393,451,461,469,476,480,497,505,510-524,542-544,557,562,639-645,651-661,665,671-680,704-714,718,730-736,751,796-797,823-824
  evaluation-errors.js            |   93.33 |      100 |      50 |   93.33 | 53
  helpers.js                      |       0 |      100 |       0 |       0 | 11
  js-to-ast.js                    |     100 |      100 |     100 |     100 |
  state-manager.js                |   78.53 |    73.72 |   74.35 |   78.07 | 348-351,386-393,412,449,466,491-492,551-560,656-680,715-727,754-763
  validate.js                     |   74.59 |    64.47 |   82.05 |   74.59 | 30,74-78,115-119,179-198,260-277
 src/visitors                     |   86.76 |    82.35 |   91.05 |   86.95 |
  imports.js                      |   54.65 |     55.1 |     100 |   54.65 | 22,74,89,120-174
  parse-stylex-create-arg.js      |    85.1 |    76.56 |     100 |   84.94 | 53,61,97,107-108,137,140-145,150,173,189
  stylex-create-theme.js          |   78.78 |    82.97 |   66.66 |   78.78 | 58,62,91-108,120,147,172-175
  stylex-create.js                |   93.67 |    84.02 |   90.62 |   94.04 | 69-70,170,183,252,257,323,335-336,492
  stylex-default-marker.js        |    87.5 |     92.3 |     100 |    87.5 | 43
  stylex-define-consts.js         |   91.89 |    91.42 |     100 |   96.96 | 68
  stylex-define-vars.js           |   87.93 |    89.74 |   77.77 |   87.93 | 58,64,101-106,118,149
  stylex-keyframes.js             |   83.78 |    82.35 |      75 |   83.78 | 33,50,65,76,90,115
  stylex-merge.js                 |    92.9 |    91.42 |     100 |    92.8 | 85-86,95-97,103-104,117,152,218
  stylex-position-try.js          |    87.5 |       80 |     100 |   87.17 | 54,60,85,109,169
  stylex-props.js                 |   92.34 |     90.9 |      92 |   92.77 | 80,128-129,138-140,156-157,170,205,295,323,366
  stylex-view-transition-class.js |   90.19 |       80 |     100 |   90.19 | 58,64,111,143,162
----------------------------------|---------|----------|---------|---------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Summary of all failing tests
FAIL __tests__/transform-import-export-test.js
  ● @stylexjs/babel-plugin › [transform] stylex imports › import: wildcard (the default)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: wildcard (the default) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - stylex.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      230 |       const { code, metadata } = transform(fixture);
      231 |
    > 232 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      233 |         "import * as stylex from '@stylexjs/stylex';
      234 |         export const constants = {
      235 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:232:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › import: wildcard (non-stylex name)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: wildcard (non-stylex name) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - foo.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      365 |       const { code, metadata } = transform(fixture);
      366 |
    > 367 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      368 |         "import * as foo from '@stylexjs/stylex';
      369 |         export const constants = {
      370 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:367:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › import: named

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: named 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      415 |       const { code, metadata } = transform(fixture);
      416 |
    > 417 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      418 |         "import { create, createTheme, defineConsts, defineVars, firstThatWorks, keyframes, positionTry, props, viewTransitionClass } from '@stylexjs/stylex';
      419 |         export const constants = {
      420 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:417:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › import: named alias

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports import: named alias 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - _props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      474 |       const { code, metadata } = transform(fixture);
      475 |
    > 476 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      477 |         "import { create as _create, createTheme as _createTheme, defineConsts as _defineConsts, defineVars as _defineVars, firstThatWorks as _firstThatWorks, keyframes as _keyframes, positionTry as _positionTry, props as _props, viewTransitionClass as _viewTransitionClass } from '@stylexjs/stylex';
      478 |         export const constants = {
      479 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:476:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › importSources (string)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports importSources (string) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - stylex.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      515 |       const { code, metadata } = transform(fixture, options);
      516 |
    > 517 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      518 |         "import * as stylex from 'foo-bar';
      519 |         export const constants = {
      520 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:517:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › importSources (object)

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports importSources (object) 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - css.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      569 |       const { code, metadata } = transform(fixture, options);
      570 |
    > 571 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      572 |         "import { css, html } from 'react-strict-dom';
      573 |         export const constants = {
      574 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:571:20)

  ● @stylexjs/babel-plugin › [transform] stylex imports › [META-ONLY] import: default

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] stylex imports [META-ONLY] import: default 1`

    - Snapshot  - 14
    + Received  +  7

    @@ -7,19 +7,12 @@
        __varGroupHash__: "xop34xu"
      };
      const viewTransition1 = "xchu1hv";
      const fallback1 = "--x5jppmd";
      const fallback2 = "--x17pzx6";
    - const styles = {
    + const theme = {
    -   root: {
    -     kKVMdj: "x1qar0u3",
    -     k9M3vk: "x7cint9",
    -     kMwMTN: "x1e2nbdu x14693no",
    -     kVAEAm: "x15oojuh",
    -     $$css: true
    -   }
    - };
    - const theme = {
    -   xop34xu: "xfnndu4 xop34xu",
    -   $$css: true
    - };
    - stylex.props(styles.root, theme);"
    +   xop34xu: "xfnndu4 xop34xu",
    +   $$css: true
    + };
    + ({
    +   className: "x1qar0u3 x7cint9 x1e2nbdu x14693no x15oojuh xfnndu4 xop34xu"
    + });"

      610 |       const { code, metadata } = transform(fixture);
      611 |
    > 612 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      613 |         "import stylex from 'stylex';
      614 |         export const constants = {
      615 |           mediaQuery: "@media (min-width: 768px)"

      at Object.toMatchInlineSnapshot (__tests__/transform-import-export-test.js:612:20)

FAIL __tests__/when-functions-test.js
  ● @stylexjs/babel-plugin › [transform] using stylex.defaultMarker › named import

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] using stylex.defaultMarker named import 1`

    - Snapshot  - 4
    + Received  + 3

      "import { defaultMarker, props } from '@stylexjs/stylex';
    - const classNames = props({
    -   "x-default-marker": "x-default-marker",
    -   $$css: true
    - });"
    + const classNames = {
    +   className: "x-default-marker"
    + };"

      313 |       `);
      314 |
    > 315 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      316 |         "import { defaultMarker, props } from '@stylexjs/stylex';
      317 |         const classNames = props({
      318 |           "x-default-marker": "x-default-marker",

      at Object.toMatchInlineSnapshot (__tests__/when-functions-test.js:315:20)

  ● @stylexjs/babel-plugin › [transform] using stylex.defaultMarker › namespace import

    expect(received).toMatchInlineSnapshot(snapshot)

    Snapshot name: `@stylexjs/babel-plugin [transform] using stylex.defaultMarker namespace import 1`

    - Snapshot  - 4
    + Received  + 3

      "import * as stylex from '@stylexjs/stylex';
    - const classNames = stylex.props({
    -   "x-default-marker": "x-default-marker",
    -   $$css: true
    + const classNames = {
    +   className: "x-default-marker"
    - });"
    + };"

      328 |       `);
      329 |
    > 330 |       expect(code).toMatchInlineSnapshot(`
          |                    ^
      331 |         "import * as stylex from '@stylexjs/stylex';
      332 |         const classNames = stylex.props({
      333 |           "x-default-marker": "x-default-marker",

      at Object.toMatchInlineSnapshot (__tests__/when-functions-test.js:330:20)


Snapshot Summary
 › 9 snapshots failed from 2 test suites. Inspect your code changes or run `npm test -- -u` to update them.

Test Suites: 2 failed, 1 skipped, 32 passed, 34 of 35 total
Tests:       9 failed, 65 skipped, 713 passed, 787 total
Snapshots:   9 failed, 692 passed, 701 total
Time:        7.003 s
Ran all test suites.
npm error Lifecycle script `test` failed with error:
npm error code 1
npm error path /app/packages/@stylexjs/babel-plugin
npm error workspace @stylexjs/babel-plugin@0.16.0
npm error location /app/packages/@stylexjs/babel-plugin
npm error command failed
npm error command sh -c jest --coverage


> @stylexjs/cli@0.16.0 test
> jest

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    node /app/packages/@stylexjs/cli/lib/index.js -i ./source -o ./src

      at log (__tests__/compile-stylex-folder-test.js:38:11)

  console.log
    node /app/packages/@stylexjs/cli/lib/index.js -i /app/packages/@stylexjs/cli/__tests__/__mocks__/source -o /app/packages/@stylexjs/cli/__tests__/__mocks__/src

      at log (__tests__/compile-stylex-folder-test.js:38:11)

  console.log
    node /app/packages/@stylexjs/cli/lib/index.js -i ./source ./source2 -o ./src ./src2

      at log (__tests__/compile-stylex-folder-test.js:38:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: index.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: components/button.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: pages/home.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    Writing cache to: node_modules/.stylex-cache/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: components/button.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found babelrc: /app/packages/@stylexjs/cli/__tests__/__mocks__/.babelrc

      at log (src/cache.js:48:15)

  console.log
    [stylex] Using cached CSS for: pages/home.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: /app/packages/__custom_cache__/__tests______mocks____index.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: /app/packages/__custom_cache__/__tests______mocks____components__button.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    Writing cache to: /app/packages/__custom_cache__/__tests______mocks____pages__home.js.json

      at log (src/cache.js:85:11)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/index.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    [stylex] Using cached CSS for: index.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] copying /app/packages/@stylexjs/cli/__tests__/__mocks__/source/nonjs.txt

      at log (src/transform.js:74:17)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/components/button.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    [stylex] Using cached CSS for: components/button.js

      at log (src/transform.js:129:13)

  console.log
    [stylex] transforming /app/packages/@stylexjs/cli/__tests__/__mocks__/source/pages/home.js

      at log (src/transform.js:62:15)

  console.log
    Found no babelrc:

      at log (src/cache.js:54:11)

  console.log
    [stylex] Using cached CSS for: pages/home.js

      at log (src/transform.js:129:13)

PASS __tests__/compile-stylex-folder-test.js
  compiling __mocks__/source to __mocks__/src correctly such that it matches __mocks__/snapshot
    ✓ /app/packages/@stylexjs/cli/__tests__/__mocks__/source (2 ms)
    ✓ /app/packages/@stylexjs/cli/__tests__/__mocks__/src (176 ms)
  cli works with -i and -o args
    ✓ script start (415 ms)
    ✓ script runs with absolute input and output paths (412 ms)
  cli works with multiple inputs and outputs
    ✓ script compiles multiple directories (437 ms)
  individual testing of util functions
    ✓ file to relative css path (1 ms)
  cache mechanism works as expected
    ✓ first compilation populates the cache (59 ms)
    ✓ skips transformation when cache is valid (16 ms)
    ✓ recompiles when config changes (48 ms)
    ✓ recompiles when babelrc changes (45 ms)
    ✓ recompiles when input changes (33 ms)
  CLI works with a custom cache path
    ✓ uses the custom cache path for caching (36 ms)
    ✓ skips transformation when cache is valid (14 ms)
  findProjectRoot
    ✓ finds root based on package.json (2 ms)
    ✓ finds root based on deno.json (1 ms)
    ✓ finds root based on .git (6 ms)

Test Suites: 1 passed, 1 total
Tests:       16 passed, 16 total
Snapshots:   0 total
Time:        3.531 s
Ran all test suites.

> @stylexjs/eslint-plugin@0.16.0 test
> jest --detectOpenHandles --coverage

PASS __tests__/stylex-valid-styles-test.js
  stylex-valid-styles
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const start = 'start';
      const styles = stylex.create({
        default: {
          textAlign: start,
          MozOsxFontSmoothing: 'grayscale',
          WebkitFontSmoothing: 'antialiased',
          transitionProperty: 'opacity, transform',
          transitionDuration: '0.3s',
          transitionTimingFunction: 'ease',
        }
      });
     (103 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        validStyle: {
          marginInlineStart: "10px",
          marginInlineEnd: "5px",
          marginInline: "15px",
          marginBlock: "20px",
          paddingInlineStart: "8px",
          paddingInlineEnd: "12px",
          paddingInline: "10px",
          paddingBlock: "16px",
        },
      });
     (9 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const start = 'start';
      const grayscale = 'grayscale';
      const styles = stylex.create({
        default: {
          textAlign: start,
          MozOsxFontSmoothing: grayscale,
          WebkitFontSmoothing: 'antialiased',
          transitionProperty: 'opacity, transform',
          transitionDuration: '0.3s',
          transitionTimingFunction: 'ease',
        }
      });
     (8 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const bounce = stylex.keyframes({
        '0%': {
          transform: 'translateY(0)',
        },
        '50%': {
          transform: 'translateY(-10px)',
        },
        '100%': {
          transform: 'translateY(0)',
        },
      });
      const styles = stylex.create({
        default: {
          animationName: bounce,
          animationDuration: '1s',
          animationIterationCount: 'infinite',
        }
      });
     (23 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        default: {
          animationName: stylex.keyframes({
            '0%': {
              transform: 'translateY(0)',
            },
            '50%': {
              transform: 'translateY(-10px)',
            },
            '100%': {
              transform: 'translateY(0)',
            },
          }),
          animationDuration: '1s',
          animationIterationCount: 'infinite',
        }
      });
     (7 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const bounce = stylex.keyframes({
        '0%': {
          transform: 'translateY(0)',
        },
        '50%': {
          transform: 'translateY(-10px)',
        },
        '100%': {
          transform: 'translateY(0)',
        },
      });
      const shimmy = stylex.keyframes({
        '0%': {
          backgroundPosition: '-468px 0',
        },
        '100%': {
          backgroundPosition: '468px 0',
        },
      });
      const styles = stylex.create({
        default: {
          animationName: `${bounce}, ${shimmy}`,
          animationDuration: '1s',
          animationIterationCount: 'infinite',
        }
      });
     (8 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const TRANSPARENT = 0;
        const OPAQUE = 1;
        const styles = stylex.create({
          default: {
            opacity: TRANSPARENT,
            ':hover': {
              opacity: OPAQUE,
            },
            ':focus-visible': {
              borderWidth: 1,
              borderStyle: 'solid',
              borderColor: 'blue',
            }
          }
        });
       (8 ms)
      ✓
        import { keyframes as kf, create } from 'stylex';
        const fadeIn = kf({
          '0%': {
            opacity: 0,
          },
          '100%': {
            opacity: 1,
          },
        });
        const styles = create({
          main: {
            animationName: fadeIn,
          },
        });
       (6 ms)
      ✓
        import * as stlx from 'stylex';
        const fadeIn = stlx.keyframes({
          '0%': {
            opacity: 0,
          },
          '100%': {
            opacity: 1,
          },
        });
        const styles = create({
          main: {
            animationName: fadeIn,
          },
        });
       (7 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            width: '50%',
            '@media (max-width: 600px)': {
              width: '100%',
            }
          }
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          base: {
            width: {
              "@starting-style": {
                default: 10,
                ":hover": 20,
              }
            },
          },
        })
       (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {marginInlineStart: 5}}); (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({"default-1": {marginInlineStart: 5}}); (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({["default-1"]: {marginInlineStart: 5}}); (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({0: {marginInlineStart: 5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({[0]: {marginInlineStart: 5}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {marginInlineStart: -5}}); (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {margin: 0}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {padding: '0'}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlign: 'start'}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         textAlign: 'start',
       }
     }); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         marginInlineStart: Math.abs(-1),
         marginInlineEnd: `${Math.floor(5 / 2)}px`,
         paddingInlineStart: Math.ceil(5 / 2),
         paddingInlineEnd: Math.round(5 / 2),
       },
     }) (5 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
    const FOO = 5;
     stylex.create({
       default: {
         scrollMarginTop: FOO + 5,
         scrollMarginBottom: FOO * 5,
       },
     }) (7 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     const x = 5;
     stylex.create({
       default: {
         marginInlineStart: Math.abs(x),
         marginInlineEnd: `${Math.floor(x)}px`,
         paddingInlineStart: Math.ceil(-x),
         paddingInlineEnd: Math.round(x / 2),
       },
     }) (5 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'WebkitAppearance': 'textfield',
         '::-webkit-search-decoration': {
           appearance: 'none',
         },
         '::-webkit-search-cancel-button': {
           appearance: 'none',
         },
         '::-webkit-search-results-button': {
           appearance: 'none',
         },
         '::-webkit-search-results-decoration': {
           appearance: 'none',
         },
       },
     }) (6 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'WebkitAppearance': 'textfield',
         '::-webkit-slider-thumb': {
           appearance: 'none',
         },
         '::-webkit-slider-runnable-track': {
           appearance: 'none',
         },
         '::-moz-range-thumb': {
           appearance: 'none',
         },
         '::-moz-range-track': {
           appearance: 'none',
         },
         '::-moz-range-progress': {
           appearance: 'none',
         },
       },
     }) (7 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': 'red',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': '#fff',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': '#fafbfc',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'color': '#fafbfcfc',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30rem',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30em',
       },
      }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30ch',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30ex',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30vh',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30vw',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'contain': '300px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicSize': '300px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicSize': 'auto 300px',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       a: {
         interpolateSize: 'numeric-only',
       },
       b: {
         interpolateSize: 'allow-keywords',
       },
     }) (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicInlineSize': '300px',
         'containIntrinsicBlockSize': '200px',
       },
     }) (8 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicInlineSize': 'auto 300px',
         'containIntrinsicBlockSize': 'auto 200px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicWidth': '300px',
         'containIntrinsicHeight': '200px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'containIntrinsicWidth': 'auto 300px',
         'containIntrinsicHeight': 'auto 200px',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30px',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30cm',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30mm',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30in',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30pc',
       },
     }) (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '30pt',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         'width': '50%',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
       default: {
         fontWeight: 'var(--weight)',
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
     stylex.create({
      default: {
        fontWeight: 'var(--🔴)',
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const red = 'var(--🔴)';
    stylex.create({
      default: {
        fontWeight: red,
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const red = 'var(--🔴)';
    stylex.create({
      default: {
        fieldSizing: 'fixed',
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const red = 'var(--🔴)';
    stylex.create({
      default: {
        fieldSizing: 'content',
      },
    }) (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    import {TextTypeTokens as TextType, ColorTokens} from 'DspSharedTextTokens.stylex';
    stylex.create({
      root: {
        fontSize: TextType.fontSize,
        borderColor: ColorTokens.borderColor,
        paddingBottom: TextType.paddingBottom,
        fontFamily: `${TextType.defaultFontFamily}, ${TextType.fallbackFontFamily}`,
      }
    })
     (5 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    import { componentVars } from './bug.stylex';
    stylex.create({
      host: {
        [componentVars.color]: 'blue',
      },
    })
     (4 ms)
      ✓
    import * as stylex from'stylex';
    import { tokens } from 'tokens.stylex';
    stylex.create({
      root: (position) => ({
        [tokens.position]: `${position}px`,
      })
    })
     (4 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    import { vars } from './vars.stylex';
    import { varsJs } from './vars.stylex.js';
    import { varsTs } from './vars.stylex.ts';
    import { varsTsx } from './vars.stylex.tsx';
    import { varsJsx } from './vars.stylex.jsx';
    import { varsMjs } from './vars.stylex.mjs';
    import { varsCjs } from './vars.stylex.cjs';
    stylex.create({
      root: {
        [vars.color]: 'blue',
        [varsJs.color]: 'blue',
        [varsTs.color]: 'blue',
        [varsTsx.color]: 'blue',
        [varsJsx.color]: 'blue',
        [varsMjs.color]: 'blue',
        [varsCjs.color]: 'blue',
      },
    })
     (14 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    stylex.create({
      default: {
        positionTryFallbacks: 'none',
      },
    });
     (3 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const fallback = stylex.positionTry({
      positionAnchor: '--anchor',
      top: '0',
      left: '0',
      width: '100px',
      height: '100px'
    });
    stylex.create({
      anchor: {
        positionTryFallbacks: fallback,
      },
    });
     (5 ms)
      ✓
    import * as stylex from '@stylexjs/stylex';
    const fallback1 = stylex.positionTry({
      positionAnchor: '--anchor',
      top: '0',
      left: '0',
      width: '100px',
      height: '100px'
    });
    const fallback2 = stylex.positionTry({
      positionAnchor: '--anchor',
      bottom: '0',
      right: '0',
      width: '100px',
      height: '100px'
    });
    stylex.create({
      anchor: {
        positionTryFallbacks: `${fallback1}, ${fallback2}`,
      },
    });
     (6 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            ':focus': {
              ':hover': {
                ':active': {
                  color: 'red'
                }
              }
            }
          }
        });
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = {default: {width: '30pt'}};
        stylex.create(styles);
       (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
    import { FOO } from 'foo';
     stylex.create({
       default: {
         scrollMarginTop: FOO + 5,
       },
     }) (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex';
    const FOO = 'bad string';
     stylex.create({
       default: {
         scrollMarginTop: FOO + 5,
       },
     }) (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlin: 'left'}}); (7 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlin: 'left'}}); (5 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {["textAlin"]: 'left'}}); (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            marginStart: '10px',
            marginEnd: '5px',
            marginHorizontal: '15px',
            marginVertical: '15px',
            paddingStart: '10px',
            paddingEnd: '5px',
            paddingHorizontal: '5px',
            paddingVertical: '15px',
          },
        });
       (25 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            borderVerticalWidth: '2px',
            borderVerticalStyle: 'solid',
            borderVerticalColor: 'red',
            borderHorizontalWidth: '1px',
            borderHorizontalStyle: 'dashed',
            borderHorizontalColor: 'blue',
            borderStartWidth: '2px',
            borderStartStyle: 'solid',
            borderStartColor: 'green',
            borderEndWidth: '3px',
            borderEndStyle: 'dotted',
            borderEndColor: 'purple',
          },
        });
       (38 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            borderTopStartRadius: '4px',
            borderTopEndRadius: '5px',
            borderBottomStartRadius: '6px',
            borderBottomEndRadius: '7px',
          },
        });
       (8 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            end: '5px',
            start: '10px',
          },
        });
       (5 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {textAlign: 'lfet'}}); (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {fontWeight: 10001}}); (2 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {content: 100 + 100}}); (3 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {':hover': {textAlin: 'left'}}}); (4 ms)
      ✓ import * as stylex from '@stylexjs/stylex'; stylex.create({default: {':focus': {textAlign: 'lfet'}}}); (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            ':focs': {
              textAlign: 'left'
            }
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            ':focus': {
              ':hover': {
                textAlign: 'left'
              }
            }
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const bounce = stylex.keyframes({
          '0%': {
            transform: 'translateY(0)',
          },
          '50%': {
            transform: 'translateY(-10px)',
          },
          '100%': {
            transform: 'translateY(0)',
          },
        });
        const styles = stylex.create({
          default: {
            animationName: bob,
            animationDuration: '1s',
            animationIterationCount: 'infinite',
          }
        });
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px solid blue",
          }
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: '1px solid rgba(var(--black), 0.0975)',
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "solid blue 1px",
          }
        });
       (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "blue 1px solid",
          }
        });
       (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px blue solid",
          }
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px solid",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px var(--foo)",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "1px",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: "none",
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: 0,
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            border: 4,
          }
        });
       (3 ms)
      ✓
        import * as stylex from 'custom-import';
        const styles = stylex.create({
          default: {
            border: 4,
          }
        });
       (3 ms)
      ✓
      import * as stylex from'stylex';
      import {TextTypeTokens as TextType, ColorTokens} from 'DspSharedTextTokens';
      stylex.create({
        root: {
          fontSize: TextType.fontSize,
          borderColor: ColorTokens.borderColor,
          paddingBottom: TextType.paddingBottom,
          fontFamily: `${TextType.fontFamily}, ${TextType.fallbackFontFamily}`,
        }
      })
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          foo: {
            float: 'start',
            clear: 'start',
          },
          bar: {
            float: 'end',
            clear: 'end',
          }
        });
       (5 ms)
  stylex-valid-styles [restrictions]
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        default: {
          display: 'grid',
          grid: 'repeat(3, 80px) / auto-flow',
          gridTemplateColumns: 'repeat(3, 1fr)',
          gridTemplateRows: 'repeat(3, 1fr)',
        }
      });
     (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            grid: 'repeat(3, 80px) / auto-flow',
          }
        });
       (11 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
          }
        });
       (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          default: {
            textUnderlineOffset: 'auto',
          },
        });
       (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          default: {
            textUnderlineOffset: '1px',
          },
        });
       (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          default: {
            textUnderlineOffset: '100%',
          },
        });
       (9 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          base: {
            backgroundColor: {
              default: 'blue',
              ':focus-within': 'red',
            },
          },
        }); (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          foo: {
            '--bar': '0',
          }
        })
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            '::after': {
              ':hover': {
                content: ''
              }
            }
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply',
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply, darken, exclusion',
          },
        });
       (2 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            ':focus': {
              '::after': {
                content: ''
              }
            }
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            grid: 'repeat(3, 80px) / auto-flow',
          }
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            gridTemplateColumns: 'repeat(3, 1fr)',
          }
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          default: {
            display: 'grid',
            grid: 'repeat(3, 80px) / auto-flow',
          }
        });
       (23 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        base:{
          background: ''
        },
      });
     (3 ms)
      ✓
        import * as stylex from'stylex';
        const styles = stylex.create({
          b:{
            textUnderlineOffset: '',
          },
        })
       (3 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          base:{
            background: ''
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            margin: "10",
            height: "10",
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          invalidStyle: {
            margin: "10",
            marginTop: "10.1",
            marginRight: "-10",
            marginBottom: "-1.0",
            marginLeft: "-0.10",
            padding: "0.1234",
            paddingTop: "100000",
            paddingRight: "10",
            paddingBottom: "10",
            paddingLeft: "10",
            width: "10",
            height: "10",
            minWidth: "10",
            maxWidth: "10",
            minHeight: "10",
            maxHeight: "10",
            top: "10",
            right: "10",
            bottom: "10",
            left: "10",
            inset: "10",
            borderWidth: "10",
            borderTopWidth: "10",
            borderRightWidth: "10",
            borderBottomWidth: "10",
            borderLeftWidth: "10",
            gap: "10",
            rowGap: "10",
            columnGap: "10",
            lineHeight: "10",
            outlineWidth: "10",
          },
        });
       (11 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        stylex.create({
          default: {
            positionTryFallbacks: 42,
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const fallback1 = stylex.positionTry({
          positionAnchor: '--anchor',
          top: '0',
          left: '0',
          width: '100px',
          height: '100px'
        });
        const fallback2 = stylex.positionTry({
          positionAnchor: '--anchor',
          bottom: '0',
          right: '0',
          width: '100px',
          height: '100px'
        });
        stylex.create({
          anchor: {
            positionTryFallbacks: `${fallback1} ${fallback2}`,
          },
        });
       (7 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const fallback1 = stylex.positionTry({
          positionAnchor: '--anchor',
          top: '0',
          left: '0',
          width: '100px',
          height: '100px'
        });
        const fallback2 = stylex.positionTry({
          positionAnchor: '--anchor',
          bottom: '0',
          right: '0',
          width: '100px',
          height: '100px'
        });
        stylex.create({
          anchor: {
            positionTryFallbacks: `${fallback1},${fallback2}`,
          },
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          foo: {
            '--bar': '0',
          }
        })
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'invalid-blend-mode',
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply, darke, exclusion',
          },
        });
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          container: {
            backgroundBlendMode: 'multiply, darken,exclusion',
          },
        });
       (3 ms)

PASS __tests__/stylex-valid-shorthands-test.js
  stylex-valid-shorthands
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginInlineEnd: '14px',
          marginInlineStart: '14px',
        },
      })
     (33 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderRadius: 5,
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          margin: 10,
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginInline: 0,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          paddingInline: 0,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginBlock: 10,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          paddingBlock: 10,
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          padding: 'calc(0.5 * 100px)',
        },
      })
     (8 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          marginTop: '10em',
          marginInlineEnd: '5em',
          marginBottom: '15em',
          marginInlineStart: '25em',
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: '1px',
          borderStyle: 'solid',
          borderColor: 'black',
          borderRadius: '4px'
        },
      })
     (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: 'rgb(0, 0, 0)',
          borderWidth: 'var(--border-width, 10)',
        },
      })
     (3 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            marginInlineEnd: '14px',
            marginInlineStart: '14px',
          },
        })
       (3 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            borderRadius: 5,
          },
        })
       (3 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            margin: '10px 12px 13px 14px',
          },
        });
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderRight: '4px solid var(--fds-gray-10)'
        },
      })
     (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderRadius: '10px 15px 20px 25px',
          },
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderRadius: '10px 15px 20px 25px',
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            marginHorizontal: '10px',
            marginVertical: '5px',
            paddingHorizontal: '10px',
            paddingVertical: '5px',
          },
        });
       (6 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            margin: '10px 10px 10px',
            marginInline: '15px 15px',
            padding: '20px 20px 20px 20px',
          },
        });
       (5 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              borderColor: 'rgb(0, 0, 0), rgb(5, 5, 5)',
              borderWidth: 'var(--vertical-border-width, 10) var(--horizontal-border-width, 15)',
            },
          })
         (6 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: 'calc(100% - 20px) calc(90% - 20px)',
          borderColor: 'var(--test-color, #ccc) linear-gradient(to right, #ff7e5f, #feb47b)',
          background: 'no-repeat center/cover, linear-gradient(to right, #ff7e5f, #feb47b)'
        },
      })
       (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              borderWidth: '1px 2px 3px 4px',
              borderStyle: 'solid dashed dotted double',
              borderColor: 'red green blue yellow',
              borderTop: '2px solid red',
              borderRight: '3px dashed green',
              borderBottom: '4px dotted blue',
              borderLeft: '5px double yellow',
              borderRadius: '10px 20px 30px 40px'
            },
          });
         (11 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            outline: '2px dashed red',
          },
        });
       (10 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              background: '#ff0 url("image.jpg") no-repeat fixed center / cover !important',
            },
          });
         (6 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              background: '#ff0 url("image.jpg") no-repeat fixed center / cover !important',
            },
          });
         (6 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '0px',
              font: 'italic small-caps bold 16px/1.5 "Helvetica Neue"',
              color: 'white',
            },
          });
         (6 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10px 12px 13px 14px !important',
            },
          });
         (5 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10px 12px 13px 14px !important',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10em 1em 5em 2em',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              margin: '10em 1em',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              marginInline: '10em 1em',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              marginBlock: '10em 1em',
            },
          });
         (4 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              paddingBlock: '10em 1em',
            },
          });
         (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: '4px 5px 6px 7px',
          borderStyle: 'solid dashed dotted double',
          borderColor: 'var(--fds-gray-10) var(--fds-gray-20) var(--fds-gray-30) var(--fds-gray-40)',
        },
      })
       (7 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderWidth: '4px 5px 6px 7px',
          borderStyle: 'solid dashed dotted double',
          borderColor: 'var(--fds-gray-10) var(--fds-gray-20) var(--fds-gray-30) var(--fds-gray-40)',
        },
      })
       (7 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              paddingTop: '10em',
              paddingBottom: '1em',
              marginStart: '20em',
              marginEnd: '20em',
              paddingStart: '10em',
              paddingEnd: '1em',
            },
          });
         (5 ms)
      ✓
          import * as stylex from '@stylexjs/stylex';
          const styles = stylex.create({
            main: {
              padding: '10em 1em',
            },
          });
         (13 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            margin: '10px 12px',
          },
        });
       (4 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            padding: '5px 10px',
          },
        });
       (4 ms)

PASS __tests__/stylex-sort-keys-test.js
  stylex-sort-keys
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: {
            default: 'green',
            ':hover': 'red',
            '@media (min-width: 1540px)': 1366,
          },
          borderRadius: 10,
          display: 'flex',
        },
        dynamic: (color) => ({
          backgroundColor: color,
        })
      })
     (29 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          width: {
            default: '100%',
            '@supports (width: 100dvw)': {
              default: '100dvw',
              '@media (max-width: 1000px)': '100px',
            },
            ':hover': {
              color: 'red',
            }
          },
        },
      }); (5 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const obj = { fontSize: '12px' };
      const styles = cr({
        button: {
          alignItems: 'center',
          display: 'flex',
          ...obj,
          alignSelf: 'center',
          borderColor: 'black',
        }
      });
     (5 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const styles = cr({
        button: {
          alignItems: 'center',
          display: 'flex',

          alignSelf: 'center',
          borderColor: 'black',
        }
      });
     (4 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const styles = cr({
        button: {
          flex: 1,
          display: 'flex',
          borderColor: 'black',
          alignItems: 'center',
        }
      });
     (3 ms)
      ✓
      import { create as cr } from 'a';
      const styles = cr({
        button: {
          borderColor: 'black',
          display: 'flex',
        }
      });
     (4 ms)
      ✓
      import { css } from 'a';
      const styles = css.create({
        button: {
          borderColor: 'black',
          display: 'flex',
        }
      });
       (3 ms)
      ✓
        import { keyframes } from 'stylex';
        const someAnimation = keyframes({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            borderColor: 'green',
            display: 'flex',
          },
        });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const someAnimation = stylex.keyframes({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            borderColor: 'green',
            display: 'flex',
          },
        });
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        nav: {
          maxWidth: {
            default: "1080px",
            "@media (min-width: 2000px)": "calc((1080 / 24) * 1rem)"
          },
          paddingVertical: 0,
        },
      }); (3 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            padding: 10,
            animationDuration: '100ms',
            fontSize: 12,
          }
        });
       (10 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const obj = { fontSize: '12px' };
        const styles = stylex.create({
          button: {
            alignItems: 'center',
            display: 'flex',
            ...obj,
            borderColor: 'red', // ok
            alignSelf: 'center',
          }
        });
       (7 ms)
      ✓
        import { create } from 'stylex';
        const styles = create({
          button: {
            alignItems: 'center',
            display: 'flex',
            borderColor: 'red',
          }
        });
       (5 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const someAnimation = stylex.keyframes({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            display: 'flex',
            borderColor: 'green',
          },
        });
       (6 ms)
      ✓
        import { keyframes as kf } from 'stylex';
        const someAnimation = kf({
          '0%': {
            borderColor: 'red',
            display: 'none',
          },
          '100%': {
            display: 'flex',
            borderColor: 'green',
          },
        });
       (5 ms)
      ✓
      import { create } from 'stylex';
      const styles = create({
        main: {
          display: 'flex',
          borderColor: {
            default: 'green',
            '@media (min-width: 1540px)': 1366,
            ':hover': 'red',
          },
          borderRadius: 10,
        },
      }); (6 ms)
      ✓
      import { create } from 'stylex';
      const styles = create({
        main: {
          backgroundColor: {
            // a
            ':hover': 'blue', // a
            // b
            default: 'red', // b
          },
        },
      }); (5 ms)
      ✓
      import { create } from 'stylex';
      const styles = create({
        foo: {
          display: 'flex',
          backgroundColor: {
            // foo
            default: 'red',
            // bar
            /* Block comment */
            ':hover': 'brown',
          },
        }
      });
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          // zee
          backgroundColor: 'red', // foo
          // bar
          alignItems: 'center' // eee
        }
      })
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: { backgroundColor: 'red', alignItems: 'center', }
      })
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: { // foo
          // foo
          backgroundColor: 'red', // bar
          // bar
          alignItems: 'center' // baz
          // qux
        }
      })
       (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          /*
          *
          * foo
          * bar
          * baz
          *
          */
          backgroundColor: 'red',
          alignItems: 'center'
        }
      })
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          backgroundColor: 'red',             //       foo
          alignItems: 'center'       // baz
        }
      })
       (4 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          /*
          * foo
          */ backgroundColor: 'red',
          alignItems: 'center'
        }
      })
       (9 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        foo: {
          // foo

          backgroundColor: 'red',
          alignItems: 'center'
        }
      })
       (4 ms)
      ✓
      import { create as cr } from '@stylexjs/stylex';
      const styles = cr({
        button: {
          alignItems: 'center',
          display: 'flex',
          // foo

          // bar
          borderColor: 'black',
          alignSelf: 'center',
        }
      });
       (5 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            padding: 10,
            animationDuration: '100ms',
            fontSize: 12,
          }
        });
       (4 ms)

PASS __tests__/stylex-no-unused-test.js
  stylex-no-unused
    valid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderColor: {
              default: 'green',
              ':hover': 'red',
              '@media (min-width: 1540px)': 1366,
            },
            borderRadius: 10,
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        const sizeStyles = stylex.create({
          [8]: {
            height: 8,
            width: 8,
          },
          [10]: {
            height: 10,
            width: 10,
          },
          [12]: {
            height: 12,
            width: 12,
          },
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.main, styles.dynamic('red'), sizeStyles[8])}>
            </div>
          )
        }
       (38 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderColor: {
              default: 'green',
              ':hover': 'red',
              '@media (min-width: 1540px)': 1366,
            },
            borderRadius: 10,
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export const sizeStyles = stylex.create({
          [8]: {
            height: 8,
            width: 8,
          },
          [10]: {
            height: 10,
            width: 10,
          },
          [12]: {
            height: 12,
            width: 12,
          },
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.main, styles.dynamic('red'))}>
            </div>
          )
        }
       (10 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        const sizeStyles = stylex.create({
          [8]: {
            height: 8,
            width: 8,
          },
          [10]: {
            height: 10,
            width: 10,
          },
          [12]: {
            height: 12,
            width: 12,
          },
        });
        const widthStyles = stylex.create({
            widthModeConstrained: {
              width: 'auto',
            },
            widthModeFlexible: {
              width: '100%',
            },
        })
        // style used as export
        function getWidthStyles() {
          return widthStyles;
        }
        export default function TestComponent({ width: number}) {
          // style used as variable
          const red = styles.dynamic('red');
          const display = width > 10 ? sizeStyles[12] :  sizeStyles[8]
          return(
            <div {...stylex.props(styles.main, red, display)}>
            </div>
          )
        }
       (13 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          borderColor: {
            default: 'green',
            ':hover': 'red',
            '@media (min-width: 1540px)': 1366,
          },
          borderRadius: 10,
          display: 'flex',
        },
        dynamic: (color) => ({
          backgroundColor: color,
        })
      });
      export default styles;
     (5 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      export default styles = stylex.create({
        maxDimensionsModal: {
          maxWidth: '90%',
          maxHeight: '90%',
        },
        halfWindowWidth: {
          width: '50vw',
        },
      })
     (3 ms)
      ✓
      import * as stylex from '@stylexjs/stylex';
      export default stylex.create({
        maxDimensionsModal: {
          maxWidth: '90%',
          maxHeight: '90%',
        },
        halfWindowWidth: {
          width: '50vw',
        },
      })
     (3 ms)
      ✓
      import stylex from 'stylex';
      export default stylex.create({
        maxDimensionsModal: {
          maxWidth: '90%',
          maxHeight: '90%',
        }
      })
     (3 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            color: 'red',
          },
        });
        export default function Component() {
          return <div {...stylex.props(styles.main)} />;
        }
       (4 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            color: 'red',
          },
        });
        export default function Component() {
          return <div {...css.props(styles.main)} />;
        }
       (5 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        const styles = stylex.create({
          main: {
            borderColor: {
              default: 'green',
              ':hover': 'red',
              '@media (min-width: 1540px)': 1366,
            },
            borderRadius: 10,
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.dynamic('red'))}>
            </div>
          )
        }
       (8 ms)
      ✓
        import * as customStylex from '@stylexjs/stylex';
        const styles = customStylex.create({
          main: {
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.dynamic('red'))}>
            </div>
          )
        } (7 ms)
      ✓
        import {create as c} from '@stylexjs/stylex';
        const styles = c({
          main: {
            display: 'flex',
          },
          dynamic: (color) => ({
            backgroundColor: color,
          })
        });
        export default function TestComponent() {
          return(
            <div {...stylex.props(styles.dynamic('red'))}>
            </div>
          )
        } (7 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            color: 'red',
          },
          unused: {
            fontSize: '16px',
          },
        });
        export default function Component() {
          return <div {...stylex.props(styles.main)} />;
        }
       (6 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            color: 'red',
          },
          unused: {
            fontSize: '16px',
          },
        });
        export default function Component() {
          return <div {...css.props(styles.main)} />;
        }
       (12 ms)

PASS __tests__/stylex-enforce-extension-test.js
  stylex-enforce-extension
    valid
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (19 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓ export const somethingElse = {}; (2 ms)
      ✓ export const somethingElse = {}; (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (4 ms)
      ✓ export const somethingElse = {}; (2 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({ color: 'red' });
        export default stylex.defineVars({ background: 'blue' });
       (6 ms)
      ✓
        import * as stylex from 'custom-stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓
        import { css } from 'a';
        export const vars = css.defineVars({});
       (3 ms)
    invalid
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({ color: 'red' });
        export const somethingElse = someFunction();
        export default stylex.defineVars({ background: 'blue' });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = someFunction();
        export const somethingElse = someFunction();
        export default stylex.defineVars({ background: 'blue' });
       (4 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({
          color: 'blue',
        });
        export const somethingElse = someFunction();
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({
          color: 'red',
        });
        export const somethingElse = someFunction();
       (3 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (2 ms)
      ✓ export const somethingElse = {}; (1 ms)
      ✓ export const somethingElse = {}; (1 ms)
      ✓
        import * as stylex from '@stylexjs/stylex';
        export const vars = stylex.defineVars({});
       (3 ms)
      ✓ export const somethingElse = {}; (1 ms)
      ✓
        import * as stylex from 'custom-stylex';
        export const vars = stylex.defineVars({});
       (2 ms)
      ✓
        import { css } from 'a';
        export const vars = css.defineVars({});
       (2 ms)
      ✓ export const somethingElse = {}; (1 ms)
      ✓ export const somethingElse = {}; (2 ms)

PASS __tests__/stylex-no-legacy-contextual-styles-test.js
  stylex-no-legacy-contextual-styles
    valid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          '::placeholder': {
            color: '#999',
          },
          width: {
            default: '100%',
            '@media (min-width: 600px)': {
              default: '50%',
              '@media screen': '40%'
            },
          }
        },
        ':dummy': {
          color: '#999',
        }
      });
     (26 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            '::placeholder': {
              color: '#999',
            },
            width: {
              default: '100%',
              '@media (min-width: 600px)': {
                default: '50%',
                '@media screen': '40%'
              },
            }
          },
        });
       (5 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            '::placeholder': {
              color: '#999',
            },
          },
        });
       (3 ms)
    invalid
      ✓
      import * as stylex from '@stylexjs/stylex';
      const styles = stylex.create({
        main: {
          width: '100%',
          '@media (min-width: 600px)': {
            width: '50%',
          }
        }
      });
       (3 ms)
      ✓
      import {create} from '@stylexjs/stylex';
      const styles = create({
        main: {
          width: '100%',
          ':hover': {
            width: '50%',
          }
        }
      });
       (4 ms)
      ✓
        import * as stylex from 'custom-stylex';
        const styles = stylex.create({
          main: {
            width: '100%',
            ':hover': {
              width: '50%',
            }
          }
        });
       (3 ms)
      ✓
        import { css } from 'a';
        const styles = css.create({
          main: {
            width: '100%',
            '@media (max-width: 600px)': {
              width: '50%',
            }
          }
        });
       (4 ms)

----------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------
File                                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------
All files                               |   87.49 |    76.75 |   94.17 |   87.54 |
 src                                    |   83.52 |    79.17 |   92.85 |   83.58 |
  index.js                              |       0 |      100 |     100 |       0 | 24
  stylex-enforce-extension.js           |   96.66 |    94.44 |     100 |     100 | 71,89
  stylex-no-legacy-contextual-styles.js |   95.23 |    94.73 |     100 |   95.23 | 100
  stylex-no-unused.js                   |   67.05 |    64.51 |      84 |   67.05 | 40,48-49,131-155,189,203-207,214,220,261
  stylex-sort-keys.js                   |   95.23 |    90.34 |     100 |   95.23 | 148,245,324,385,400
  stylex-valid-shorthands.js            |    83.6 |    75.67 |     100 |    83.6 | 131,134,144,150-151,165,180,236,241,246
  stylex-valid-styles.js                |   81.77 |    75.33 |   89.47 |   81.53 | 255,258,261,270,330,345,351,365,383,409,421-435,439,450,544,552,564-569,687,698-719,742,785,826,847,850-853,868
 src/reference                          |   99.18 |       85 |    90.9 |   99.45 |
  cssProperties.js                      |   99.18 |       85 |    90.9 |   99.45 | 431,492
  namedColors.js                        |     100 |      100 |     100 |     100 |
 src/rules                              |      88 |    79.14 |     100 |   87.83 |
  isAbsoluteLength.js                   |     100 |    83.33 |     100 |     100 | 24
  isAnimationName.js                    |   80.95 |    85.29 |     100 |   80.95 | 44,49,61,73
  isCSSVariable.js                      |     100 |    91.66 |     100 |     100 | 27
  isHexColor.js                         |     100 |       40 |     100 |     100 | 22
  isNumber.js                           |      76 |    65.85 |     100 |      76 | 37-45,74
  isPercentage.js                       |     100 |    83.33 |     100 |     100 | 22
  isPositionTryFallbacks.js             |   80.95 |    76.47 |     100 |   80.95 | 39,44,49,61
  isRelativeLength.js                   |    87.5 |    66.66 |     100 |    87.5 | 55
  isString.js                           |     100 |      100 |     100 |     100 |
  isStylexResolvedVarsToken.js          |    90.9 |    83.33 |     100 |    90.9 | 36
  makeLiteralRule.js                    |   93.33 |       80 |     100 |   93.33 | 54
  makeRangeRule.js                      |      75 |    83.33 |     100 |      75 | 30
  makeRegExRule.js                      |     100 |      100 |     100 |     100 |
  makeUnionRule.js                      |     100 |    91.66 |     100 |     100 | 32
 src/utils                              |   80.25 |    67.85 |   94.11 |   80.06 |
  createImportTracker.js                |    93.1 |    80.76 |     100 |    93.1 | 39,50
  evaluate.js                           |       0 |        0 |       0 |       0 | 17-37
  getDistance.js                        |   98.33 |    96.15 |     100 |   98.33 | 45
  getPropertyName.js                    |   44.82 |     37.5 |      75 |   44.82 | 15,27-34,41-51,58,69-70,83
  getPropertyPriorityAndType.js         |    87.5 |       80 |     100 |    87.5 | 31,47
  getSourceCode.js                      |      75 |    33.33 |     100 |      75 | 23
  isWhiteSpaceOrEmpty.js                |     100 |      100 |     100 |     100 |
  makeVariableCheckingRule.js           |   81.81 |    83.33 |     100 |   81.81 | 31,36
  resolveKey.js                         |       0 |        0 |       0 |       0 | 17-44
  split-css-value.js                    |   88.67 |    81.03 |     100 |   88.46 | 14,25,90,104,119-120
  splitShorthands.js                    |   95.18 |    81.57 |     100 |   95.06 | 230,249,257,261
----------------------------------------|---------|----------|---------|---------|-----------------------------------------------------------------------------------------------------------------
Test Suites: 6 passed, 6 total
Tests:       235 passed, 235 total
Snapshots:   0 total
Time:        7.06 s
Ran all test suites.

> @stylexjs/postcss-plugin@0.16.0 test
> jest

PASS __tests__/index-test.js
  @stylexjs/postcss-plugin
    ✓ extracts CSS from StyleX files (164 ms)
    ✓ handles empty CSS input without @stylex rule (2 ms)
    ✓ supports CSS layers (13 ms)
    ✓ handles exclude patterns (10 ms)
    ✓ respects string syntax for importSources (19 ms)
    ✓ supports object syntax for importSources (7 ms)
    ✓ skips files that do not match include/exclude patterns (5 ms)

Test Suites: 1 passed, 1 total
Tests:       7 passed, 7 total
Snapshots:   7 passed, 7 total
Time:        1.739 s
Ran all test suites.

> @stylexjs/rollup-plugin@0.16.0 test
> jest

PASS __tests__/index-test.js
  rollup-plugin-stylex
    ✓ extracts CSS and removes stylex.inject calls (469 ms)
    ✓ output filename match pattern (44 ms)
    runtimeInjection:true
      ✓ preserves stylex.inject calls and does not extract CSS (71 ms)

Test Suites: 1 passed, 1 total
Tests:       3 passed, 3 total
Snapshots:   4 passed, 4 total
Time:        2.367 s
Ran all test suites.

> typescript-tests@0.16.0 test
> tsc

