go: no module dependencies to download
go clean -testcache && make test-router && make test-middleware
make[1]: Entering directory '/app'
go test -race -v .
=== RUN   TestRoutePattern
--- PASS: TestRoutePattern (0.00s)
=== RUN   TestReplaceWildcardsConsecutive
--- PASS: TestReplaceWildcardsConsecutive (0.00s)
=== RUN   TestMuxBasic
--- PASS: TestMuxBasic (0.02s)
=== RUN   TestMuxMounts
--- PASS: TestMuxMounts (0.00s)
=== RUN   TestMuxPlain
--- PASS: TestMuxPlain (0.00s)
=== RUN   TestMuxEmptyRoutes
--- PASS: TestMuxEmptyRoutes (0.00s)
=== RUN   TestMuxTrailingSlash
--- PASS: TestMuxTrailingSlash (0.00s)
=== RUN   TestMuxNestedNotFound
--- PASS: TestMuxNestedNotFound (0.00s)
=== RUN   TestMethodNotAllowed
=== RUN   TestMethodNotAllowed/Registered_Method
=== RUN   TestMethodNotAllowed/Unregistered_Method
--- PASS: TestMethodNotAllowed (0.00s)
    --- PASS: TestMethodNotAllowed/Registered_Method (0.00s)
    --- PASS: TestMethodNotAllowed/Unregistered_Method (0.00s)
=== RUN   TestMuxNestedMethodNotAllowed
--- PASS: TestMuxNestedMethodNotAllowed (0.01s)
=== RUN   TestMuxComplicatedNotFound
=== RUN   TestMuxComplicatedNotFound/pre
=== RUN   TestMuxComplicatedNotFound/post
--- PASS: TestMuxComplicatedNotFound (0.02s)
    --- PASS: TestMuxComplicatedNotFound/pre (0.01s)
    --- PASS: TestMuxComplicatedNotFound/post (0.01s)
=== RUN   TestMuxWith
--- PASS: TestMuxWith (0.00s)
=== RUN   TestMuxHandlePatternValidation
=== RUN   TestMuxHandlePatternValidation/Valid_pattern_without_HTTP_GET
=== RUN   TestMuxHandlePatternValidation/Valid_pattern_with_HTTP_POST
=== RUN   TestMuxHandlePatternValidation/Valid_pattern_with_multiple_whitespace_after_method
=== RUN   TestMuxHandlePatternValidation/Invalid_pattern_with_no_method
=== RUN   TestMuxHandlePatternValidation/Invalid_pattern_with_supported_method
=== RUN   TestMuxHandlePatternValidation/Invalid_pattern_with_unsupported_method
--- PASS: TestMuxHandlePatternValidation (0.01s)
    --- PASS: TestMuxHandlePatternValidation/Valid_pattern_without_HTTP_GET (0.00s)
    --- PASS: TestMuxHandlePatternValidation/Valid_pattern_with_HTTP_POST (0.00s)
    --- PASS: TestMuxHandlePatternValidation/Valid_pattern_with_multiple_whitespace_after_method (0.00s)
    --- PASS: TestMuxHandlePatternValidation/Invalid_pattern_with_no_method (0.00s)
    --- PASS: TestMuxHandlePatternValidation/Invalid_pattern_with_supported_method (0.00s)
    --- PASS: TestMuxHandlePatternValidation/Invalid_pattern_with_unsupported_method (0.00s)
=== RUN   TestRouterFromMuxWith
=== PAUSE TestRouterFromMuxWith
=== RUN   TestMuxMiddlewareStack
--- PASS: TestMuxMiddlewareStack (0.00s)
=== RUN   TestMuxRouteGroups
--- PASS: TestMuxRouteGroups (0.00s)
=== RUN   TestMuxBig
--- PASS: TestMuxBig (0.01s)
=== RUN   TestMuxSubroutesBasic
--- PASS: TestMuxSubroutesBasic (0.00s)
=== RUN   TestMuxSubroutes
--- PASS: TestMuxSubroutes (0.00s)
=== RUN   TestSingleHandler
--- PASS: TestSingleHandler (0.00s)
=== RUN   TestServeHTTPExistingContext
--- PASS: TestServeHTTPExistingContext (0.00s)
=== RUN   TestNestedGroups
--- PASS: TestNestedGroups (0.01s)
=== RUN   TestMiddlewarePanicOnLateUse
--- PASS: TestMiddlewarePanicOnLateUse (0.00s)
=== RUN   TestMountingExistingPath
--- PASS: TestMountingExistingPath (0.00s)
=== RUN   TestMountingSimilarPattern
--- PASS: TestMountingSimilarPattern (0.00s)
=== RUN   TestMuxEmptyParams
--- PASS: TestMuxEmptyParams (0.00s)
=== RUN   TestMuxMissingParams
--- PASS: TestMuxMissingParams (0.01s)
=== RUN   TestMuxWildcardRoute
--- PASS: TestMuxWildcardRoute (0.00s)
=== RUN   TestMuxWildcardRouteCheckTwo
--- PASS: TestMuxWildcardRouteCheckTwo (0.00s)
=== RUN   TestMuxRegexp
--- PASS: TestMuxRegexp (0.00s)
=== RUN   TestMuxRegexp2
--- PASS: TestMuxRegexp2 (0.00s)
=== RUN   TestMuxRegexp3
--- PASS: TestMuxRegexp3 (0.01s)
=== RUN   TestMuxSubrouterWildcardParam
--- PASS: TestMuxSubrouterWildcardParam (0.00s)
=== RUN   TestMuxContextIsThreadSafe
--- PASS: TestMuxContextIsThreadSafe (25.88s)
=== RUN   TestEscapedURLParams
--- PASS: TestEscapedURLParams (0.00s)
=== RUN   TestCustomHTTPMethod
--- PASS: TestCustomHTTPMethod (0.00s)
=== RUN   TestMuxMatch
--- PASS: TestMuxMatch (0.00s)
=== RUN   TestMuxMatch_HasBasePath
--- PASS: TestMuxMatch_HasBasePath (0.00s)
=== RUN   TestMuxMatch_DoesNotHaveBasePath
--- PASS: TestMuxMatch_DoesNotHaveBasePath (0.00s)
=== RUN   TestMuxFind
--- PASS: TestMuxFind (0.00s)
=== RUN   TestServerBaseContext
--- PASS: TestServerBaseContext (0.00s)
=== RUN   TestPathValue
=== RUN   TestPathValue/Basic_path_value
=== RUN   TestPathValue/Two_path_values
=== RUN   TestPathValue/Wildcard_path
--- PASS: TestPathValue (0.00s)
    --- PASS: TestPathValue/Basic_path_value (0.00s)
    --- PASS: TestPathValue/Two_path_values (0.00s)
    --- PASS: TestPathValue/Wildcard_path (0.00s)
=== RUN   TestTree
--- PASS: TestTree (0.00s)
=== RUN   TestTreeMoar
--- PASS: TestTreeMoar (0.00s)
=== RUN   TestTreeRegexp
--- PASS: TestTreeRegexp (0.00s)
=== RUN   TestTreeRegexpRecursive
--- PASS: TestTreeRegexpRecursive (0.00s)
=== RUN   TestTreeRegexMatchWholeParam
--- PASS: TestTreeRegexMatchWholeParam (0.00s)
=== RUN   TestTreeFindPattern
--- PASS: TestTreeFindPattern (0.00s)
=== RUN   TestWalker
    tree_test.go:517: GET /
    tree_test.go:517: GET /favicon.ico
    tree_test.go:517: GET /folders/
    tree_test.go:517: GET /folders/public
    tree_test.go:517: GET /hubs/{hubID}/view
    tree_test.go:517: GET /hubs/{hubID}/view/*
    tree_test.go:517: POST /hubs/{hubSlug}/view/*
    tree_test.go:517: GET /hubs/{hubID}/
    tree_test.go:517: GET /hubs/{hubID}/posts/
    tree_test.go:517: GET /hubs/{hubID}/touch
    tree_test.go:517: DELETE /hubs/{hubID}/webhooks/*
    tree_test.go:517: POST /hubs/{hubID}/webhooks/*
    tree_test.go:517: CONNECT /hubs/{hubID}/webhooks/*
    tree_test.go:517: PATCH /hubs/{hubID}/webhooks/*
    tree_test.go:517: PUT /hubs/{hubID}/webhooks/*
    tree_test.go:517: GET /hubs/{hubID}/webhooks/*
    tree_test.go:517: OPTIONS /hubs/{hubID}/webhooks/*
    tree_test.go:517: BOO /hubs/{hubID}/webhooks/*
    tree_test.go:517: HEAD /hubs/{hubID}/webhooks/*
    tree_test.go:517: TRACE /hubs/{hubID}/webhooks/*
    tree_test.go:517: GET /suggestions
    tree_test.go:517: GET /woot/{wootID}/*
--- PASS: TestWalker (0.00s)
=== CONT  TestRouterFromMuxWith
--- PASS: TestRouterFromMuxWith (0.00s)
PASS
ok  	github.com/go-chi/chi/v5	27.183s
make[1]: Leaving directory '/app'
make[1]: Entering directory '/app'
go test -race -v ./middleware
=== RUN   TestCompressor
=== RUN   TestCompressor/no_expected_encodings_due_to_no_accepted_encodings
=== RUN   TestCompressor/no_expected_encodings_due_to_content_type
=== RUN   TestCompressor/gzip_is_only_encoding
=== RUN   TestCompressor/gzip_is_preferred_over_deflate
=== RUN   TestCompressor/deflate_is_used
=== RUN   TestCompressor/nop_is_preferred
--- PASS: TestCompressor (0.05s)
    --- PASS: TestCompressor/no_expected_encodings_due_to_no_accepted_encodings (0.01s)
    --- PASS: TestCompressor/no_expected_encodings_due_to_content_type (0.02s)
    --- PASS: TestCompressor/gzip_is_only_encoding (0.00s)
    --- PASS: TestCompressor/gzip_is_preferred_over_deflate (0.01s)
    --- PASS: TestCompressor/deflate_is_used (0.01s)
    --- PASS: TestCompressor/nop_is_preferred (0.00s)
=== RUN   TestCompressorWildcards
=== RUN   TestCompressorWildcards/defaults
=== RUN   TestCompressorWildcards/no_wildcard
=== RUN   TestCompressorWildcards/invalid_wildcard_#1
=== RUN   TestCompressorWildcards/invalid_wildcard_#2
=== RUN   TestCompressorWildcards/valid_wildcard
=== RUN   TestCompressorWildcards/mixed
--- PASS: TestCompressorWildcards (0.01s)
    --- PASS: TestCompressorWildcards/defaults (0.00s)
    --- PASS: TestCompressorWildcards/no_wildcard (0.00s)
    --- PASS: TestCompressorWildcards/invalid_wildcard_#1 (0.00s)
    --- PASS: TestCompressorWildcards/invalid_wildcard_#2 (0.00s)
    --- PASS: TestCompressorWildcards/valid_wildcard (0.00s)
    --- PASS: TestCompressorWildcards/mixed (0.00s)
=== RUN   TestContentCharset
=== PAUSE TestContentCharset
=== RUN   TestSplit
=== PAUSE TestSplit
=== RUN   TestContentEncoding
=== PAUSE TestContentEncoding
=== RUN   TestContentEncodingMiddleware
=== PAUSE TestContentEncodingMiddleware
=== RUN   TestContentType
=== PAUSE TestContentType
=== RUN   TestGetHead
--- PASS: TestGetHead (0.01s)
=== RUN   TestRequestLogger
2025/10/12 12:46:43 "GET http://example.com/ HTTP/1.1" from 192.0.2.1:1234 - 000 0B in 14.464µs
--- PASS: TestRequestLogger (0.00s)
=== RUN   TestRequestLoggerReadFrom
2025/10/12 12:46:43 "GET http://example.com/ HTTP/1.1" from 192.0.2.1:1234 - 200 9B in 794.137µs
--- PASS: TestRequestLoggerReadFrom (0.00s)
=== RUN   TestWrapWriterHTTP2
--- PASS: TestWrapWriterHTTP2 (0.14s)
=== RUN   TestXRealIP
--- PASS: TestXRealIP (0.00s)
=== RUN   TestXForwardForIP
--- PASS: TestXForwardForIP (0.00s)
=== RUN   TestXForwardForXRealIPPrecedence
--- PASS: TestXForwardForXRealIPPrecedence (0.00s)
=== RUN   TestInvalidIP
--- PASS: TestInvalidIP (0.00s)
=== RUN   TestRecoverer
--- PASS: TestRecoverer (0.00s)
=== RUN   TestRecovererAbortHandler
--- PASS: TestRecovererAbortHandler (0.00s)
=== RUN   TestRequestID
--- PASS: TestRequestID (0.00s)
=== RUN   TestStripSlashes
--- PASS: TestStripSlashes (0.00s)
=== RUN   TestStripSlashesInRoute
--- PASS: TestStripSlashesInRoute (0.01s)
=== RUN   TestRedirectSlashes
--- PASS: TestRedirectSlashes (0.01s)
=== RUN   TestStripSlashesWithNilContext
--- PASS: TestStripSlashesWithNilContext (0.00s)
=== RUN   TestStripPrefix
--- PASS: TestStripPrefix (0.00s)
=== RUN   TestSunset
=== RUN   TestSunset/Sunset_without_link
=== RUN   TestSunset/Sunset_with_link
--- PASS: TestSunset (0.00s)
    --- PASS: TestSunset/Sunset_without_link (0.00s)
    --- PASS: TestSunset/Sunset_with_link (0.00s)
=== RUN   TestThrottleBacklog
--- PASS: TestThrottleBacklog (4.05s)
=== RUN   TestThrottleClientTimeout
--- PASS: TestThrottleClientTimeout (5.01s)
=== RUN   TestThrottleTriggerGatewayTimeout
--- PASS: TestThrottleTriggerGatewayTimeout (10.02s)
=== RUN   TestThrottleMaximum
--- PASS: TestThrottleMaximum (6.00s)
=== RUN   TestThrottleRetryAfter
--- PASS: TestThrottleRetryAfter (1.00s)
=== RUN   TestThrottleCustomStatusCode
--- PASS: TestThrottleCustomStatusCode (0.01s)
=== RUN   TestURLFormat
--- PASS: TestURLFormat (0.01s)
=== RUN   TestURLFormatInSubRouter
--- PASS: TestURLFormatInSubRouter (0.00s)
=== RUN   TestHttpFancyWriterRemembersWroteHeaderWhenFlushed
--- PASS: TestHttpFancyWriterRemembersWroteHeaderWhenFlushed (0.00s)
=== RUN   TestHttp2FancyWriterRemembersWroteHeaderWhenFlushed
--- PASS: TestHttp2FancyWriterRemembersWroteHeaderWhenFlushed (0.00s)
=== RUN   TestBasicWritesTeesWritesWithoutDiscard
--- PASS: TestBasicWritesTeesWritesWithoutDiscard (0.00s)
=== RUN   TestBasicWriterDiscardsWritesToOriginalResponseWriter
=== RUN   TestBasicWriterDiscardsWritesToOriginalResponseWriter/With_Tee
=== RUN   TestBasicWriterDiscardsWritesToOriginalResponseWriter/Without_Tee
--- PASS: TestBasicWriterDiscardsWritesToOriginalResponseWriter (0.00s)
    --- PASS: TestBasicWriterDiscardsWritesToOriginalResponseWriter/With_Tee (0.00s)
    --- PASS: TestBasicWriterDiscardsWritesToOriginalResponseWriter/Without_Tee (0.00s)
=== CONT  TestContentCharset
=== CONT  TestContentEncoding
=== CONT  TestContentType
=== CONT  TestSplit
=== CONT  TestContentEncodingMiddleware
=== RUN   TestContentCharset/should_accept_requests_with_a_matching_charset
=== RUN   TestContentType/should_accept_requests_with_a_matching_content_type
--- PASS: TestContentEncoding (0.00s)
=== RUN   TestContentEncodingMiddleware/Support_no_encoding
=== PAUSE TestContentCharset/should_accept_requests_with_a_matching_charset
=== PAUSE TestContentEncodingMiddleware/Support_no_encoding
=== RUN   TestContentCharset/should_be_case-insensitive
=== PAUSE TestContentType/should_accept_requests_with_a_matching_content_type
=== PAUSE TestContentCharset/should_be_case-insensitive
=== RUN   TestContentEncodingMiddleware/Support_gzip_encoding
--- PASS: TestSplit (0.00s)
=== RUN   TestContentType/should_accept_requests_with_a_matching_content_type_no_charset
=== PAUSE TestContentEncodingMiddleware/Support_gzip_encoding
=== PAUSE TestContentType/should_accept_requests_with_a_matching_content_type_no_charset
=== RUN   TestContentCharset/should_accept_requests_with_a_matching_charset_with_extra_values
=== RUN   TestContentType/should_accept_requests_with_a_matching_content-type_with_extra_values
=== PAUSE TestContentCharset/should_accept_requests_with_a_matching_charset_with_extra_values
=== RUN   TestContentEncodingMiddleware/No_support_for_br_encoding
=== PAUSE TestContentType/should_accept_requests_with_a_matching_content-type_with_extra_values
=== RUN   TestContentCharset/should_accept_requests_with_a_matching_charset_when_multiple_charsets_are_supported
=== PAUSE TestContentEncodingMiddleware/No_support_for_br_encoding
=== PAUSE TestContentCharset/should_accept_requests_with_a_matching_charset_when_multiple_charsets_are_supported
=== RUN   TestContentType/should_accept_requests_with_a_matching_content_type_when_multiple_content_types_are_supported
=== RUN   TestContentEncodingMiddleware/Support_for_gzip_and_deflate_encoding
=== PAUSE TestContentType/should_accept_requests_with_a_matching_content_type_when_multiple_content_types_are_supported
=== PAUSE TestContentEncodingMiddleware/Support_for_gzip_and_deflate_encoding
=== RUN   TestContentType/should_not_accept_requests_with_a_mismatching_content_type
=== RUN   TestContentEncodingMiddleware/Support_for_deflate_and_gzip_encoding
=== RUN   TestContentCharset/should_accept_requests_with_no_charset_if_empty_charset_headers_are_allowed
=== PAUSE TestContentType/should_not_accept_requests_with_a_mismatching_content_type
=== PAUSE TestContentEncodingMiddleware/Support_for_deflate_and_gzip_encoding
=== RUN   TestContentType/should_not_accept_requests_with_a_mismatching_content_type_even_if_multiple_content_types_are_allowed
=== PAUSE TestContentCharset/should_accept_requests_with_no_charset_if_empty_charset_headers_are_allowed
=== PAUSE TestContentType/should_not_accept_requests_with_a_mismatching_content_type_even_if_multiple_content_types_are_allowed
=== RUN   TestContentEncodingMiddleware/No_support_for_deflate_and_br_encoding
=== RUN   TestContentCharset/should_not_accept_requests_with_no_charset_if_empty_charset_headers_are_not_allowed
=== CONT  TestContentType/should_accept_requests_with_a_matching_content_type
=== CONT  TestContentType/should_accept_requests_with_a_matching_content_type_no_charset
=== PAUSE TestContentEncodingMiddleware/No_support_for_deflate_and_br_encoding
=== CONT  TestContentEncodingMiddleware/Support_no_encoding
=== CONT  TestContentEncodingMiddleware/Support_for_deflate_and_gzip_encoding
=== CONT  TestContentEncodingMiddleware/Support_for_gzip_and_deflate_encoding
=== CONT  TestContentType/should_accept_requests_with_a_matching_content-type_with_extra_values
=== CONT  TestContentType/should_not_accept_requests_with_a_mismatching_content_type_even_if_multiple_content_types_are_allowed
=== CONT  TestContentType/should_not_accept_requests_with_a_mismatching_content_type
=== PAUSE TestContentCharset/should_not_accept_requests_with_no_charset_if_empty_charset_headers_are_not_allowed
=== CONT  TestContentType/should_accept_requests_with_a_matching_content_type_when_multiple_content_types_are_supported
=== CONT  TestContentEncodingMiddleware/Support_gzip_encoding
=== CONT  TestContentEncodingMiddleware/No_support_for_deflate_and_br_encoding
=== CONT  TestContentEncodingMiddleware/No_support_for_br_encoding
=== RUN   TestContentCharset/should_not_accept_requests_with_a_mismatching_charset
=== PAUSE TestContentCharset/should_not_accept_requests_with_a_mismatching_charset
=== RUN   TestContentCharset/should_not_accept_requests_with_a_mismatching_charset_even_if_empty_charsets_are_allowed
--- PASS: TestContentType (0.00s)
    --- PASS: TestContentType/should_accept_requests_with_a_matching_content_type (0.00s)
    --- PASS: TestContentType/should_accept_requests_with_a_matching_content_type_no_charset (0.00s)
    --- PASS: TestContentType/should_not_accept_requests_with_a_mismatching_content_type (0.00s)
    --- PASS: TestContentType/should_not_accept_requests_with_a_mismatching_content_type_even_if_multiple_content_types_are_allowed (0.00s)
    --- PASS: TestContentType/should_accept_requests_with_a_matching_content-type_with_extra_values (0.00s)
    --- PASS: TestContentType/should_accept_requests_with_a_matching_content_type_when_multiple_content_types_are_supported (0.00s)
=== PAUSE TestContentCharset/should_not_accept_requests_with_a_mismatching_charset_even_if_empty_charsets_are_allowed
=== CONT  TestContentCharset/should_accept_requests_with_a_matching_charset_when_multiple_charsets_are_supported
=== CONT  TestContentCharset/should_not_accept_requests_with_no_charset_if_empty_charset_headers_are_not_allowed
=== CONT  TestContentCharset/should_not_accept_requests_with_a_mismatching_charset
=== CONT  TestContentCharset/should_be_case-insensitive
=== CONT  TestContentCharset/should_not_accept_requests_with_a_mismatching_charset_even_if_empty_charsets_are_allowed
=== CONT  TestContentCharset/should_accept_requests_with_a_matching_charset_with_extra_values
=== CONT  TestContentCharset/should_accept_requests_with_a_matching_charset
=== CONT  TestContentCharset/should_accept_requests_with_no_charset_if_empty_charset_headers_are_allowed
--- PASS: TestContentEncodingMiddleware (0.00s)
    --- PASS: TestContentEncodingMiddleware/Support_for_deflate_and_gzip_encoding (0.00s)
    --- PASS: TestContentEncodingMiddleware/Support_for_gzip_and_deflate_encoding (0.00s)
    --- PASS: TestContentEncodingMiddleware/Support_no_encoding (0.00s)
    --- PASS: TestContentEncodingMiddleware/Support_gzip_encoding (0.00s)
    --- PASS: TestContentEncodingMiddleware/No_support_for_deflate_and_br_encoding (0.00s)
    --- PASS: TestContentEncodingMiddleware/No_support_for_br_encoding (0.00s)
--- PASS: TestContentCharset (0.01s)
    --- PASS: TestContentCharset/should_not_accept_requests_with_no_charset_if_empty_charset_headers_are_not_allowed (0.00s)
    --- PASS: TestContentCharset/should_accept_requests_with_a_matching_charset_when_multiple_charsets_are_supported (0.00s)
    --- PASS: TestContentCharset/should_be_case-insensitive (0.00s)
    --- PASS: TestContentCharset/should_not_accept_requests_with_a_mismatching_charset (0.00s)
    --- PASS: TestContentCharset/should_not_accept_requests_with_a_mismatching_charset_even_if_empty_charsets_are_allowed (0.00s)
    --- PASS: TestContentCharset/should_accept_requests_with_a_matching_charset_with_extra_values (0.00s)
    --- PASS: TestContentCharset/should_accept_requests_with_a_matching_charset (0.00s)
    --- PASS: TestContentCharset/should_accept_requests_with_no_charset_if_empty_charset_headers_are_allowed (0.00s)
PASS
ok  	github.com/go-chi/chi/v5/middleware	27.420s
make[1]: Leaving directory '/app'
