GLOBALS_CLEANUP=off
PASS packages/jest-environment-node/src/__tests__/node_environment.test.ts
  ‚óè Console

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:24:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:25:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:31:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:43:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:55:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'off'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:76:17)

PASS packages/jest-environment-node/src/__tests__/globals_cleanup_2.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_1.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_3.test.ts

Test Suites: 4 passed, 4 total
Tests:       2 skipped, 11 passed, 13 total
Snapshots:   0 total
Time:        2.212 s
Ran all test suites matching packages/jest-environment-node/src/__tests__.
GLOBALS_CLEANUP=soft
PASS packages/jest-environment-node/src/__tests__/node_environment.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_2.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_1.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_3.test.ts

Test Suites: 4 passed, 4 total
Tests:       2 skipped, 11 passed, 13 total
Snapshots:   0 total
Time:        2.199 s
Ran all test suites matching packages/jest-environment-node/src/__tests__.
GLOBALS_CLEANUP=on
PASS packages/jest-environment-node/src/__tests__/node_environment.test.ts
  ‚óè Console

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:24:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:25:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:31:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:43:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:55:18)

    console.warn
      [jest-util] garbage collection deletion mode already initialized, ignoring new mode
        Current: 'on'
        Given: 'soft'

      401 |   const currentMode = Reflect.get(globalObject, DELETION_MODE_SYMBOL);
      402 |   if (currentMode && currentMode !== deletionMode) {
    > 403 |     console.warn(_chalk().default.yellow(['[jest-util] garbage collection deletion mode already initialized, ignoring new mode', `  Current: '${currentMode}'`, `  Given: '${deletionMode}'`].join('\n')));
          |             ^
      404 |     return;
      405 |   }
      406 |   Reflect.set(globalObject, DELETION_MODE_SYMBOL, deletionMode);

      at warn (packages/jest-util/build/index.js:403:13)
      at new NodeEnvironment (packages/jest-environment-node/src/index.ts:98:37)
      at Object.<anonymous> (packages/jest-environment-node/src/__tests__/node_environment.test.ts:76:17)

PASS packages/jest-environment-node/src/__tests__/globals_cleanup_2.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_1.test.ts
PASS packages/jest-environment-node/src/__tests__/globals_cleanup_3.test.ts

Test Suites: 4 passed, 4 total
Tests:       2 skipped, 11 passed, 13 total
Snapshots:   0 total
Time:        2.257 s
Ran all test suites matching packages/jest-environment-node/src/__tests__.
...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'soft'[39m
[33m  Given: 'on'[39m
...............[SKIP] Does not work on jest-circus
.[SKIP] Does not work on jest-circus
....Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
....[SKIP] Does not work on jest-circus
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......................
/app/e2e/__tests__/requireMissingExt.test.ts

[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........
/app/e2e/__tests__/expectAsyncMatcher.test.ts

[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
......
/app/e2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts

[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.279 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

......
/app/e2e/__tests__/nestedTestDefinitions.test.ts

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       13 |   [7mexpect(getTruthy()).toBeTruthy()[27m;[49m[39m
    [36m[107m+       1[7m4[27m3 |   [7m      } = event[27m;[49m[39m
    [35m[103m-       14 |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       14[7m4[27m |    [7m     if (currentlyRunningTest)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m    |   ^[27m[49m[39m
    [35m[103m- [7m [27m     [7m16 |[27m     [7mexpect(getTruthy()).toBe('This test should not have run')[27m;[49m[39m
    [36m[107m+     [7m> 145 |[27m     [7m [27m     [7mcurrentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+ [7m      146 |           break[27m;[49m[39m
    [35m[103m-       17 |   [7m});[27m[49m[39m
    [36m[107m+       1[7m4[27m7 |   [7m      } else if (hasStarted) {[27m[49m[39m
    [35m[103m-       18 | [7m}[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 | [7m          state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       14 |     [7mexpect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m- [7m [27m     15 |[49m[39m
    [35m[103m-     [7m> 16 |     test('inner test', () => {[27m[49m[39m
    [35m[103m-          |     ^[49m[39m
    [35m[103m-       17 |       expect(getTruthy()).toBeTruthy();[49m[39m
    [36m[107m+       14[7m3[27m |     [7m    } = event;[27m[49m[39m
    [36m[107m+       144 |         if (currentlyRunningTest) {[49m[39m
    [36m[107m+     [7m>[27m 1[7m4[27m5 |    [7m       currentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+       146 |           break;[49m[39m
    [36m[107m+       147 |         } else if (hasStarted) {[49m[39m
    [35m[103m-       18 |     [7m});[27m[49m[39m
    [35m[103m- [7m      19 |   }[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 |     [7m      state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
...
/app/e2e/__tests__/moduleNameMapper.test.ts

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.....


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireMissingExt.test.ts[22m ([0m[1m[41m13.501 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mexpectAsyncMatcher.test.ts[22m ([0m[1m[41m17.782 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchSnapshotWithStringSerializer.test.ts[22m ([0m[1m[41m20.606 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.279 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnestedTestDefinitions.test.ts[22m ([0m[1m[41m24.1 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       13 |   [7mexpect(getTruthy()).toBeTruthy()[27m;[49m[39m
    [36m[107m+       1[7m4[27m3 |   [7m      } = event[27m;[49m[39m
    [35m[103m-       14 |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       14[7m4[27m |    [7m     if (currentlyRunningTest)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m    |   ^[27m[49m[39m
    [35m[103m- [7m [27m     [7m16 |[27m     [7mexpect(getTruthy()).toBe('This test should not have run')[27m;[49m[39m
    [36m[107m+     [7m> 145 |[27m     [7m [27m     [7mcurrentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+ [7m      146 |           break[27m;[49m[39m
    [35m[103m-       17 |   [7m});[27m[49m[39m
    [36m[107m+       1[7m4[27m7 |   [7m      } else if (hasStarted) {[27m[49m[39m
    [35m[103m-       18 | [7m}[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 | [7m          state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       14 |     [7mexpect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m- [7m [27m     15 |[49m[39m
    [35m[103m-     [7m> 16 |     test('inner test', () => {[27m[49m[39m
    [35m[103m-          |     ^[49m[39m
    [35m[103m-       17 |       expect(getTruthy()).toBeTruthy();[49m[39m
    [36m[107m+       14[7m3[27m |     [7m    } = event;[27m[49m[39m
    [36m[107m+       144 |         if (currentlyRunningTest) {[49m[39m
    [36m[107m+     [7m>[27m 1[7m4[27m5 |    [7m       currentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+       146 |           break;[49m[39m
    [36m[107m+       147 |         } else if (hasStarted) {[49m[39m
    [35m[103m-       18 |     [7m});[27m[49m[39m
    [35m[103m- [7m      19 |   }[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 |     [7m      state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mmoduleNameMapper.test.ts[22m ([0m[1m[41m27.447 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m5 failed[39m[22m, [1m[32m115 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m7 failed[39m[22m, [1m[33m7 skipped[39m[22m, [1m[32m1223 passed[39m[22m, 1237 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m284 passed[39m[22m, 290 total
[1mTime:[22m        75.489 s
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Command failed. Attempt 2/3:
....................Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.................[SKIP] Does not work on jest-circus
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
.[SKIP] Does not work on jest-circus
.......[SKIP] Does not work on jest-circus
........Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
.........
/app/e2e/__tests__/requireMissingExt.test.ts

[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....
/app/e2e/__tests__/expectAsyncMatcher.test.ts

[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.......
/app/e2e/__tests__/moduleNameMapper.test.ts

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
...
/app/e2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts

[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.749 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

..
/app/e2e/__tests__/nestedTestDefinitions.test.ts

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       13 |   [7mexpect(getTruthy()).toBeTruthy()[27m;[49m[39m
    [36m[107m+       1[7m4[27m3 |   [7m      } = event[27m;[49m[39m
    [35m[103m-       14 |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       14[7m4[27m |    [7m     if (currentlyRunningTest)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m    |   ^[27m[49m[39m
    [35m[103m- [7m [27m     [7m16 |[27m     [7mexpect(getTruthy()).toBe('This test should not have run')[27m;[49m[39m
    [36m[107m+     [7m> 145 |[27m     [7m [27m     [7mcurrentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+ [7m      146 |           break[27m;[49m[39m
    [35m[103m-       17 |   [7m});[27m[49m[39m
    [36m[107m+       1[7m4[27m7 |   [7m      } else if (hasStarted) {[27m[49m[39m
    [35m[103m-       18 | [7m}[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 | [7m          state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       14 |     [7mexpect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m- [7m [27m     15 |[49m[39m
    [35m[103m-     [7m> 16 |     test('inner test', () => {[27m[49m[39m
    [35m[103m-          |     ^[49m[39m
    [35m[103m-       17 |       expect(getTruthy()).toBeTruthy();[49m[39m
    [36m[107m+       14[7m3[27m |     [7m    } = event;[27m[49m[39m
    [36m[107m+       144 |         if (currentlyRunningTest) {[49m[39m
    [36m[107m+     [7m>[27m 1[7m4[27m5 |    [7m       currentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+       146 |           break;[49m[39m
    [36m[107m+       147 |         } else if (hasStarted) {[49m[39m
    [35m[103m-       18 |     [7m});[27m[49m[39m
    [35m[103m- [7m      19 |   }[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 |     [7m      state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.......


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireMissingExt.test.ts[22m ([0m[1m[41m7.784 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mexpectAsyncMatcher.test.ts[22m ([0m[1m[41m10.567 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mmoduleNameMapper.test.ts[22m ([0m[1m[41m12.171 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchSnapshotWithStringSerializer.test.ts[22m ([0m[1m[41m12.218 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.749 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnestedTestDefinitions.test.ts[22m ([0m[1m[41m14.513 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       13 |   [7mexpect(getTruthy()).toBeTruthy()[27m;[49m[39m
    [36m[107m+       1[7m4[27m3 |   [7m      } = event[27m;[49m[39m
    [35m[103m-       14 |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       14[7m4[27m |    [7m     if (currentlyRunningTest)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m    |   ^[27m[49m[39m
    [35m[103m- [7m [27m     [7m16 |[27m     [7mexpect(getTruthy()).toBe('This test should not have run')[27m;[49m[39m
    [36m[107m+     [7m> 145 |[27m     [7m [27m     [7mcurrentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+ [7m      146 |           break[27m;[49m[39m
    [35m[103m-       17 |   [7m});[27m[49m[39m
    [36m[107m+       1[7m4[27m7 |   [7m      } else if (hasStarted) {[27m[49m[39m
    [35m[103m-       18 | [7m}[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 | [7m          state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       14 |     [7mexpect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m- [7m [27m     15 |[49m[39m
    [35m[103m-     [7m> 16 |     test('inner test', () => {[27m[49m[39m
    [35m[103m-          |     ^[49m[39m
    [35m[103m-       17 |       expect(getTruthy()).toBeTruthy();[49m[39m
    [36m[107m+       14[7m3[27m |     [7m    } = event;[27m[49m[39m
    [36m[107m+       144 |         if (currentlyRunningTest) {[49m[39m
    [36m[107m+     [7m>[27m 1[7m4[27m5 |    [7m       currentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+       146 |           break;[49m[39m
    [36m[107m+       147 |         } else if (hasStarted) {[49m[39m
    [35m[103m-       18 |     [7m});[27m[49m[39m
    [35m[103m- [7m      19 |   }[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 |     [7m      state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m5 failed[39m[22m, [1m[32m115 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m7 failed[39m[22m, [1m[33m7 skipped[39m[22m, [1m[32m1223 passed[39m[22m, 1237 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m284 passed[39m[22m, 290 total
[1mTime:[22m        65.737 s, estimated 72 s
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Command failed. Attempt 3/3:
...Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
..Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[SKIP] Does not work on jest-circus
.[SKIP] Does not work on jest-circus
....................[SKIP] Does not work on jest-circus
.Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
...
/app/e2e/__tests__/requireMissingExt.test.ts

[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..........
/app/e2e/__tests__/expectAsyncMatcher.test.ts

[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........
/app/e2e/__tests__/moduleNameMapper.test.ts

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
..
/app/e2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts

[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.098 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

...
/app/e2e/__tests__/nestedTestDefinitions.test.ts

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       13 |   [7mexpect(getTruthy()).toBeTruthy()[27m;[49m[39m
    [36m[107m+       1[7m4[27m3 |   [7m      } = event[27m;[49m[39m
    [35m[103m-       14 |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       14[7m4[27m |    [7m     if (currentlyRunningTest)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m    |   ^[27m[49m[39m
    [35m[103m- [7m [27m     [7m16 |[27m     [7mexpect(getTruthy()).toBe('This test should not have run')[27m;[49m[39m
    [36m[107m+     [7m> 145 |[27m     [7m [27m     [7mcurrentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+ [7m      146 |           break[27m;[49m[39m
    [35m[103m-       17 |   [7m});[27m[49m[39m
    [36m[107m+       1[7m4[27m7 |   [7m      } else if (hasStarted) {[27m[49m[39m
    [35m[103m-       18 | [7m}[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 | [7m          state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       14 |     [7mexpect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m- [7m [27m     15 |[49m[39m
    [35m[103m-     [7m> 16 |     test('inner test', () => {[27m[49m[39m
    [35m[103m-          |     ^[49m[39m
    [35m[103m-       17 |       expect(getTruthy()).toBeTruthy();[49m[39m
    [36m[107m+       14[7m3[27m |     [7m    } = event;[27m[49m[39m
    [36m[107m+       144 |         if (currentlyRunningTest) {[49m[39m
    [36m[107m+     [7m>[27m 1[7m4[27m5 |    [7m       currentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+       146 |           break;[49m[39m
    [36m[107m+       147 |         } else if (hasStarted) {[49m[39m
    [35m[103m-       18 |     [7m});[27m[49m[39m
    [35m[103m- [7m      19 |   }[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 |     [7m      state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
........


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireMissingExt.test.ts[22m ([0m[1m[41m6.664 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mexpectAsyncMatcher.test.ts[22m ([0m[1m[41m9.609 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mmoduleNameMapper.test.ts[22m ([0m[1m[41m11.671 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchSnapshotWithStringSerializer.test.ts[22m ([0m[1m[41m12.916 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.098 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnestedTestDefinitions.test.ts[22m ([0m[1m[41m14.785 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       13 |   [7mexpect(getTruthy()).toBeTruthy()[27m;[49m[39m
    [36m[107m+       1[7m4[27m3 |   [7m      } = event[27m;[49m[39m
    [35m[103m-       14 |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       14[7m4[27m |    [7m     if (currentlyRunningTest)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m    |   ^[27m[49m[39m
    [35m[103m- [7m [27m     [7m16 |[27m     [7mexpect(getTruthy()).toBe('This test should not have run')[27m;[49m[39m
    [36m[107m+     [7m> 145 |[27m     [7m [27m     [7mcurrentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+ [7m      146 |           break[27m;[49m[39m
    [35m[103m-       17 |   [7m});[27m[49m[39m
    [36m[107m+       1[7m4[27m7 |   [7m      } else if (hasStarted) {[27m[49m[39m
    [35m[103m-       18 | [7m}[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 | [7m          state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       14 |     [7mexpect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m- [7m [27m     15 |[49m[39m
    [35m[103m-     [7m> 16 |     test('inner test', () => {[27m[49m[39m
    [35m[103m-          |     ^[49m[39m
    [35m[103m-       17 |       expect(getTruthy()).toBeTruthy();[49m[39m
    [36m[107m+       14[7m3[27m |     [7m    } = event;[27m[49m[39m
    [36m[107m+       144 |         if (currentlyRunningTest) {[49m[39m
    [36m[107m+     [7m>[27m 1[7m4[27m5 |    [7m       currentlyRunningTest.errors.push(new Error(`Tests cannot be nested. Test "${name}" cannot run because it is nested within "${currentlyRunningTest.name}".`));[27m[49m[39m
    [36m[107m+           |                                            ^[49m[39m
    [36m[107m+       146 |           break;[49m[39m
    [36m[107m+       147 |         } else if (hasStarted) {[49m[39m
    [35m[103m-       18 |     [7m});[27m[49m[39m
    [35m[103m- [7m      19 |   }[27m);[49m[39m
    [36m[107m+       1[7m4[27m8 |     [7m      state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m5 failed[39m[22m, [1m[32m115 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m7 failed[39m[22m, [1m[33m7 skipped[39m[22m, [1m[32m1223 passed[39m[22m, 1237 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m284 passed[39m[22m, 290 total
[1mTime:[22m        [1m[33m64.959 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
The command has failed after 3 attempts.
..[SKIP] Does not work on jest-circus
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'soft'[39m
[33m  Given: 'on'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

....................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[SKIP] Does not work on jest-circus
.......
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.....................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..........
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.01 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

......
/app/e2e/__tests__/environmentAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () => {[27m[49m[39m
    [35m[103m-       10 |   setTimeout(() => {[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+       [7m1677 |       }[27m[49m[39m
    [36m[107m+       1678 |       if (this.isInsideTestCode === false) {[49m[39m
    [36m[107m+ [7m    > 1679 |         throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |    [27m          [7m [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m680[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m681 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1682 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/requireAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1214 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m215[27m |   [7m [27m[7m if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m216[27m |     [7m [27m[7m throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          |                   [7m ^[27m[49m[39m
    [36m[107m+ [7m  [27m         |             [7m^[27m[49m[39m
    [36m[107m+       [7m1217 |     }[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m18[27m |[49m[39m
    [35m[103m-       1[7m3[27m |     [7mexpect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m219[27m |     [7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....
/app/e2e/__tests__/complexItemsInErrors.ts

[1m[31m  [1m‚óè [22m[1mhandles functions that close over outside variables[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles functions that close over outside variables[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles errors with BigInt[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles errors with BigInt[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        5.727 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.425 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.388 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

...../app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
(node:166861) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
...
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

..
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m ([0m[1m[41m12.248 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m15.695 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.01 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1menvironmentAfterTeardown.test.ts[22m ([0m[1m[41m15.655 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () => {[27m[49m[39m
    [35m[103m-       10 |   setTimeout(() => {[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+       [7m1677 |       }[27m[49m[39m
    [36m[107m+       1678 |       if (this.isInsideTestCode === false) {[49m[39m
    [36m[107m+ [7m    > 1679 |         throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |    [27m          [7m [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m680[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m681 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1682 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireAfterTeardown.test.ts[22m ([0m[1m[41m15.587 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1214 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m215[27m |   [7m [27m[7m if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m216[27m |     [7m [27m[7m throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          |                   [7m ^[27m[49m[39m
    [36m[107m+ [7m  [27m         |             [7m^[27m[49m[39m
    [36m[107m+       [7m1217 |     }[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m18[27m |[49m[39m
    [35m[103m-       1[7m3[27m |     [7mexpect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m219[27m |     [7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcomplexItemsInErrors.ts[22m ([0m[1m[41m17.702 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mhandles functions that close over outside variables[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles functions that close over outside variables[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles errors with BigInt[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles errors with BigInt[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m24.091 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        5.727 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.425 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.388 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m34.312 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m42.28 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m90.92 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 6 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m11 failed[39m[22m, [1m[32m109 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m14 failed[39m[22m, [1m[33m28 skipped[39m[22m, [1m[32m1145 passed[39m[22m, 1187 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m180 passed[39m[22m, 186 total
[1mTime:[22m        [1m[33m93.694 s[39m[22m
[2mRan all test suites[22m[2m in [22m6[2m projects[22m[2m.[22m
Command failed. Attempt 2/3:
..
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..............................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[SKIP] Does not work on jest-circus
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...
/app/e2e/__tests__/requireAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1214 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m215[27m |   [7m [27m[7m if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m216[27m |     [7m [27m[7m throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          |                   [7m ^[27m[49m[39m
    [36m[107m+ [7m  [27m         |             [7m^[27m[49m[39m
    [36m[107m+       [7m1217 |     }[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m18[27m |[49m[39m
    [35m[103m-       1[7m3[27m |     [7mexpect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m219[27m |     [7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[SKIP] Does not work on jest-circus
................
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

...........
/app/e2e/__tests__/environmentAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () => {[27m[49m[39m
    [35m[103m-       10 |   setTimeout(() => {[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+       [7m1677 |       }[27m[49m[39m
    [36m[107m+       1678 |       if (this.isInsideTestCode === false) {[49m[39m
    [36m[107m+ [7m    > 1679 |         throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |    [27m          [7m [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m680[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m681 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1682 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
/app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.993 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

....(node:188375) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.273 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.987 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.855 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

.......
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

..
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m ([0m[1m[41m5.777 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireAfterTeardown.test.ts[22m ([0m[1m[41m6.111 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1214 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m215[27m |   [7m [27m[7m if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m216[27m |     [7m [27m[7m throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          |                   [7m ^[27m[49m[39m
    [36m[107m+ [7m  [27m         |             [7m^[27m[49m[39m
    [36m[107m+       [7m1217 |     }[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m18[27m |[49m[39m
    [35m[103m-       1[7m3[27m |     [7mexpect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m219[27m |     [7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1menvironmentAfterTeardown.test.ts[22m ([0m[1m[41m6.553 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () => {[27m[49m[39m
    [35m[103m-       10 |   setTimeout(() => {[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+       [7m1677 |       }[27m[49m[39m
    [36m[107m+       1678 |       if (this.isInsideTestCode === false) {[49m[39m
    [36m[107m+ [7m    > 1679 |         throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |    [27m          [7m [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m680[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m681 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1682 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m8.863 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.993 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m14.071 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.273 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.987 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.855 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m24.198 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m24.52 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m75.297 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 6 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m10 failed[39m[22m, [1m[32m110 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m12 failed[39m[22m, [1m[33m28 skipped[39m[22m, [1m[32m1147 passed[39m[22m, 1187 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m182 passed[39m[22m, 188 total
[1mTime:[22m        78.625 s, estimated 91 s
[2mRan all test suites[22m[2m in [22m6[2m projects[22m[2m.[22m
Command failed. Attempt 3/3:
.
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....[SKIP] Does not work on jest-circus
.............
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

..........[SKIP] Does not work on jest-circus
../app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
.
/app/e2e/__tests__/environmentAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () => {[27m[49m[39m
    [35m[103m-       10 |   setTimeout(() => {[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+       [7m1677 |       }[27m[49m[39m
    [36m[107m+       1678 |       if (this.isInsideTestCode === false) {[49m[39m
    [36m[107m+ [7m    > 1679 |         throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |    [27m          [7m [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m680[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m681 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1682 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
......
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.61 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

..
/app/e2e/__tests__/requireAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1214 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m215[27m |   [7m [27m[7m if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m216[27m |     [7m [27m[7m throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          |                   [7m ^[27m[49m[39m
    [36m[107m+ [7m  [27m         |             [7m^[27m[49m[39m
    [36m[107m+       [7m1217 |     }[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m18[27m |[49m[39m
    [35m[103m-       1[7m3[27m |     [7mexpect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m219[27m |     [7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....(node:217797) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.917 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.007 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.875 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

.......
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

..
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1menvironmentAfterTeardown.test.ts[22m ([0m[1m[41m6.94 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for environment methods after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for environment methods after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('access environment methods after done', () => {[27m[49m[39m
    [35m[103m-       10 |   setTimeout(() => {[49m[39m
    [35m[103m- [7m    > 11 |     jest.clearAllTimers([27m);[49m[39m
    [36m[107m+       [7m1677 |       }[27m[49m[39m
    [36m[107m+       1678 |       if (this.isInsideTestCode === false) {[49m[39m
    [36m[107m+ [7m    > 1679 |         throw new ReferenceError('You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[27m);[49m[39m
    [35m[103m-          [7m|[27m          ^[49m[39m
    [36m[107m+          [7m  |    [27m          [7m [27m^[49m[39m
    [35m[103m-       1[7m2[27m |   [7m}, 0);[27m[49m[39m
    [36m[107m+       1[7m680[27m |   [7m    }[27m[49m[39m
    [35m[103m-       1[7m3 | });[27m[49m[39m
    [35m[103m-       14 |[49m[39m
    [36m[107m+       1[7m681 |       return this._fakeTimersImplementation;[27m[49m[39m
    [36m[107m+       1682 |     };[49m[39m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m5[39m])[33m.[39mtoMatch([22m
[2m     [90m 31 |[39m     [32m'ReferenceError: You are trying to access a property or method of the Jest environment outside of the scope of the test code.'[39m[33m,[39m[22m
[2m     [90m 32 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/environmentAfterTeardown.test.ts[39m[0m[2m:29:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m ([0m[1m[41m7.382 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m7.809 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.61 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireAfterTeardown.test.ts[22m ([0m[1m[41m7.212 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprints useful error for requires after test is done w/ `waitForUnhandledRejections`[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `prints useful error for requires after test is done w/ \`waitForUnhandledRejections\` 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m      ReferenceError: You are trying to `import` a file outside of the scope of the test code.[22m

    [35m[103m-       [7m 9 | test('require after done', () => {[27m[49m[39m
    [36m[107m+       [7m1214 |     }[27m[49m[39m
    [35m[103m-       1[7m0[27m |   [7msetTimeout(() =>[27m {[49m[39m
    [36m[107m+       1[7m215[27m |   [7m [27m[7m if (this.isInsideTestCode === false)[27m {[49m[39m
    [35m[103m-     > 1[7m1[27m |     [7mconst double = require('../[27m');[49m[39m
    [36m[107m+     > 1[7m216[27m |     [7m [27m[7m throw new ReferenceError('You are trying to `import` a file outside of the scope of the test code.[27m');[49m[39m
    [35m[103m-          |                   [7m ^[27m[49m[39m
    [36m[107m+ [7m  [27m         |             [7m^[27m[49m[39m
    [36m[107m+       [7m1217 |     }[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [36m[107m+       12[7m18[27m |[49m[39m
    [35m[103m-       1[7m3[27m |     [7mexpect(double(5)).toBe(10);[27m[49m[39m
    [35m[103m-       14 |   }, 0);[49m[39m
    [36m[107m+       1[7m219[27m |     [7m// If the environment was disposed, prevent this module from being executed.[27m[49m[39m
[2m[22m
[2m    [0m [90m 29 |[39m   [36mconst[39m interestingLines [33m=[39m stderr[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m5[39m[33m,[39m [35m14[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 30 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 31 |[39m   expect(interestingLines)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 32 |[39m   expect(stderr[33m.[39msplit([32m'\n'[39m)[[35m16[39m])[33m.[39mtoMatch([22m
[2m     [90m 33 |[39m     [32m'(__tests__/lateRequire.test.js:11:20)'[39m[33m,[39m[22m
[2m     [90m 34 |[39m   )[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireAfterTeardown.test.ts[39m[0m[2m:31:28)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m13.933 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.917 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.007 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.875 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m25.287 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m25.595 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m75.396 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 6 snapshots failed[39m[22m from 6 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m10 failed[39m[22m, [1m[32m110 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m12 failed[39m[22m, [1m[33m28 skipped[39m[22m, [1m[32m1147 passed[39m[22m, 1187 total
[1mSnapshots:   [22m[1m[31m6 failed[39m[22m, [1m[32m182 passed[39m[22m, 188 total
[1mTime:[22m        [1m[33m77.967 s[39m[22m
[2mRan all test suites[22m[2m in [22m6[2m projects[22m[2m.[22m
The command has failed after 3 attempts.
...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[SKIP] Does not work on jest-circus
...........Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
..[33m[1mfoo[22m:[39m
[33m[39m
[33mDeprecation message[39m
[33m[39m
[33m  [1mCLI Options Documentation:[22m[39m
[33m  https://jestjs.io/docs/cli[39m
[33m[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....
/app/packages/jest-message-util/src/__tests__/messages.test.ts

[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...................
/app/e2e/__tests__/consoleAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
......................
/app/e2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.784 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.18 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.613 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.768 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.235 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[1m[31m ‚Ä∫ 4 obsolete snapshots[39m[22m found.
......
/app/e2e/__tests__/nativeEsm.test.ts

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[22m
[2m     [90m 61 |[39m[22m
[2m     [90m 62 |[39m test([32m'runs test with native mock ESM'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:59:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/failures.test.ts

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 28[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', ()[27m =>[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error[27m =>[7m {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,51 +37,51 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-      [7m 13 | test('reject, but fail', () =>[27m[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       2[7m153[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                               [7m [27m^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m      16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |[7m   return actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+ [7m  [27m         |   [7m [27m[7m [27m      [7m    ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [35m[103m-       2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       2[7m118[27m |   [7m [27m[7m const matcher = allMatchers[name];[27m[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [35m[103m- [7m      23 |   setTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/toMatchInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        7.199 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.893 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.43 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.451 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.346 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.195 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.164 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.097 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.961 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.586 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.354 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.985 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.979 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m

[1m[31m ‚Ä∫ 17 obsolete snapshots[39m[22m found.
.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-message-util/src/__tests__/[22m[1mmessages.test.ts[22m ([0m[1m[41m5.618 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mconsoleAfterTeardown.test.ts[22m ([0m[1m[41m10.264 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m ([0m[1m[41m26.263 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.784 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.18 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.613 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.768 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.235 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnativeEsm.test.ts[22m ([0m[1m[41m36.295 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[22m
[2m     [90m 61 |[39m[22m
[2m     [90m 62 |[39m test([32m'runs test with native mock ESM'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:59:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mfailures.test.ts[22m ([0m[1m[41m40.585 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 28[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', ()[27m =>[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error[27m =>[7m {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,51 +37,51 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-      [7m 13 | test('reject, but fail', () =>[27m[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       2[7m153[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                               [7m [27m^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m      16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |[7m   return actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+ [7m  [27m         |   [7m [27m[7m [27m      [7m    ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [35m[103m-       2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       2[7m118[27m |   [7m [27m[7m const matcher = allMatchers[name];[27m[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [35m[103m- [7m      23 |   setTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m ([0m[1m[41m47.073 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        7.199 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.893 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.43 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.451 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.346 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.195 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.164 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.097 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.961 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.586 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.354 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.985 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.979 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 5 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m
[1m[33m ‚Ä∫ 21 snapshots obsolete [39m[22mfrom 2 test suites. [2mTo remove them all, re-run jest with `-u`.[22m
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m
       ‚Ä¢ updates existing snapshot: updated snapshot 1
       ‚Ä¢ works fine when function throws error with cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error with string cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error: initial write 1
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m
       ‚Ä¢ basic support: initial write 1
       ‚Ä¢ basic support: snapshot mismatch 1
       ‚Ä¢ basic support: snapshot passed 1
       ‚Ä¢ basic support: snapshot updated 1
       ‚Ä¢ do not indent empty lines: initial write 1
       ‚Ä¢ do not indent empty lines: snapshot passed 1
       ‚Ä¢ handles property matchers: initial write 1
       ‚Ä¢ handles property matchers: snapshot failed 1
       ‚Ä¢ handles property matchers: snapshot passed 1
       ‚Ä¢ handles property matchers: snapshot updated 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier: existing snapshot 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots: existing snapshot 1
       ‚Ä¢ multiple custom matchers and native matchers: multiple matchers 1
       ‚Ä¢ removes obsolete external snapshots: external snapshot cleaned 1
       ‚Ä¢ removes obsolete external snapshots: inline snapshot written 1
       ‚Ä¢ supports custom matchers with property matcher: custom matchers with property matcher 1
       ‚Ä¢ supports custom matchers: custom matchers 1

[1mTest Suites: [22m[1m[31m6 failed[39m[22m, [1m[32m114 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m23 failed[39m[22m, [1m[33m6 skipped[39m[22m, [1m[32m1685 passed[39m[22m, 1714 total
[1mSnapshots:   [22m[1m[31m5 failed[39m[22m, [1m[33m21 obsolete[39m[22m, [1m[32m965 passed[39m[22m, 970 total
[1mTime:[22m        [1m[33m79.224 s[39m[22m
[2mRan all test suites[22m[2m in [22m9[2m projects[22m[2m.[22m
Command failed. Attempt 2/3:
..
/app/packages/jest-message-util/src/__tests__/messages.test.ts

[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.....
/app/e2e/__tests__/consoleAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[1mfoo[22m:[39m
[33m[39m
[33mDeprecation message[39m
[33m[39m
[33m  [1mCLI Options Documentation:[22m[39m
[33m  https://jestjs.io/docs/cli[39m
[33m[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[SKIP] Does not work on jest-circus
.........................................
/app/e2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.459 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.249 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.242 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.264 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.024 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[1m[31m ‚Ä∫ 4 obsolete snapshots[39m[22m found.
.....
/app/e2e/__tests__/nativeEsm.test.ts

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[22m
[2m     [90m 61 |[39m[22m
[2m     [90m 62 |[39m test([32m'runs test with native mock ESM'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:59:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.....
/app/e2e/__tests__/failures.test.ts

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 28[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', ()[27m =>[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error[27m =>[7m {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,51 +37,51 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-      [7m 13 | test('reject, but fail', () =>[27m[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       2[7m153[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                               [7m [27m^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m      16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |[7m   return actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+ [7m  [27m         |   [7m [27m[7m [27m      [7m    ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [35m[103m-       2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       2[7m118[27m |   [7m [27m[7m const matcher = allMatchers[name];[27m[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [35m[103m- [7m      23 |   setTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/toMatchInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.281 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.626 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.436 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.289 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.007 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.974 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.942 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.076 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.382 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.373 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.31 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.916 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.888 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m

[1m[31m ‚Ä∫ 17 obsolete snapshots[39m[22m found.
.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-message-util/src/__tests__/[22m[1mmessages.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mconsoleAfterTeardown.test.ts[22m
[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m ([0m[1m[41m19.004 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.459 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.249 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.242 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.264 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.024 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnativeEsm.test.ts[22m ([0m[1m[41m23.493 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[22m
[2m     [90m 61 |[39m[22m
[2m     [90m 62 |[39m test([32m'runs test with native mock ESM'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:59:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mfailures.test.ts[22m ([0m[1m[41m30.367 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 28[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', ()[27m =>[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error[27m =>[7m {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,51 +37,51 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-      [7m 13 | test('reject, but fail', () =>[27m[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       2[7m153[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                               [7m [27m^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m      16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |[7m   return actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+ [7m  [27m         |   [7m [27m[7m [27m      [7m    ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [35m[103m-       2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       2[7m118[27m |   [7m [27m[7m const matcher = allMatchers[name];[27m[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [35m[103m- [7m      23 |   setTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m ([0m[1m[41m37.209 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.281 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.626 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.436 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.289 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.007 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.974 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.942 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.076 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.382 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.373 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.31 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.916 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.888 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 5 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m
[1m[33m ‚Ä∫ 21 snapshots obsolete [39m[22mfrom 2 test suites. [2mTo remove them all, re-run jest with `-u`.[22m
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m
       ‚Ä¢ updates existing snapshot: updated snapshot 1
       ‚Ä¢ works fine when function throws error with cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error with string cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error: initial write 1
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m
       ‚Ä¢ basic support: initial write 1
       ‚Ä¢ basic support: snapshot mismatch 1
       ‚Ä¢ basic support: snapshot passed 1
       ‚Ä¢ basic support: snapshot updated 1
       ‚Ä¢ do not indent empty lines: initial write 1
       ‚Ä¢ do not indent empty lines: snapshot passed 1
       ‚Ä¢ handles property matchers: initial write 1
       ‚Ä¢ handles property matchers: snapshot failed 1
       ‚Ä¢ handles property matchers: snapshot passed 1
       ‚Ä¢ handles property matchers: snapshot updated 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier: existing snapshot 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots: existing snapshot 1
       ‚Ä¢ multiple custom matchers and native matchers: multiple matchers 1
       ‚Ä¢ removes obsolete external snapshots: external snapshot cleaned 1
       ‚Ä¢ removes obsolete external snapshots: inline snapshot written 1
       ‚Ä¢ supports custom matchers with property matcher: custom matchers with property matcher 1
       ‚Ä¢ supports custom matchers: custom matchers 1

[1mTest Suites: [22m[1m[31m6 failed[39m[22m, [1m[32m114 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m23 failed[39m[22m, [1m[33m6 skipped[39m[22m, [1m[32m1685 passed[39m[22m, 1714 total
[1mSnapshots:   [22m[1m[31m5 failed[39m[22m, [1m[33m21 obsolete[39m[22m, [1m[32m965 passed[39m[22m, 970 total
[1mTime:[22m        55 s, estimated 76 s
[2mRan all test suites[22m[2m in [22m9[2m projects[22m[2m.[22m
Command failed. Attempt 3/3:
.
/app/packages/jest-message-util/src/__tests__/messages.test.ts

[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/consoleAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...........[33m[1mfoo[22m:[39m
[33m[39m
[33mDeprecation message[39m
[33m[39m
[33m  [1mCLI Options Documentation:[22m[39m
[33m  https://jestjs.io/docs/cli[39m
[33m[39m
....................[SKIP] Does not work on jest-circus
...........Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
....................
/app/e2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.829 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.848 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.324 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.409 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.364 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[1m[31m ‚Ä∫ 4 obsolete snapshots[39m[22m found.
.....
/app/e2e/__tests__/nativeEsm.test.ts

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[22m
[2m     [90m 61 |[39m[22m
[2m     [90m 62 |[39m test([32m'runs test with native mock ESM'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:59:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.....
/app/e2e/__tests__/failures.test.ts

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 28[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', ()[27m =>[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error[27m =>[7m {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,51 +37,51 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-      [7m 13 | test('reject, but fail', () =>[27m[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       2[7m153[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                               [7m [27m^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m      16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |[7m   return actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+ [7m  [27m         |   [7m [27m[7m [27m      [7m    ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [35m[103m-       2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       2[7m118[27m |   [7m [27m[7m const matcher = allMatchers[name];[27m[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [35m[103m- [7m      23 |   setTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/toMatchInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.587 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.718 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.218 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.355 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.917 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.035 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.996 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.95 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.45 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.357 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.278 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.934 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.855 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m

[1m[31m ‚Ä∫ 17 obsolete snapshots[39m[22m found.
.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-message-util/src/__tests__/[22m[1mmessages.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mconsoleAfterTeardown.test.ts[22m ([0m[1m[41m5.135 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m ([0m[1m[41m19.296 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        3.829 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.848 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.324 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.409 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.364 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnativeEsm.test.ts[22m ([0m[1m[41m24.013 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[22m
[2m     [90m 61 |[39m[22m
[2m     [90m 62 |[39m test([32m'runs test with native mock ESM'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:59:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mfailures.test.ts[22m ([0m[1m[41m30.842 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 28[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', ()[27m =>[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error[27m =>[7m {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,51 +37,51 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-      [7m 13 | test('reject, but fail', () =>[27m[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       2[7m153[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                               [7m [27m^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m      16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |[7m   return actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+ [7m  [27m         |   [7m [27m[7m [27m      [7m    ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [35m[103m-       2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       2[7m118[27m |   [7m [27m[7m const matcher = allMatchers[name];[27m[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [35m[103m- [7m      23 |   setTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m ([0m[1m[41m35.26 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.587 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.718 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.218 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.355 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.917 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.035 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.996 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.95 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.45 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.357 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.278 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.934 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.855 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 5 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m
[1m[33m ‚Ä∫ 21 snapshots obsolete [39m[22mfrom 2 test suites. [2mTo remove them all, re-run jest with `-u`.[22m
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m
       ‚Ä¢ updates existing snapshot: updated snapshot 1
       ‚Ä¢ works fine when function throws error with cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error with string cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error: initial write 1
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m
       ‚Ä¢ basic support: initial write 1
       ‚Ä¢ basic support: snapshot mismatch 1
       ‚Ä¢ basic support: snapshot passed 1
       ‚Ä¢ basic support: snapshot updated 1
       ‚Ä¢ do not indent empty lines: initial write 1
       ‚Ä¢ do not indent empty lines: snapshot passed 1
       ‚Ä¢ handles property matchers: initial write 1
       ‚Ä¢ handles property matchers: snapshot failed 1
       ‚Ä¢ handles property matchers: snapshot passed 1
       ‚Ä¢ handles property matchers: snapshot updated 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier: existing snapshot 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots: existing snapshot 1
       ‚Ä¢ multiple custom matchers and native matchers: multiple matchers 1
       ‚Ä¢ removes obsolete external snapshots: external snapshot cleaned 1
       ‚Ä¢ removes obsolete external snapshots: inline snapshot written 1
       ‚Ä¢ supports custom matchers with property matcher: custom matchers with property matcher 1
       ‚Ä¢ supports custom matchers: custom matchers 1

[1mTest Suites: [22m[1m[31m6 failed[39m[22m, [1m[32m114 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m23 failed[39m[22m, [1m[33m6 skipped[39m[22m, [1m[32m1685 passed[39m[22m, 1714 total
[1mSnapshots:   [22m[1m[31m5 failed[39m[22m, [1m[33m21 obsolete[39m[22m, [1m[32m965 passed[39m[22m, 970 total
[1mTime:[22m        52.084 s
[2mRan all test suites[22m[2m in [22m9[2m projects[22m[2m.[22m
The command has failed after 3 attempts.
.............Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[SKIP] Does not work on jest-circus
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/onlyChanged.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:19:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:31:2)[22m

..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........
/app/e2e/__tests__/circusDeclarationErrors.test.ts

[1m[31m  [1m‚óè [22m[1mdefining tests and hooks asynchronously throws[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `defining tests and hooks asynchronously throws 1`

    [35m[103m- Snapshot  - 27[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -3,59 +3,60 @@[39m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       1[7m0 |[27m[49m[39m
    [36m[107m+       1[7m46 |           break;[27m[49m[39m
    [35m[103m-       1[7m1[27m |   [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m47[27m |   [7m [27m[7m     } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mtest('async definition inside describe', () => {}[27m);[49m[39m
    [36m[107m+     > 1[7m48[27m |     [7m [27m[7m     state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m
    [35m[103m-          |     ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                                 [27m     ^[49m[39m
    [35m[103m-       1[7m3[27m |     [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m49[27m |     [7m      break[27m;[49m[39m
    [35m[103m-       1[7m4[27m |   [7m});[27m[49m[39m
    [36m[107m+       1[7m50[27m |   [7m [27m[7m     }[27m[49m[39m
    [35m[103m-       15 | [7m}[27m);[49m[39m
    [36m[107m+       15[7m1[27m | [7m        const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing[27m);[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:12:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       11 |   [7mPromise.resolve().then(() => {[27m[49m[39m
    [35m[103m-       12 |     test('async definition inside describe', () => {});[49m[39m
    [35m[103m-     > 13 |     afterAll(() => {});[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       11[7m2[27m |   [7m  [27m[7m      break;[27m[49m[39m
    [36m[107m+       113 |         } else if (hasStarted) {[49m[39m
    [36m[107m+     > 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.'));[49m[39m
    [36m[107m+ [7m          |                                [27m     [7m [27m^[49m[39m
    [35m[103m-       1[7m4 |   });[27m[49m[39m
    [35m[103m-       15 | });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m15 |           break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:13:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m4[27m6 |[7m           break;[27m[49m[39m
    [35m[103m-       17 | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m4[27m7 | [7m        } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 18 |   [7mtest('async definition outside describe', () => {});[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 1[7m4[27m8 |   [7m        state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.'));[27m[49m[39m
    [36m[107m+ [7m          |                                   [27m   ^[49m[39m
    [35m[103m-       19 |   [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m4[27m9 |   [7m        break[27m;[49m[39m
    [35m[103m-       [7m2[27m0 | [7m});[27m[49m[39m
    [36m[107m+       [7m15[27m0 | [7m        }[27m[49m[39m
    [35m[103m-       [7m2[27m1 |[49m[39m
    [36m[107m+       [7m15[27m1 |[7m         const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing);[27m[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:18:3)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       1[7m7[27m | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m12[27m | [7m          break;[27m[49m[39m
    [36m[107m+ [7m      113 |         } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m 18 |   test('async definition outside describe', () => {}[27m);[49m[39m
    [36m[107m+     [7m> 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.')[27m);[49m[39m
    [35m[103m-     [7m> 19 |   afterAll(() => {});[27m[49m[39m
    [35m[103m- [7m     [27m    [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       20 | });[49m[39m
    [35m[103m-       21 |[49m[39m
    [36m[107m+     [7m [27m[7m     |                                      ^[27m[49m[39m
    [36m[107m+ [7m      115 |[27m    [7m [27m   [7m   break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:19:3)[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/circusDeclarationErrors.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/customMatcherStackTrace.test.ts

[1m[31m  [1m‚óè [22m[1mworks with custom matchers[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with custom matchers 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [33m@@ -19,6 +19,8 @@[39m
    [2m        at Error (__tests__/sync.test.js:46:13)[22m
    [2m        at baz (__tests__/sync.test.js:43:23)[22m
    [2m        at bar (__tests__/sync.test.js:42:23)[22m
    [2m        at foo (__tests__/sync.test.js:53:7)[22m
    [2m        at Object.callback (__tests__/sync.test.js:11:18)[22m
    [36m[107m+       at __EXTERNAL_MATCHER_TRAP__ (../../packages/expect/build/index.js:2240:22)[49m[39m
    [36m[107m+       at Object.throwingMatcher [as toCustomMatch] (../../packages/expect/build/index.js:2241:6)[49m[39m
    [2m        at Object.toCustomMatch (__tests__/sync.test.js:54:8)[22m
[2m[22m
[2m    [0m [90m 19 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 20 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[22m
[2m     [90m 24 |[39m test([32m'custom async matchers'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/customMatcherStackTrace.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...........................
/app/e2e/__tests__/nonSerializableStructuresInequality.test.ts

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Process exited
[2m[22m
[2m    [0m [90m 34 |[39m   )[33m;[39m[22m
[2m     [90m 35 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 36 |[39m   [36mawait[39m waitUntil(({stderr}) [33m=>[39m stderr[33m.[39mincludes([32m'Ran all test suites.'[39m))[33m;[39m[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 37 |[39m[22m
[2m     [90m 38 |[39m   [36mconst[39m {stderr} [33m=[39m [36mawait[39m end()[33m;[39m[22m
[2m     [90m 39 |[39m[0m[22m
[2m[22m
[2m      [2mat waitUntil ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:36:9)[22m[2m[22m
[2m      [2mat Object.testIn2Workers ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:56:35)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles `Map`[39m[22m

    Process exited
[2m[22m
[2m    [0m [90m 34 |[39m   )[33m;[39m[22m
[2m     [90m 35 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 36 |[39m   [36mawait[39m waitUntil(({stderr}) [33m=>[39m stderr[33m.[39mincludes([32m'Ran all test suites.'[39m))[33m;[39m[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 37 |[39m[22m
[2m     [90m 38 |[39m   [36mconst[39m {stderr} [33m=[39m [36mawait[39m end()[33m;[39m[22m
[2m     [90m 39 |[39m[0m[22m
[2m[22m
[2m      [2mat waitUntil ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:36:9)[22m[2m[22m
[2m      [2mat Object.testIn2Workers ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:72:35)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles `Map`[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles `Map`[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

..


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1monlyChanged.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:19:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:31:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcircusDeclarationErrors.test.ts[22m ([0m[1m[41m9.141 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mdefining tests and hooks asynchronously throws[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `defining tests and hooks asynchronously throws 1`

    [35m[103m- Snapshot  - 27[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -3,59 +3,60 @@[39m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       1[7m0 |[27m[49m[39m
    [36m[107m+       1[7m46 |           break;[27m[49m[39m
    [35m[103m-       1[7m1[27m |   [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m47[27m |   [7m [27m[7m     } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mtest('async definition inside describe', () => {}[27m);[49m[39m
    [36m[107m+     > 1[7m48[27m |     [7m [27m[7m     state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m
    [35m[103m-          |     ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                                 [27m     ^[49m[39m
    [35m[103m-       1[7m3[27m |     [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m49[27m |     [7m      break[27m;[49m[39m
    [35m[103m-       1[7m4[27m |   [7m});[27m[49m[39m
    [36m[107m+       1[7m50[27m |   [7m [27m[7m     }[27m[49m[39m
    [35m[103m-       15 | [7m}[27m);[49m[39m
    [36m[107m+       15[7m1[27m | [7m        const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing[27m);[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:12:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       11 |   [7mPromise.resolve().then(() => {[27m[49m[39m
    [35m[103m-       12 |     test('async definition inside describe', () => {});[49m[39m
    [35m[103m-     > 13 |     afterAll(() => {});[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       11[7m2[27m |   [7m  [27m[7m      break;[27m[49m[39m
    [36m[107m+       113 |         } else if (hasStarted) {[49m[39m
    [36m[107m+     > 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.'));[49m[39m
    [36m[107m+ [7m          |                                [27m     [7m [27m^[49m[39m
    [35m[103m-       1[7m4 |   });[27m[49m[39m
    [35m[103m-       15 | });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m15 |           break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:13:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m4[27m6 |[7m           break;[27m[49m[39m
    [35m[103m-       17 | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m4[27m7 | [7m        } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 18 |   [7mtest('async definition outside describe', () => {});[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 1[7m4[27m8 |   [7m        state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.'));[27m[49m[39m
    [36m[107m+ [7m          |                                   [27m   ^[49m[39m
    [35m[103m-       19 |   [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m4[27m9 |   [7m        break[27m;[49m[39m
    [35m[103m-       [7m2[27m0 | [7m});[27m[49m[39m
    [36m[107m+       [7m15[27m0 | [7m        }[27m[49m[39m
    [35m[103m-       [7m2[27m1 |[49m[39m
    [36m[107m+       [7m15[27m1 |[7m         const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing);[27m[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:18:3)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       1[7m7[27m | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m12[27m | [7m          break;[27m[49m[39m
    [36m[107m+ [7m      113 |         } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m 18 |   test('async definition outside describe', () => {}[27m);[49m[39m
    [36m[107m+     [7m> 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.')[27m);[49m[39m
    [35m[103m-     [7m> 19 |   afterAll(() => {});[27m[49m[39m
    [35m[103m- [7m     [27m    [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       20 | });[49m[39m
    [35m[103m-       21 |[49m[39m
    [36m[107m+     [7m [27m[7m     |                                      ^[27m[49m[39m
    [36m[107m+ [7m      115 |[27m    [7m [27m   [7m   break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:19:3)[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/circusDeclarationErrors.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomMatcherStackTrace.test.ts[22m ([0m[1m[41m10.146 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks with custom matchers[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with custom matchers 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [33m@@ -19,6 +19,8 @@[39m
    [2m        at Error (__tests__/sync.test.js:46:13)[22m
    [2m        at baz (__tests__/sync.test.js:43:23)[22m
    [2m        at bar (__tests__/sync.test.js:42:23)[22m
    [2m        at foo (__tests__/sync.test.js:53:7)[22m
    [2m        at Object.callback (__tests__/sync.test.js:11:18)[22m
    [36m[107m+       at __EXTERNAL_MATCHER_TRAP__ (../../packages/expect/build/index.js:2240:22)[49m[39m
    [36m[107m+       at Object.throwingMatcher [as toCustomMatch] (../../packages/expect/build/index.js:2241:6)[49m[39m
    [2m        at Object.toCustomMatch (__tests__/sync.test.js:54:8)[22m
[2m[22m
[2m    [0m [90m 19 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 20 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[22m
[2m     [90m 24 |[39m test([32m'custom async matchers'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/customMatcherStackTrace.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnonSerializableStructuresInequality.test.ts[22m ([0m[1m[41m41.702 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Process exited
[2m[22m
[2m    [0m [90m 34 |[39m   )[33m;[39m[22m
[2m     [90m 35 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 36 |[39m   [36mawait[39m waitUntil(({stderr}) [33m=>[39m stderr[33m.[39mincludes([32m'Ran all test suites.'[39m))[33m;[39m[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 37 |[39m[22m
[2m     [90m 38 |[39m   [36mconst[39m {stderr} [33m=[39m [36mawait[39m end()[33m;[39m[22m
[2m     [90m 39 |[39m[0m[22m
[2m[22m
[2m      [2mat waitUntil ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:36:9)[22m[2m[22m
[2m      [2mat Object.testIn2Workers ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:56:35)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles `Map`[39m[22m

    Process exited
[2m[22m
[2m    [0m [90m 34 |[39m   )[33m;[39m[22m
[2m     [90m 35 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 36 |[39m   [36mawait[39m waitUntil(({stderr}) [33m=>[39m stderr[33m.[39mincludes([32m'Ran all test suites.'[39m))[33m;[39m[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 37 |[39m[22m
[2m     [90m 38 |[39m   [36mconst[39m {stderr} [33m=[39m [36mawait[39m end()[33m;[39m[22m
[2m     [90m 39 |[39m[0m[22m
[2m[22m
[2m      [2mat waitUntil ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:36:9)[22m[2m[22m
[2m      [2mat Object.testIn2Workers ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:72:35)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles `Map`[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles `Map`[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 2 snapshots failed[39m[22m from 2 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m4 failed[39m[22m, [1m[32m115 passed[39m[22m, 119 total
[1mTests:       [22m[1m[31m4 failed[39m[22m, [1m[33m3 skipped[39m[22m, [1m[32m1090 passed[39m[22m, 1097 total
[1mSnapshots:   [22m[1m[31m2 failed[39m[22m, [1m[32m292 passed[39m[22m, 294 total
[1mTime:[22m        [1m[33m50.161 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Command failed. Attempt 2/3:
.....Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
...............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..............[SKIP] Does not work on jest-circus
.....
/app/e2e/__tests__/onlyChanged.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:19:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:31:2)[22m

........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/circusDeclarationErrors.test.ts

[1m[31m  [1m‚óè [22m[1mdefining tests and hooks asynchronously throws[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `defining tests and hooks asynchronously throws 1`

    [35m[103m- Snapshot  - 27[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -3,59 +3,60 @@[39m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       1[7m0 |[27m[49m[39m
    [36m[107m+       1[7m46 |           break;[27m[49m[39m
    [35m[103m-       1[7m1[27m |   [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m47[27m |   [7m [27m[7m     } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mtest('async definition inside describe', () => {}[27m);[49m[39m
    [36m[107m+     > 1[7m48[27m |     [7m [27m[7m     state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m
    [35m[103m-          |     ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                                 [27m     ^[49m[39m
    [35m[103m-       1[7m3[27m |     [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m49[27m |     [7m      break[27m;[49m[39m
    [35m[103m-       1[7m4[27m |   [7m});[27m[49m[39m
    [36m[107m+       1[7m50[27m |   [7m [27m[7m     }[27m[49m[39m
    [35m[103m-       15 | [7m}[27m);[49m[39m
    [36m[107m+       15[7m1[27m | [7m        const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing[27m);[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:12:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       11 |   [7mPromise.resolve().then(() => {[27m[49m[39m
    [35m[103m-       12 |     test('async definition inside describe', () => {});[49m[39m
    [35m[103m-     > 13 |     afterAll(() => {});[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       11[7m2[27m |   [7m  [27m[7m      break;[27m[49m[39m
    [36m[107m+       113 |         } else if (hasStarted) {[49m[39m
    [36m[107m+     > 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.'));[49m[39m
    [36m[107m+ [7m          |                                [27m     [7m [27m^[49m[39m
    [35m[103m-       1[7m4 |   });[27m[49m[39m
    [35m[103m-       15 | });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m15 |           break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:13:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m4[27m6 |[7m           break;[27m[49m[39m
    [35m[103m-       17 | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m4[27m7 | [7m        } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 18 |   [7mtest('async definition outside describe', () => {});[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 1[7m4[27m8 |   [7m        state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.'));[27m[49m[39m
    [36m[107m+ [7m          |                                   [27m   ^[49m[39m
    [35m[103m-       19 |   [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m4[27m9 |   [7m        break[27m;[49m[39m
    [35m[103m-       [7m2[27m0 | [7m});[27m[49m[39m
    [36m[107m+       [7m15[27m0 | [7m        }[27m[49m[39m
    [35m[103m-       [7m2[27m1 |[49m[39m
    [36m[107m+       [7m15[27m1 |[7m         const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing);[27m[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:18:3)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       1[7m7[27m | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m12[27m | [7m          break;[27m[49m[39m
    [36m[107m+ [7m      113 |         } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m 18 |   test('async definition outside describe', () => {}[27m);[49m[39m
    [36m[107m+     [7m> 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.')[27m);[49m[39m
    [35m[103m-     [7m> 19 |   afterAll(() => {});[27m[49m[39m
    [35m[103m- [7m     [27m    [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       20 | });[49m[39m
    [35m[103m-       21 |[49m[39m
    [36m[107m+     [7m [27m[7m     |                                      ^[27m[49m[39m
    [36m[107m+ [7m      115 |[27m    [7m [27m   [7m   break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:19:3)[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/circusDeclarationErrors.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...
/app/e2e/__tests__/customMatcherStackTrace.test.ts

[1m[31m  [1m‚óè [22m[1mworks with custom matchers[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with custom matchers 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [33m@@ -19,6 +19,8 @@[39m
    [2m        at Error (__tests__/sync.test.js:46:13)[22m
    [2m        at baz (__tests__/sync.test.js:43:23)[22m
    [2m        at bar (__tests__/sync.test.js:42:23)[22m
    [2m        at foo (__tests__/sync.test.js:53:7)[22m
    [2m        at Object.callback (__tests__/sync.test.js:11:18)[22m
    [36m[107m+       at __EXTERNAL_MATCHER_TRAP__ (../../packages/expect/build/index.js:2240:22)[49m[39m
    [36m[107m+       at Object.throwingMatcher [as toCustomMatch] (../../packages/expect/build/index.js:2241:6)[49m[39m
    [2m        at Object.toCustomMatch (__tests__/sync.test.js:54:8)[22m
[2m[22m
[2m    [0m [90m 19 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 20 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[22m
[2m     [90m 24 |[39m test([32m'custom async matchers'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/customMatcherStackTrace.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....................
/app/e2e/__tests__/nonSerializableStructuresInequality.test.ts

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Process exited
[2m[22m
[2m    [0m [90m 34 |[39m   )[33m;[39m[22m
[2m     [90m 35 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 36 |[39m   [36mawait[39m waitUntil(({stderr}) [33m=>[39m stderr[33m.[39mincludes([32m'Ran all test suites.'[39m))[33m;[39m[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 37 |[39m[22m
[2m     [90m 38 |[39m   [36mconst[39m {stderr} [33m=[39m [36mawait[39m end()[33m;[39m[22m
[2m     [90m 39 |[39m[0m[22m
[2m[22m
[2m      [2mat waitUntil ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:36:9)[22m[2m[22m
[2m      [2mat Object.testIn2Workers ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:56:35)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1monlyChanged.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:19:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:31:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcircusDeclarationErrors.test.ts[22m
[1m[31m  [1m‚óè [22m[1mdefining tests and hooks asynchronously throws[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `defining tests and hooks asynchronously throws 1`

    [35m[103m- Snapshot  - 27[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -3,59 +3,60 @@[39m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       1[7m0 |[27m[49m[39m
    [36m[107m+       1[7m46 |           break;[27m[49m[39m
    [35m[103m-       1[7m1[27m |   [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m47[27m |   [7m [27m[7m     } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mtest('async definition inside describe', () => {}[27m);[49m[39m
    [36m[107m+     > 1[7m48[27m |     [7m [27m[7m     state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m
    [35m[103m-          |     ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                                 [27m     ^[49m[39m
    [35m[103m-       1[7m3[27m |     [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m49[27m |     [7m      break[27m;[49m[39m
    [35m[103m-       1[7m4[27m |   [7m});[27m[49m[39m
    [36m[107m+       1[7m50[27m |   [7m [27m[7m     }[27m[49m[39m
    [35m[103m-       15 | [7m}[27m);[49m[39m
    [36m[107m+       15[7m1[27m | [7m        const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing[27m);[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:12:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       11 |   [7mPromise.resolve().then(() => {[27m[49m[39m
    [35m[103m-       12 |     test('async definition inside describe', () => {});[49m[39m
    [35m[103m-     > 13 |     afterAll(() => {});[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       11[7m2[27m |   [7m  [27m[7m      break;[27m[49m[39m
    [36m[107m+       113 |         } else if (hasStarted) {[49m[39m
    [36m[107m+     > 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.'));[49m[39m
    [36m[107m+ [7m          |                                [27m     [7m [27m^[49m[39m
    [35m[103m-       1[7m4 |   });[27m[49m[39m
    [35m[103m-       15 | });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m15 |           break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:13:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m4[27m6 |[7m           break;[27m[49m[39m
    [35m[103m-       17 | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m4[27m7 | [7m        } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 18 |   [7mtest('async definition outside describe', () => {});[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 1[7m4[27m8 |   [7m        state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.'));[27m[49m[39m
    [36m[107m+ [7m          |                                   [27m   ^[49m[39m
    [35m[103m-       19 |   [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m4[27m9 |   [7m        break[27m;[49m[39m
    [35m[103m-       [7m2[27m0 | [7m});[27m[49m[39m
    [36m[107m+       [7m15[27m0 | [7m        }[27m[49m[39m
    [35m[103m-       [7m2[27m1 |[49m[39m
    [36m[107m+       [7m15[27m1 |[7m         const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing);[27m[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:18:3)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       1[7m7[27m | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m12[27m | [7m          break;[27m[49m[39m
    [36m[107m+ [7m      113 |         } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m 18 |   test('async definition outside describe', () => {}[27m);[49m[39m
    [36m[107m+     [7m> 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.')[27m);[49m[39m
    [35m[103m-     [7m> 19 |   afterAll(() => {});[27m[49m[39m
    [35m[103m- [7m     [27m    [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       20 | });[49m[39m
    [35m[103m-       21 |[49m[39m
    [36m[107m+     [7m [27m[7m     |                                      ^[27m[49m[39m
    [36m[107m+ [7m      115 |[27m    [7m [27m   [7m   break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:19:3)[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/circusDeclarationErrors.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomMatcherStackTrace.test.ts[22m ([0m[1m[41m7.329 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks with custom matchers[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with custom matchers 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [33m@@ -19,6 +19,8 @@[39m
    [2m        at Error (__tests__/sync.test.js:46:13)[22m
    [2m        at baz (__tests__/sync.test.js:43:23)[22m
    [2m        at bar (__tests__/sync.test.js:42:23)[22m
    [2m        at foo (__tests__/sync.test.js:53:7)[22m
    [2m        at Object.callback (__tests__/sync.test.js:11:18)[22m
    [36m[107m+       at __EXTERNAL_MATCHER_TRAP__ (../../packages/expect/build/index.js:2240:22)[49m[39m
    [36m[107m+       at Object.throwingMatcher [as toCustomMatch] (../../packages/expect/build/index.js:2241:6)[49m[39m
    [2m        at Object.toCustomMatch (__tests__/sync.test.js:54:8)[22m
[2m[22m
[2m    [0m [90m 19 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 20 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[22m
[2m     [90m 24 |[39m test([32m'custom async matchers'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/customMatcherStackTrace.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnonSerializableStructuresInequality.test.ts[22m ([0m[1m[41m36.415 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Process exited
[2m[22m
[2m    [0m [90m 34 |[39m   )[33m;[39m[22m
[2m     [90m 35 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 36 |[39m   [36mawait[39m waitUntil(({stderr}) [33m=>[39m stderr[33m.[39mincludes([32m'Ran all test suites.'[39m))[33m;[39m[22m
[2m     [90m    |[39m         [31m[1m^[22m[2m[39m[22m
[2m     [90m 37 |[39m[22m
[2m     [90m 38 |[39m   [36mconst[39m {stderr} [33m=[39m [36mawait[39m end()[33m;[39m[22m
[2m     [90m 39 |[39m[0m[22m
[2m[22m
[2m      [2mat waitUntil ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:36:9)[22m[2m[22m
[2m      [2mat Object.testIn2Workers ([22m[2m[0m[36me2e/__tests__/nonSerializableStructuresInequality.test.ts[39m[0m[2m:56:35)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprocessChild ‚Ä∫ handles circular inequality properly[39m[22m

    Timed out
[2m[22m
[2m      [2mat timeoutKill ([22m[2mnode_modules/execa/lib/kill.js[2m:65:23)[22m[2m[22m
[2m      [2mat Timeout.<anonymous> ([22m[2mnode_modules/execa/lib/kill.js[2m:77:4)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 2 snapshots failed[39m[22m from 2 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m4 failed[39m[22m, [1m[32m115 passed[39m[22m, 119 total
[1mTests:       [22m[1m[31m3 failed[39m[22m, [1m[33m3 skipped[39m[22m, [1m[32m1091 passed[39m[22m, 1097 total
[1mSnapshots:   [22m[1m[31m2 failed[39m[22m, [1m[32m294 passed[39m[22m, 296 total
[1mTime:[22m        41.738 s, estimated 48 s
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Command failed. Attempt 3/3:
....Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
.................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....[SKIP] Does not work on jest-circus
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
Unable to get back timeout of Jest, falling back onto Jest for global timeout handling
......
/app/e2e/__tests__/circusDeclarationErrors.test.ts

[1m[31m  [1m‚óè [22m[1mdefining tests and hooks asynchronously throws[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `defining tests and hooks asynchronously throws 1`

    [35m[103m- Snapshot  - 27[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -3,59 +3,60 @@[39m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       1[7m0 |[27m[49m[39m
    [36m[107m+       1[7m46 |           break;[27m[49m[39m
    [35m[103m-       1[7m1[27m |   [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m47[27m |   [7m [27m[7m     } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mtest('async definition inside describe', () => {}[27m);[49m[39m
    [36m[107m+     > 1[7m48[27m |     [7m [27m[7m     state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m
    [35m[103m-          |     ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                                 [27m     ^[49m[39m
    [35m[103m-       1[7m3[27m |     [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m49[27m |     [7m      break[27m;[49m[39m
    [35m[103m-       1[7m4[27m |   [7m});[27m[49m[39m
    [36m[107m+       1[7m50[27m |   [7m [27m[7m     }[27m[49m[39m
    [35m[103m-       15 | [7m}[27m);[49m[39m
    [36m[107m+       15[7m1[27m | [7m        const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing[27m);[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:12:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       11 |   [7mPromise.resolve().then(() => {[27m[49m[39m
    [35m[103m-       12 |     test('async definition inside describe', () => {});[49m[39m
    [35m[103m-     > 13 |     afterAll(() => {});[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       11[7m2[27m |   [7m  [27m[7m      break;[27m[49m[39m
    [36m[107m+       113 |         } else if (hasStarted) {[49m[39m
    [36m[107m+     > 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.'));[49m[39m
    [36m[107m+ [7m          |                                [27m     [7m [27m^[49m[39m
    [35m[103m-       1[7m4 |   });[27m[49m[39m
    [35m[103m-       15 | });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m15 |           break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:13:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m4[27m6 |[7m           break;[27m[49m[39m
    [35m[103m-       17 | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m4[27m7 | [7m        } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 18 |   [7mtest('async definition outside describe', () => {});[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 1[7m4[27m8 |   [7m        state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.'));[27m[49m[39m
    [36m[107m+ [7m          |                                   [27m   ^[49m[39m
    [35m[103m-       19 |   [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m4[27m9 |   [7m        break[27m;[49m[39m
    [35m[103m-       [7m2[27m0 | [7m});[27m[49m[39m
    [36m[107m+       [7m15[27m0 | [7m        }[27m[49m[39m
    [35m[103m-       [7m2[27m1 |[49m[39m
    [36m[107m+       [7m15[27m1 |[7m         const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing);[27m[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:18:3)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       1[7m7[27m | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m12[27m | [7m          break;[27m[49m[39m
    [36m[107m+ [7m      113 |         } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m 18 |   test('async definition outside describe', () => {}[27m);[49m[39m
    [36m[107m+     [7m> 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.')[27m);[49m[39m
    [35m[103m-     [7m> 19 |   afterAll(() => {});[27m[49m[39m
    [35m[103m- [7m     [27m    [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       20 | });[49m[39m
    [35m[103m-       21 |[49m[39m
    [36m[107m+     [7m [27m[7m     |                                      ^[27m[49m[39m
    [36m[107m+ [7m      115 |[27m    [7m [27m   [7m   break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:19:3)[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/circusDeclarationErrors.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............................
/app/e2e/__tests__/onlyChanged.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:19:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:31:2)[22m

...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/customMatcherStackTrace.test.ts

[1m[31m  [1m‚óè [22m[1mworks with custom matchers[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with custom matchers 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [33m@@ -19,6 +19,8 @@[39m
    [2m        at Error (__tests__/sync.test.js:46:13)[22m
    [2m        at baz (__tests__/sync.test.js:43:23)[22m
    [2m        at bar (__tests__/sync.test.js:42:23)[22m
    [2m        at foo (__tests__/sync.test.js:53:7)[22m
    [2m        at Object.callback (__tests__/sync.test.js:11:18)[22m
    [36m[107m+       at __EXTERNAL_MATCHER_TRAP__ (../../packages/expect/build/index.js:2240:22)[49m[39m
    [36m[107m+       at Object.throwingMatcher [as toCustomMatch] (../../packages/expect/build/index.js:2241:6)[49m[39m
    [2m        at Object.toCustomMatch (__tests__/sync.test.js:54:8)[22m
[2m[22m
[2m    [0m [90m 19 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 20 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[22m
[2m     [90m 24 |[39m test([32m'custom async matchers'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/customMatcherStackTrace.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........................


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcircusDeclarationErrors.test.ts[22m
[1m[31m  [1m‚óè [22m[1mdefining tests and hooks asynchronously throws[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `defining tests and hooks asynchronously throws 1`

    [35m[103m- Snapshot  - 27[49m[39m
    [36m[107m+ Received  + 28[49m[39m

    [33m@@ -3,59 +3,60 @@[39m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       1[7m0 |[27m[49m[39m
    [36m[107m+       1[7m46 |           break;[27m[49m[39m
    [35m[103m-       1[7m1[27m |   [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m47[27m |   [7m [27m[7m     } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mtest('async definition inside describe', () => {}[27m);[49m[39m
    [36m[107m+     > 1[7m48[27m |     [7m [27m[7m     state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.')[27m);[49m[39m
    [35m[103m-          |     ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                                 [27m     ^[49m[39m
    [35m[103m-       1[7m3[27m |     [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m49[27m |     [7m      break[27m;[49m[39m
    [35m[103m-       1[7m4[27m |   [7m});[27m[49m[39m
    [36m[107m+       1[7m50[27m |   [7m [27m[7m     }[27m[49m[39m
    [35m[103m-       15 | [7m}[27m);[49m[39m
    [36m[107m+       15[7m1[27m | [7m        const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing[27m);[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:12:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       11 |   [7mPromise.resolve().then(() => {[27m[49m[39m
    [35m[103m-       12 |     test('async definition inside describe', () => {});[49m[39m
    [35m[103m-     > 13 |     afterAll(() => {});[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       11[7m2[27m |   [7m  [27m[7m      break;[27m[49m[39m
    [36m[107m+       113 |         } else if (hasStarted) {[49m[39m
    [36m[107m+     > 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.'));[49m[39m
    [36m[107m+ [7m          |                                [27m     [7m [27m^[49m[39m
    [35m[103m-       1[7m4 |   });[27m[49m[39m
    [35m[103m-       15 | });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m15 |           break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:13:5)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a test after tests have started running. Tests must be defined synchronously.[22m

    [35m[103m-       16 |[49m[39m
    [36m[107m+       1[7m4[27m6 |[7m           break;[27m[49m[39m
    [35m[103m-       17 | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m4[27m7 | [7m        } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     > 18 |   [7mtest('async definition outside describe', () => {});[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 1[7m4[27m8 |   [7m        state.unhandledErrors.push(new Error('Cannot add a test after tests have started running. Tests must be defined synchronously.'));[27m[49m[39m
    [36m[107m+ [7m          |                                   [27m   ^[49m[39m
    [35m[103m-       19 |   [7mafterAll(() => {})[27m;[49m[39m
    [36m[107m+       1[7m4[27m9 |   [7m        break[27m;[49m[39m
    [35m[103m-       [7m2[27m0 | [7m});[27m[49m[39m
    [36m[107m+       [7m15[27m0 | [7m        }[27m[49m[39m
    [35m[103m-       [7m2[27m1 |[49m[39m
    [36m[107m+       [7m15[27m1 |[7m         const test = (0, _utils.makeTest)(fn, mode, concurrent, name, currentDescribeBlock, timeout, asyncError, failing);[27m[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:148:38)[22m
    [2m        at test (__tests__/asyncDefinition.test.js:18:3)[22m

    [2m    ‚óè Test suite failed to run[22m

    [2m      Cannot add a hook after tests have started running. Hooks must be defined synchronously.[22m

    [35m[103m-       1[7m7[27m | [7mPromise.resolve().then(() =>[27m {[49m[39m
    [36m[107m+       1[7m12[27m | [7m          break;[27m[49m[39m
    [36m[107m+ [7m      113 |         } else if (hasStarted)[27m {[49m[39m
    [35m[103m-     [7m [27m[7m 18 |   test('async definition outside describe', () => {}[27m);[49m[39m
    [36m[107m+     [7m> 114 |           state.unhandledErrors.push(new Error('Cannot add a hook after tests have started running. Hooks must be defined synchronously.')[27m);[49m[39m
    [35m[103m-     [7m> 19 |   afterAll(() => {});[27m[49m[39m
    [35m[103m- [7m     [27m    [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       20 | });[49m[39m
    [35m[103m-       21 |[49m[39m
    [36m[107m+     [7m [27m[7m     |                                      ^[27m[49m[39m
    [36m[107m+ [7m      115 |[27m    [7m [27m   [7m   break;[27m[49m[39m
    [36m[107m+       116 |         }[49m[39m
    [36m[107m+       117 |         const parent = currentDescribeBlock;[49m[39m

    [2m        at eventHandler (../../packages/jest-circus/build/jestAdapterInit.js:114:38)[22m
    [2m        at afterAll (__tests__/asyncDefinition.test.js:19:3)[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/circusDeclarationErrors.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1monlyChanged.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:19:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:31:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mcustomMatcherStackTrace.test.ts[22m ([0m[1m[41m6.524 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks with custom matchers[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with custom matchers 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [33m@@ -19,6 +19,8 @@[39m
    [2m        at Error (__tests__/sync.test.js:46:13)[22m
    [2m        at baz (__tests__/sync.test.js:43:23)[22m
    [2m        at bar (__tests__/sync.test.js:42:23)[22m
    [2m        at foo (__tests__/sync.test.js:53:7)[22m
    [2m        at Object.callback (__tests__/sync.test.js:11:18)[22m
    [36m[107m+       at __EXTERNAL_MATCHER_TRAP__ (../../packages/expect/build/index.js:2240:22)[49m[39m
    [36m[107m+       at Object.throwingMatcher [as toCustomMatch] (../../packages/expect/build/index.js:2241:6)[49m[39m
    [2m        at Object.toCustomMatch (__tests__/sync.test.js:54:8)[22m
[2m[22m
[2m    [0m [90m 19 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 20 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[22m
[2m     [90m 24 |[39m test([32m'custom async matchers'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/customMatcherStackTrace.test.ts[39m[0m[2m:21:16)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 2 snapshots failed[39m[22m from 2 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m3 failed[39m[22m, [1m[32m116 passed[39m[22m, 119 total
[1mTests:       [22m[1m[31m2 failed[39m[22m, [1m[33m3 skipped[39m[22m, [1m[32m1092 passed[39m[22m, 1097 total
[1mSnapshots:   [22m[1m[31m2 failed[39m[22m, [1m[32m296 passed[39m[22m, 298 total
[1mTime:[22m        [1m[33m42.012 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
The command has failed after 3 attempts.
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
....................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...................
/app/e2e/__tests__/requireMissingExt.test.ts

[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..........Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
.............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/nestedTestDefinitions.test.ts

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m13 |   expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [35m[103m-       1[7m4[27m |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       [7m84[27m1 |[7m [27m    [7m    if (currentSpec !== null)[27m {[49m[39m
    [35m[103m-     [7m  [27m[7m  [27m |   [7m^[27m[49m[39m
    [35m[103m-       [7m16 |     expect(getTruthy()).toBe('This test should not have run');[27m[49m[39m
    [35m[103m-       17 |   });[49m[39m
    [35m[103m- [7m      18 | })[27m;[49m[39m
    [36m[107m+     [7m> 842[27m |         [7m  throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[27m[49m[39m
    [36m[107m+           |                 ^[49m[39m
    [36m[107m+       843 |         }[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m14 |     expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m-     > 16 |     test('inner test', () => {[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [36m[107m+       841 |         if (currentSpec !== null) {[49m[39m
    [36m[107m+     > 842 |           throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[49m[39m
    [36m[107m+ [7m          |           [27m     [7m [27m^[49m[39m
    [35m[103m-       [7m17 |       expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       18 |     });[49m[39m
    [35m[103m- [7m      19 |   })[27m;[49m[39m
    [36m[107m+       [7m843 |         }[27m[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
..
/app/e2e/__tests__/expectAsyncMatcher.test.ts

[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/testFailingJasmine.test.ts

[1m[31m  [1m‚óè [22m[1mthrows an error about unsupported modifier[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `throws an error about unsupported modifier 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -33,17 +33,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.failing('.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m               [7m  ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m                 [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |    [7m expect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |    [7m [27m[7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentMode.test.js:13:17)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentMode.test.js:8:1)[22m

    [33m@@ -67,17 +67,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.only.failing('.only.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m              [7m        ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m        [7m [27m        [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |     [7mexpect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |     [7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentOnlyMode.test.js:13:22)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentOnlyMode.test.js:8:1)[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 19 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSortedSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/testFailingJasmine.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts

[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.865 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

....
/app/e2e/__tests__/moduleNameMapper.test.ts

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
......


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireMissingExt.test.ts[22m ([0m[1m[41m8.982 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnestedTestDefinitions.test.ts[22m ([0m[1m[41m12.101 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m13 |   expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [35m[103m-       1[7m4[27m |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       [7m84[27m1 |[7m [27m    [7m    if (currentSpec !== null)[27m {[49m[39m
    [35m[103m-     [7m  [27m[7m  [27m |   [7m^[27m[49m[39m
    [35m[103m-       [7m16 |     expect(getTruthy()).toBe('This test should not have run');[27m[49m[39m
    [35m[103m-       17 |   });[49m[39m
    [35m[103m- [7m      18 | })[27m;[49m[39m
    [36m[107m+     [7m> 842[27m |         [7m  throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[27m[49m[39m
    [36m[107m+           |                 ^[49m[39m
    [36m[107m+       843 |         }[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m14 |     expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m-     > 16 |     test('inner test', () => {[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [36m[107m+       841 |         if (currentSpec !== null) {[49m[39m
    [36m[107m+     > 842 |           throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[49m[39m
    [36m[107m+ [7m          |           [27m     [7m [27m^[49m[39m
    [35m[103m-       [7m17 |       expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       18 |     });[49m[39m
    [35m[103m- [7m      19 |   })[27m;[49m[39m
    [36m[107m+       [7m843 |         }[27m[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mexpectAsyncMatcher.test.ts[22m ([0m[1m[41m12.634 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtestFailingJasmine.test.ts[22m ([0m[1m[41m6.446 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mthrows an error about unsupported modifier[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `throws an error about unsupported modifier 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -33,17 +33,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.failing('.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m               [7m  ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m                 [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |    [7m expect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |    [7m [27m[7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentMode.test.js:13:17)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentMode.test.js:8:1)[22m

    [33m@@ -67,17 +67,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.only.failing('.only.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m              [7m        ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m        [7m [27m        [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |     [7mexpect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |     [7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentOnlyMode.test.js:13:22)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentOnlyMode.test.js:8:1)[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 19 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSortedSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/testFailingJasmine.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchSnapshotWithStringSerializer.test.ts[22m ([0m[1m[41m15.727 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.865 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mmoduleNameMapper.test.ts[22m ([0m[1m[41m17.398 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 7 snapshots failed[39m[22m from 5 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m6 failed[39m[22m, [1m[32m114 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m8 failed[39m[22m, [1m[33m8 skipped[39m[22m, [1m[32m1220 passed[39m[22m, 1236 total
[1mSnapshots:   [22m[1m[31m7 failed[39m[22m, [1m[32m284 passed[39m[22m, 291 total
[1mTime:[22m        [1m[33m73.019 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Command failed. Attempt 2/3:
.................................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/testFailingJasmine.test.ts

[1m[31m  [1m‚óè [22m[1mthrows an error about unsupported modifier[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `throws an error about unsupported modifier 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -33,17 +33,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.failing('.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m               [7m  ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m                 [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |    [7m expect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |    [7m [27m[7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentMode.test.js:13:17)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentMode.test.js:8:1)[22m

    [33m@@ -67,17 +67,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.only.failing('.only.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m              [7m        ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m        [7m [27m        [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |     [7mexpect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |     [7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentOnlyMode.test.js:13:22)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentOnlyMode.test.js:8:1)[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 19 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSortedSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/testFailingJasmine.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[SKIP] Does not work on Jasmine
..[SKIP] Does not work on Jasmine
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
.........
/app/e2e/__tests__/requireMissingExt.test.ts

[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....
/app/e2e/__tests__/nestedTestDefinitions.test.ts

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m13 |   expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [35m[103m-       1[7m4[27m |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       [7m84[27m1 |[7m [27m    [7m    if (currentSpec !== null)[27m {[49m[39m
    [35m[103m-     [7m  [27m[7m  [27m |   [7m^[27m[49m[39m
    [35m[103m-       [7m16 |     expect(getTruthy()).toBe('This test should not have run');[27m[49m[39m
    [35m[103m-       17 |   });[49m[39m
    [35m[103m- [7m      18 | })[27m;[49m[39m
    [36m[107m+     [7m> 842[27m |         [7m  throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[27m[49m[39m
    [36m[107m+           |                 ^[49m[39m
    [36m[107m+       843 |         }[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m14 |     expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m-     > 16 |     test('inner test', () => {[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [36m[107m+       841 |         if (currentSpec !== null) {[49m[39m
    [36m[107m+     > 842 |           throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[49m[39m
    [36m[107m+ [7m          |           [27m     [7m [27m^[49m[39m
    [35m[103m-       [7m17 |       expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       18 |     });[49m[39m
    [35m[103m- [7m      19 |   })[27m;[49m[39m
    [36m[107m+       [7m843 |         }[27m[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.
/app/e2e/__tests__/expectAsyncMatcher.test.ts

[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.....
/app/e2e/__tests__/moduleNameMapper.test.ts

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
..
/app/e2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts

[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.958 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

.........


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtestFailingJasmine.test.ts[22m ([0m[1m[41m5.752 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mthrows an error about unsupported modifier[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `throws an error about unsupported modifier 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -33,17 +33,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.failing('.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m               [7m  ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m                 [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |    [7m expect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |    [7m [27m[7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentMode.test.js:13:17)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentMode.test.js:8:1)[22m

    [33m@@ -67,17 +67,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.only.failing('.only.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m              [7m        ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m        [7m [27m        [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |     [7mexpect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |     [7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentOnlyMode.test.js:13:22)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentOnlyMode.test.js:8:1)[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 19 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSortedSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/testFailingJasmine.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireMissingExt.test.ts[22m ([0m[1m[41m8.272 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnestedTestDefinitions.test.ts[22m ([0m[1m[41m8.762 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m13 |   expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [35m[103m-       1[7m4[27m |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       [7m84[27m1 |[7m [27m    [7m    if (currentSpec !== null)[27m {[49m[39m
    [35m[103m-     [7m  [27m[7m  [27m |   [7m^[27m[49m[39m
    [35m[103m-       [7m16 |     expect(getTruthy()).toBe('This test should not have run');[27m[49m[39m
    [35m[103m-       17 |   });[49m[39m
    [35m[103m- [7m      18 | })[27m;[49m[39m
    [36m[107m+     [7m> 842[27m |         [7m  throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[27m[49m[39m
    [36m[107m+           |                 ^[49m[39m
    [36m[107m+       843 |         }[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m14 |     expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m-     > 16 |     test('inner test', () => {[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [36m[107m+       841 |         if (currentSpec !== null) {[49m[39m
    [36m[107m+     > 842 |           throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[49m[39m
    [36m[107m+ [7m          |           [27m     [7m [27m^[49m[39m
    [35m[103m-       [7m17 |       expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       18 |     });[49m[39m
    [35m[103m- [7m      19 |   })[27m;[49m[39m
    [36m[107m+       [7m843 |         }[27m[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mexpectAsyncMatcher.test.ts[22m ([0m[1m[41m10.324 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mmoduleNameMapper.test.ts[22m ([0m[1m[41m12.625 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchSnapshotWithStringSerializer.test.ts[22m ([0m[1m[41m12.633 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.958 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 7 snapshots failed[39m[22m from 5 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m6 failed[39m[22m, [1m[32m114 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m8 failed[39m[22m, [1m[33m8 skipped[39m[22m, [1m[32m1220 passed[39m[22m, 1236 total
[1mSnapshots:   [22m[1m[31m7 failed[39m[22m, [1m[32m284 passed[39m[22m, 291 total
[1mTime:[22m        68.746 s, estimated 70 s
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
Command failed. Attempt 3/3:
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[SKIP] Does not work on Jasmine
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.................[SKIP] Does not work on Jasmine
..........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....
/app/e2e/__tests__/testFailingJasmine.test.ts

[1m[31m  [1m‚óè [22m[1mthrows an error about unsupported modifier[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `throws an error about unsupported modifier 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -33,17 +33,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.failing('.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m               [7m  ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m                 [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |    [7m expect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |    [7m [27m[7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentMode.test.js:13:17)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentMode.test.js:8:1)[22m

    [33m@@ -67,17 +67,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.only.failing('.only.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m              [7m        ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m        [7m [27m        [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |     [7mexpect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |     [7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentOnlyMode.test.js:13:22)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentOnlyMode.test.js:8:1)[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 19 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSortedSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/testFailingJasmine.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.....
/app/e2e/__tests__/requireMissingExt.test.ts

[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....
/app/e2e/__tests__/nestedTestDefinitions.test.ts

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m13 |   expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [35m[103m-       1[7m4[27m |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       [7m84[27m1 |[7m [27m    [7m    if (currentSpec !== null)[27m {[49m[39m
    [35m[103m-     [7m  [27m[7m  [27m |   [7m^[27m[49m[39m
    [35m[103m-       [7m16 |     expect(getTruthy()).toBe('This test should not have run');[27m[49m[39m
    [35m[103m-       17 |   });[49m[39m
    [35m[103m- [7m      18 | })[27m;[49m[39m
    [36m[107m+     [7m> 842[27m |         [7m  throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[27m[49m[39m
    [36m[107m+           |                 ^[49m[39m
    [36m[107m+       843 |         }[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m14 |     expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m-     > 16 |     test('inner test', () => {[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [36m[107m+       841 |         if (currentSpec !== null) {[49m[39m
    [36m[107m+     > 842 |           throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[49m[39m
    [36m[107m+ [7m          |           [27m     [7m [27m^[49m[39m
    [35m[103m-       [7m17 |       expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       18 |     });[49m[39m
    [35m[103m- [7m      19 |   })[27m;[49m[39m
    [36m[107m+       [7m843 |         }[27m[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
........
/app/e2e/__tests__/expectAsyncMatcher.test.ts

[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....
/app/e2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts

[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.952 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

..
/app/e2e/__tests__/moduleNameMapper.test.ts

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.........


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtestFailingJasmine.test.ts[22m ([0m[1m[41m6.4 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mthrows an error about unsupported modifier[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `throws an error about unsupported modifier 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -33,17 +33,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.failing('.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m               [7m  ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m                 [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |    [7m expect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |    [7m [27m[7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentMode.test.js:13:17)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentMode.test.js:8:1)[22m

    [33m@@ -67,17 +67,17 @@[39m

    [2m    ‚óè block with concurrent ‚Ä∫ encountered a declaration exception[22m

    [2m      Jest: `failing` tests are only supported in `jest-circus`.[22m

    [35m[103m-       [7m11 |   });[27m[49m[39m
    [35m[103m-       12 |[49m[39m
    [35m[103m-     > 13 |   it.concurrent.only.failing('.only.failing() should fail', () => {[49m[39m
    [35m[103m- [7m [27m        [7m|[27m              [7m        ^[27m[49m[39m
    [36m[107m+       [7m309 |       promise = Promise.reject(error);[27m[49m[39m
    [36m[107m+       310 |     }[49m[39m
    [36m[107m+     > 311 |     // Avoid triggering the uncaught promise rejection handler in case the test errors before[49m[39m
    [36m[107m+ [7m          |[27m        [7m [27m        [7m^[27m[49m[39m
    [36m[107m+       [7m312 |     // being awaited on.[27m[49m[39m
    [35m[103m-       [7m14[27m |     [7mexpect(10).toBe(10);[27m[49m[39m
    [35m[103m-       15 |   });[49m[39m
    [35m[103m-       16 |[49m[39m
    [36m[107m+       [7m313[27m |     [7m// eslint-disable-next-line @typescript-eslint/no-empty-function[27m[49m[39m
    [36m[107m+       314 |     promise.catch(() => {});[49m[39m

    [2m        at Function.failing (../../packages/jest-jasmine2/build/index.js:311:17)[22m
    [2m        at Suite.failing (__tests__/worksWithConcurrentOnlyMode.test.js:13:22)[22m
    [2m        at Object.describe (__tests__/worksWithConcurrentOnlyMode.test.js:8:1)[22m
    [2m  ‚Üµ[22m
[2m[22m
[2m    [0m [90m 19 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSortedSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 21 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 22 |[39m })[33m;[39m[22m
[2m     [90m 23 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/testFailingJasmine.test.ts[39m[0m[2m:21:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mrequireMissingExt.test.ts[22m ([0m[1m[41m7.401 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows a proper error from deep requires[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows a proper error from deep requires 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,16 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m 8 | 'use strict[27m';[49m[39m
    [36m[107m+       [7m861 |   _throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+ [7m      862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.[27m';[49m[39m
    [35m[103m-     [7m   9[27m |[49m[39m
    [35m[103m-     [7m> 10 | require('discord.js'[27m);[49m[39m
    [36m[107m+     [7m> 863[27m |    [7m throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-          | [7m^[27m[49m[39m
    [35m[103m-       11 |[49m[39m
    [35m[103m- [7m      12 | test('dummy', () =>[27m {[49m[39m
    [36m[107m+ [7m [27m         | [7m          ^[27m[49m[39m
    [36m[107m+       864 |   }[49m[39m
    [36m[107m+ [7m      865 |   _getMapModuleName(matches)[27m {[49m[39m
    [35m[103m-       [7m13[27m |   [7mexpect(1).toBe(1)[27m;[49m[39m
    [36m[107m+       [7m866[27m |   [7m [27m[7m return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName[27m;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.<anonymous> (node_modules/discord.js/src/index.js:21:12)[22m
    [2m        at Object.require (__tests__/test.js:10:1)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m   [36mconst[39m {rest} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 21 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/requireMissingExt.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnestedTestDefinitions.test.ts[22m ([0m[1m[41m9.066 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions outside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions outside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -3,14 +3,14 @@[39m

    [2m    ‚óè outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m13 |   expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [35m[103m-       1[7m4[27m |[49m[39m
    [35m[103m-     [7m> 15 |   test('inner test', () =>[27m {[49m[39m
    [36m[107m+       [7m84[27m1 |[7m [27m    [7m    if (currentSpec !== null)[27m {[49m[39m
    [35m[103m-     [7m  [27m[7m  [27m |   [7m^[27m[49m[39m
    [35m[103m-       [7m16 |     expect(getTruthy()).toBe('This test should not have run');[27m[49m[39m
    [35m[103m-       17 |   });[49m[39m
    [35m[103m- [7m      18 | })[27m;[49m[39m
    [36m[107m+     [7m> 842[27m |         [7m  throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[27m[49m[39m
    [36m[107m+           |                 ^[49m[39m
    [36m[107m+       843 |         }[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestOutsideDescribe.js:15:3)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 28 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m test([32m'print correct error message with nested test definitions inside describe'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:29:44)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mprint correct error message with nested test definitions inside describe[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `print correct error message with nested test definitions inside describe 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -4,14 +4,14 @@[39m

    [2m    ‚óè in describe ‚Ä∫ outer test[22m

    [2m      Tests cannot be nested. Test "inner test" cannot run because it is nested within "outer test".[22m

    [35m[103m-       [7m14 |     expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m-     > 16 |     test('inner test', () => {[49m[39m
    [35m[103m- [7m         |[27m     ^[49m[39m
    [36m[107m+       [7m840 |         // This check throws an error to warn the user about the edge-case.[27m[49m[39m
    [36m[107m+       841 |         if (currentSpec !== null) {[49m[39m
    [36m[107m+     > 842 |           throw new Error(`Tests cannot be nested. Test "${spec.description}" cannot run because it is nested within "${currentSpec.description}".`);[49m[39m
    [36m[107m+ [7m          |           [27m     [7m [27m^[49m[39m
    [35m[103m-       [7m17 |       expect(getTruthy()).toBeTruthy();[27m[49m[39m
    [35m[103m-       18 |     });[49m[39m
    [35m[103m- [7m      19 |   })[27m;[49m[39m
    [36m[107m+       [7m843 |         }[27m[49m[39m
    [36m[107m+       844 |         currentDeclarationSuite.addChild(spec);[49m[39m
    [36m[107m+ [7m      845 |         return spec[27m;[49m[39m

    [2m        at Object.test (__tests__/nestedTestWithinDescribe.js:16:5)"[22m
[2m[22m
[2m    [0m [90m 37 |[39m   [36mconst[39m summary [33m=[39m extractSummary(result[33m.[39mstderr)[33m;[39m[22m
[2m     [90m 38 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 39 |[39m   expect(cleanupRunnerStack(summary[33m.[39mrest))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                            [31m[1m^[22m[2m[39m[22m
[2m     [90m 40 |[39m })[33m;[39m[22m
[2m     [90m 41 |[39m[22m
[2m     [90m 42 |[39m (isJestJasmineRun() [33m?[39m test[33m.[39mskip [33m:[39m test)([0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nestedTestDefinitions.test.ts[39m[0m[2m:39:44)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mexpectAsyncMatcher.test.ts[22m ([0m[1m[41m11.066 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshows the correct errors in stderr when failing tests[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `shows the correct errors in stderr when failing tests 1`

    [35m[103m- Snapshot  - 14[49m[39m
    [36m[107m+ Received  + 14[49m[39m

    [33m@@ -49,17 +49,17 @@[39m
    [2m      Received:[22m
    [2m        1[22m
    [2m      received.length:[22m
    [2m        1[22m

    [35m[103m-       [7m17[27m |[49m[39m
    [35m[103m-      [7m 18 | it('fail with expected promise values', () =>[27m[49m[39m
    [35m[103m- [7m    > 19 |   expect(Promise.resolve([1])).resolves.toHaveLengthAsync(Promise.resolve(2[27m)));[49m[39m
    [36m[107m+       [7m2138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived[27m)));[49m[39m
    [35m[103m-       [7m  [27m |       [7m         [27m                         [7m^[27m[49m[39m
    [35m[103m-       [7m20 |[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    [7m^[27m[49m[39m
    [35m[103m-       21 | [7mit('fail with expected promise values and not', () =>[27m[49m[39m
    [36m[107m+       21[7m41[27m | [7m  return actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       22 |   [7mexpect(P[27mromise[7m.[27mre[7msolve([1, 2])).resolves.not.toHaveLengthAsync([27m[49m[39m
    [36m[107m+       2[7m14[27m2 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mre[7mjected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:19:41)[22m

    [2m    ‚óè fail with expected promise values and not[22m

    [33m@@ -68,14 +68,14 @@[39m
    [2m      Received:[22m
    [2m        1,2[22m
    [2m      received.length:[22m
    [2m        2[22m

    [35m[103m-       2[7m0[27m |[49m[39m
    [35m[103m-      [7m 21 | it('fail with expected promise values and not', () =>[27m[49m[39m
    [35m[103m-     > 22 |   expect(Promise.resolve([1, 2])).resolves.not.toHaveLengthAsync([49m[39m
    [35m[103m- [7m  [27m       |       [7m          [27m                               ^[49m[39m
    [36m[107m+       2[7m138[27m |     [7mthrow new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)));[27m[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       2[7m3[27m |   [7m  Promise.resolve(2),[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       2[7m4[27m |   [7m));[27m[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       2[7m142[27m |   [7m [27m[7m outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received promise rejected instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+       2143 |     throw outerErr;[49m[39m

    [2m        at Object.toHaveLengthAsync (__tests__/failure.test.js:22:48)"[22m
[2m[22m
[2m    [0m [90m 31 |[39m     [33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 32 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 33 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 34 |[39m })[33m;[39m[22m
[2m     [90m 35 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/expectAsyncMatcher.test.ts[39m[0m[2m:33:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchSnapshotWithStringSerializer.test.ts[22m ([0m[1m[41m11.68 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mempty internal ci false[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-internal-ci-false.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.952 s[39m
    [31mRan all test suites matching empty-internal-ci-false.test.js."[39m
[2m[22m
[2m    [0m [90m 81 |[39m     })[33m;[39m[22m
[2m     [90m 82 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 83 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 84 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 85 |[39m   }[22m
[2m     [90m 86 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchSnapshotWithStringSerializer.test.ts[39m[0m[2m:83:20)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mmoduleNameMapper.test.ts[22m ([0m[1m[41m12.632 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -12,16 +12,16 @@[39m
    [2m          "/\.(css|less)$/": "no-such-module"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 14 |[39m[22m
[2m     [90m 15 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 16 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 17 |[39m })[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m     [90m 19 |[39m test([32m'moduleNameMapper wrong array configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:16:16)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmoduleNameMapper wrong array configuration[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `moduleNameMapper wrong array configuration 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -18,16 +18,16 @@[39m
    [2m          ]"[22m
    [2m        },[22m
    [2m        "resolver": undefined[22m
    [2m      }[22m

    [35m[103m-       [7m 8 | 'use strict';[27m[49m[39m
    [35m[103m-        9 |[49m[39m
    [35m[103m-     > 10 | require('./style.css');[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1115 |   .slice(0, -1) + ' '.repeat(4)}]` /// align last bracket correctly as well[27m[49m[39m
    [36m[107m+       1116 |   : mappedModuleName;[49m[39m
    [36m[107m+     > 1117 |   const error = new Error(_chalk().default.red(`${_chalk().default.bold('Configuration error')}:[49m[39m
    [36m[107m+ [7m           |                [27m ^[49m[39m
    [35m[103m-       11 |[49m[39m
    [36m[107m+       11[7m1[27m[7m8[27m |[49m[39m
    [35m[103m-       1[7m2 | module.exports = () => 'test';[27m[49m[39m
    [35m[103m-       13 |[49m[39m
    [36m[107m+       1[7m119 | Could not locate module ${_chalk().default.bold(moduleName)} mapped as:[27m[49m[39m
    [36m[107m+       1120 | ${_chalk().default.bold(mappedAs)}.[49m[39m

    [2m        at createNoMappedModuleFoundError (../../packages/jest-resolve/build/index.js:1117:17)[22m
    [2m        at Object.require (index.js:10:1)[22m
    [2m        at Object.require (__tests__/index.js:10:20)"[22m
[2m[22m
[2m    [0m [90m 22 |[39m[22m
[2m     [90m 23 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 24 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 25 |[39m })[33m;[39m[22m
[2m     [90m 26 |[39m[22m
[2m     [90m 27 |[39m test([32m'moduleNameMapper correct configuration'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/moduleNameMapper.test.ts[39m[0m[2m:24:16)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 7 snapshots failed[39m[22m from 5 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m6 failed[39m[22m, [1m[32m114 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m8 failed[39m[22m, [1m[33m8 skipped[39m[22m, [1m[32m1220 passed[39m[22m, 1236 total
[1mSnapshots:   [22m[1m[31m7 failed[39m[22m, [1m[32m284 passed[39m[22m, 291 total
[1mTime:[22m        [1m[33m70.831 s[39m[22m
[2mRan all test suites[22m[2m in [22m7[2m projects[22m[2m.[22m
The command has failed after 3 attempts.
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......./app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
..................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
............[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

..............
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
......
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.521 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

.....(node:535789) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.555 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.316 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.372 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

......
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

...
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m ([0m[1m[41m7.4 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m8.488 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.521 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m14.964 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.555 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.316 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.372 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m24.833 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m28.796 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m79.25 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 4 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m8 failed[39m[22m, [1m[32m112 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m10 failed[39m[22m, [1m[33m17 skipped[39m[22m, [1m[32m1161 passed[39m[22m, 1188 total
[1mSnapshots:   [22m[1m[31m4 failed[39m[22m, [1m[32m186 passed[39m[22m, 190 total
[1mTime:[22m        [1m[33m83.934 s[39m[22m
[2mRan all test suites[22m[2m in [22m6[2m projects[22m[2m.[22m
Command failed. Attempt 2/3:
.
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..............[SKIP] Does not work on Jasmine
....[SKIP] Does not work on Jasmine
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
..[SKIP] Does not work on Jasmine
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[SKIP] Does not work on Jasmine
..
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........./app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
...................
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...........
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.203 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

..(node:564723) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.884 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.94 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.658 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

.....
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

.
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m ([0m[1m[41m5.181 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m7.517 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.203 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m12.975 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.884 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.94 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.658 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m24.52 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m24.459 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m77.298 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 4 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m8 failed[39m[22m, [1m[32m112 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m10 failed[39m[22m, [1m[33m17 skipped[39m[22m, [1m[32m1161 passed[39m[22m, 1188 total
[1mSnapshots:   [22m[1m[31m4 failed[39m[22m, [1m[32m186 passed[39m[22m, 190 total
[1mTime:[22m        79.938 s, estimated 80 s
[2mRan all test suites[22m[2m in [22m6[2m projects[22m[2m.[22m
Command failed. Attempt 3/3:
..
/app/e2e/__tests__/showConfig.test.ts

[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[SKIP] Does not work on Jasmine
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............[SKIP] Does not work on Jasmine
...
/app/e2e/__tests__/resolveNoFileExtensions.test.ts

[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
....[SKIP] Does not work on Jasmine
......
/app/e2e/__tests__/jestChangedFiles.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

.[SKIP] Does not work on Jasmine
......[SKIP] Does not work on Jasmine
../app/node_modules/scheduler/cjs/scheduler.development.js:98
        return localPerformance.now();
                                ^

[TypeError: localPerformance.now is not a function]

Node.js v18.20.8
.[SKIP] Does not work on Jasmine
................[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....(node:591149) [JEST-01] DeprecationWarning: 'now' property was accessed on [Object] after it was soft deleted
  Jest deletes objects that were set on the global scope between test files to reduce memory leaks.
  Currently it only "soft" deletes them and emits this warning if those objects were accessed after their deletion.
  In future versions of Jest, this behavior will change to "on", which will likely fail tests.
  You can change the behavior in your test configuration now to reduce memory usage.
(Use `node --trace-deprecation ...` to show where the warning was created)
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.
/app/e2e/__tests__/toMatchInlineSnapshotCrlf.test.ts

[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.01 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...
/app/e2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts

[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.522 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.994 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.79 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

......
/app/e2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

.
/app/packages/jest-core/src/__tests__/watch.test.js

[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...
/app/e2e/__tests__/transform.test.ts

[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mshowConfig.test.ts[22m
[1m[31m  [1m‚óè [22m[1m--showConfig outputs config info and exits[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `--showConfig outputs config info and exits 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 5[49m[39m

    [33m@@ -58,37 +58,37 @@[39m
    [2m        "restoreMocks": false,[22m
    [2m        "rootDir": "<<REPLACED_ROOT_DIR>>",[22m
    [2m        "roots": [[22m
    [2m          "<<REPLACED_ROOT_DIR>>"[22m
    [2m        ],[22m
    [35m[103m-       "runner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-runner/build/index.js",[49m[39m
    [36m[107m+       "runner": "[7m/app/packages[27m/jest-runner/build/index.js",[49m[39m
    [2m        "sandboxInjectedGlobals": [],[22m
    [2m        "setupFiles": [],[22m
    [2m        "setupFilesAfterEnv": [],[22m
    [2m        "skipFilter": false,[22m
    [2m        "slowTestThreshold": 5,[22m
    [2m        "snapshotFormat": {[22m
    [2m          "escapeString": false,[22m
    [2m          "printBasicPrototype": false[22m
    [2m        },[22m
    [2m        "snapshotSerializers": [],[22m
    [35m[103m-       "testEnvironment": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-environment-node/build/index.js",[49m[39m
    [36m[107m+       "testEnvironment": "[7m/app/packages[27m/jest-environment-node/build/index.js",[49m[39m
    [2m        "testEnvironmentOptions": {},[22m
    [2m        "testLocationInResults": false,[22m
    [2m        "testMatch": [[22m
    [2m          "**/__tests__/**/*.?([mc])[jt]s?(x)",[22m
    [2m          "**/?(*.)+(spec|test).?([mc])[jt]s?(x)"[22m
    [2m        ],[22m
    [2m        "testPathIgnorePatterns": [[22m
    [2m          "/node_modules/"[22m
    [2m        ],[22m
    [2m        "testRegex": [],[22m
    [35m[103m-       "testRunner": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-circus/build/runner.js",[49m[39m
    [36m[107m+       "testRunner": "[7m/app/packages[27m/jest-circus/build/runner.js",[49m[39m
    [2m        "transform": [[22m
    [2m          [[22m
    [2m            "\\.[jt]sx?$",[22m
    [35m[103m-           "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/babel-jest/build/index.js",[49m[39m
    [36m[107m+           "[7m/app/packages[27m/babel-jest/build/index.js",[49m[39m
    [2m            {}[22m
    [2m          ][22m
    [2m        ],[22m
    [2m        "transformIgnorePatterns": [[22m
    [2m          "/node_modules/",[22m
    [33m@@ -142,11 +142,11 @@[39m
    [2m        "escapeString": false,[22m
    [2m        "printBasicPrototype": false[22m
    [2m      },[22m
    [2m      "testFailureExitCode": 1,[22m
    [2m      "testPathPatterns": [],[22m
    [35m[103m-     "testSequencer": "[7m<<REPLACED_JEST_PACKAGES_DIR>>[27m/jest-test-sequencer/build/index.js",[49m[39m
    [36m[107m+     "testSequencer": "[7m/app/packages[27m/jest-test-sequencer/build/index.js",[49m[39m
    [2m      "updateSnapshot": "none",[22m
    [2m      "useStderr": false,[22m
    [2m      "waitForUnhandledRejections": false,[22m
    [2m      "watch": false,[22m
    [2m      "watchAll": false,[22m
[2m[22m
[2m    [0m [90m 41 |[39m     [33m.[39mreplaceAll([35m/"seed": (-?\d+)/g[39m[33m,[39m [32m'"seed": <<RANDOM_SEED>>'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 43 |[39m   expect(stdout)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 44 |[39m })[33m;[39m[22m
[2m     [90m 45 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/showConfig.test.ts[39m[0m[2m:43:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mresolveNoFileExtensions.test.ts[22m ([0m[1m[41m5.196 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mshow error message with matching files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `show error message with matching files 1`

    [35m[103m- Snapshot  - 5[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -13,14 +13,16 @@[39m

    [2m      You might want to include a file extension in your import, or update your 'moduleFileExtensions', which is currently ['js'].[22m

    [2m      See https://jestjs.io/docs/configuration#modulefileextensions-arraystring[22m

    [35m[103m-       [7m6[27m |  [7m*/[27m[49m[39m
    [35m[103m-       7 |[49m[39m
    [35m[103m- [7m    > 8 | module.exports = require('./some-json-file'[27m);[49m[39m
    [36m[107m+       [7m861[27m |  [7m [27m[7m_throwModNotFoundError(from, moduleName) {[27m[49m[39m
    [36m[107m+       862 |     const relativePath = (0, _slash().default)(path().relative(this._options.rootDir, from)) || '.';[49m[39m
    [36m[107m+ [7m    > 863 |     throw new _ModuleNotFoundError.default(`Cannot find module '${moduleName}' from '${relativePath}'`, moduleName[27m);[49m[39m
    [35m[103m-         [7m|[27m         [7m [27m        [7m^[27m[49m[39m
    [35m[103m-       9 |[49m[39m
    [36m[107m+         [7m [27m[7m |  [27m         [7m^[27m[49m[39m
    [36m[107m+ [7m      864 |[27m   [7m}[27m[49m[39m
    [36m[107m+      [7m 865 |   _getMapModuleName(matches) {[27m[49m[39m
    [36m[107m+       866 |     return matches ? moduleName => moduleName.replaceAll(/\$(\d+)/g, (_, index) => matches[Number.parseInt(index, 10)] || '') : moduleName => moduleName;[49m[39m

    [2m        at Resolver._throwModNotFoundError (../../packages/jest-resolve/build/index.js:863:11)[22m
    [2m        at Object.require (index.js:8:18)[22m
    [2m        at Object.require (__tests__/test.js:8:11)"[22m
[2m[22m
[2m    [0m [90m 20 |[39m[22m
[2m     [90m 21 |[39m   expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 22 |[39m   expect(rest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                [31m[1m^[22m[2m[39m[22m
[2m     [90m 23 |[39m })[33m;[39m[22m
[2m     [90m 24 |[39m[22m
[2m     [90m 25 |[39m test([32m'show error message when no js moduleFileExtensions'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/resolveNoFileExtensions.test.ts[39m[0m[2m:22:16)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mjestChangedFiles.test.ts[22m
  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:31:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/jestChangedFiles.test.ts[39m[0m[2m:43:2)[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotCrlf.test.ts[22m ([0m[1m[41m7.454 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mprettier with crlf newlines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   2 written, 2 total"[39m
    Received string:    [31m"FAIL __tests__/test.ts[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.01 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 51 |[39m   })[33m;[39m[22m
[2m     [90m 52 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 53 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   2 written, 2 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 54 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 55 |[39m[22m
[2m     [90m 56 |[39m   [36mconst[39m fileAfter [33m=[39m readFile([32m'test.ts'[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotCrlf.test.ts[39m[0m[2m:53:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithPretttier3.test.ts[22m ([0m[1m[41m13.184 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msupports passing `null` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.522 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 43 |[39m   })[33m;[39m[22m
[2m     [90m 44 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 45 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 46 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 47 |[39m })[33m;[39m[22m
[2m     [90m 48 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:45:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier-2` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.994 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 61 |[39m   })[33m;[39m[22m
[2m     [90m 62 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 63 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 64 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 65 |[39m })[33m;[39m[22m
[2m     [90m 66 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:63:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports passing `prettier` as `prettierPath`[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

    Expected substring: [32m"Snapshots:   1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.79 s[39m
    [31mRan all test suites."[39m
[2m[22m
[2m    [0m [90m 79 |[39m   })[33m;[39m[22m
[2m     [90m 80 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--ci=false'[39m])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 81 |[39m   expect(stderr)[33m.[39mtoContain([32m'Snapshots:   1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 82 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 83 |[39m })[33m;[39m[22m
[2m     [90m 84 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toContain ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithPretttier3.test.ts[39m[0m[2m:81:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshotWithJSX.test.ts[22m ([0m[1m[41m24.111 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with external babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 107 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 108 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 109 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 110 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 111 |[39m })[33m;[39m[22m
[2m     [90m 112 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:109:38)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msuccessfully runs the tests with inline babel config[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

    Expected: [32m0[39m
    Received: [31m1[39m
[2m[22m
[2m    [0m [90m 156 |[39m   [36mconst[39m updateSnapshotRun [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'--updateSnapshot'[39m])[33m;[39m[22m
[2m     [90m 157 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 158 |[39m   expect(updateSnapshotRun[33m.[39mexitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m     |[39m                                      [31m[1m^[22m[2m[39m[22m
[2m     [90m 159 |[39m   expect(updateSnapshotRun[33m.[39mstderr)[33m.[39mtoContain([32m'1 snapshot updated.'[39m)[33m;[39m[22m
[2m     [90m 160 |[39m })[33m;[39m[22m
[2m     [90m 161 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toBe ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshotWithJSX.test.ts[39m[0m[2m:158:38)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-core/src/__tests__/[22m[1mwatch.test.js[22m ([0m[1m[41m24.326 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mWatch mode flows ‚Ä∫ makes watch plugin initialization errors look nice[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mrejects[2m.[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `Watch mode flows makes watch plugin initialization errors look nice 1`

    Snapshot: [35m[103m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [35m[103m[49m[39m
    [35m[103m  ‚óè Test suite failed to run[49m[39m
    [35m[103m[49m[39m
    [35m[103m    initialization error[49m[39m
    [35m[103m[49m[39m
    [35m[103m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [35m[103m][49m[39m
    Received: [36m[107m[Error: Failed to initialize watch plugin "packages/jest-core/src/__tests__/__fixtures__/watchPluginThrows":[49m[39m
    [36m[107m[49m[39m
    [36m[107m  ‚óè Test suite failed to run[49m[39m
    [36m[107m[49m[39m
    [36m[107m    initialization error[49m[39m
    [36m[107m[49m[39m
    [36m[107m    [0m [90m 6 |[39m[36m [90m */[39m[36m[49m[39m
    [36m[107m     [90m 7 |[39m[36m[49m[39m
    [36m[107m    [31m[1m>[22m[39m[36m[90m 8 |[39m[36m [36mthrow[39m[36m [36mnew[39m[36m [33mError[39m[36m([32m'initialization error'[39m[36m)[33m;[39m[36m[49m[39m
    [36m[107m     [90m   |[39m[36m       [31m[1m^[22m[39m[36m[49m[39m
    [36m[107m     [90m 9 |[39m[36m[0m[49m[39m
    [36m[107m[49m[39m
    [36m[107m      at Object.<anonymous> (__fixtures__/watchPluginThrows.js:8:7)[49m[39m
    [36m[107m      at watch (../watch.ts:191:61)[49m[39m
    [36m[107m      at Object.watch (watch.test.js:622:7)[49m[39m
    [36m[107m][49m[39m
[2m[22m
[2m    [0m [90m 2153 |[39m     [36mthrow[39m [36mnew[39m [33mJestAssertionError[39m(matcherUtils[33m.[39mmatcherErrorMessage(matcherUtils[33m.[39mmatcherHint(matcherName[33m,[39m undefined[33m,[39m [32m''[39m[33m,[39m options)[33m,[39m [32m`${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`[39m[33m,[39m matcherUtils[33m.[39mprintWithType([32m'Received'[39m[33m,[39m actual[33m,[39m matcherUtils[33m.[39mprintReceived)))[33m;[39m[22m
[2m     [90m 2154 |[39m   }[22m
[2m    [31m[1m>[22m[2m[39m[90m 2155 |[39m   [36mconst[39m innerErr [33m=[39m [36mnew[39m [33mJestAssertionError[39m()[33m;[39m[22m
[2m     [90m      |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 2156 |[39m   [36mreturn[39m actualWrapper[33m.[39mthen(result [33m=>[39m {[22m
[2m     [90m 2157 |[39m     outerErr[33m.[39mmessage [33m=[39m [32m`${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n`[39m [33m+[39m [32m'Received promise resolved instead of rejected\n'[39m [33m+[39m [32m`Resolved to value: ${matcherUtils.printReceived(result)}`[39m[33m;[39m[22m
[2m     [90m 2158 |[39m     [36mthrow[39m outerErr[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2mpackages/expect/build/index.js[2m:2155:20)[22m[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-core/src/__tests__/watch.test.js[39m[0m[2m:633:15)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtransform.test.ts[22m ([0m[1m[41m79.605 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbabel-jest ignored ‚Ä∫ tells user to match ignored files[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `babel-jest ignored tells user to match ignored files 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 8[49m[39m

    [2m  FAIL __tests__/ignoredFile.test.js[22m
    [2m    ‚óè Test suite failed to run[22m

    [2m      babel-jest: Babel ignores __tests__/ignoredFile.test.js - make sure to include the file in Jest's transformIgnorePatterns as well.[22m

    [36m[107m+       135 | function assertLoadedBabelConfig(babelConfig, cwd, filename) {[49m[39m
    [36m[107m+       136 |   if (!babelConfig) {[49m[39m
    [36m[107m+     > 137 |     throw new Error(`babel-jest: Babel ignores ${_chalk().default.bold((0, _slash().default)(path().relative(cwd, filename)))} - make sure to include the file in Jest's ${_chalk().default.bold('transformIgnorePatterns')} as well.`);[49m[39m
    [36m[107m+           |           ^[49m[39m
    [36m[107m+       138 |   }[49m[39m
    [36m[107m+       139 | }[49m[39m
    [36m[107m+       140 | function addIstanbulInstrumentation(babelOptions, transformOptions) {[49m[39m
    [36m[107m+[49m[39m
    [2m        at assertLoadedBabelConfig (../../../packages/babel-jest/build/index.js:137:11)[22m
[2m[22m
[2m    [0m [90m 52 |[39m     [36mconst[39m {exitCode[33m,[39m stderr} [33m=[39m runJest(dir[33m,[39m [[32m'--no-cache'[39m])[33m;[39m[22m
[2m     [90m 53 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 54 |[39m     expect(extractSummary(stderr)[33m.[39mrest)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 55 |[39m   })[33m;[39m[22m
[2m     [90m 56 |[39m })[33m;[39m[22m
[2m     [90m 57 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/transform.test.ts[39m[0m[2m:54:41)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 4 snapshots failed[39m[22m from 4 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m

[1mTest Suites: [22m[1m[31m8 failed[39m[22m, [1m[32m112 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m10 failed[39m[22m, [1m[33m17 skipped[39m[22m, [1m[32m1161 passed[39m[22m, 1188 total
[1mSnapshots:   [22m[1m[31m4 failed[39m[22m, [1m[32m186 passed[39m[22m, 190 total
[1mTime:[22m        [1m[33m82.404 s[39m[22m
[2mRan all test suites[22m[2m in [22m6[2m projects[22m[2m.[22m
The command has failed after 3 attempts.
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
..[SKIP] Does not work on Jasmine
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[1mfoo[22m:[39m
[33m[39m
[33mDeprecation message[39m
[33m[39m
[33m  [1mCLI Options Documentation:[22m[39m
[33m  https://jestjs.io/docs/cli[39m
[33m[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/packages/jest-message-util/src/__tests__/messages.test.ts

[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..
/app/e2e/__tests__/consoleAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....................Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.................
/app/e2e/__tests__/declarationErrors.test.ts

[1m[31m  [1m‚óè [22m[1merrors if describe returns a Promise[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns a Promise 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    Returning a Promise from "describe" is not supported. Tests must be defined synchronously.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m- [7m      10[27m |[49m[39m
    [35m[103m-     [7m> 11 | describe('Promise describe errors', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       12 |   it('t', () => {});[49m[39m
    [36m[107m+       [7m752 |         }[27m[49m[39m
    [36m[107m+       753 |         if ((0, _jestUtil.isPromise)(describeReturnValue)) {[49m[39m
    [36m[107m+ [7m    > 754[27m |    [7m       declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+           |                              ^[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn Promise.resolve();[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m756[27m |   [7m [27m[7m       declarationError = new Error('A "describe" callback must not return a value.');[27m[49m[39m
    [36m[107m+       757 |         }[49m[39m

    [2m        at Object.describe (__tests__/describeReturnPromise.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m[22m
[2m     [90m 28 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m it([32m'errors if describe returns something'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:29:41)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1merrors if describe returns something[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns something 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    A "describe" callback must not return a value.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m-       10 |[49m[39m
    [35m[103m-     > 11 | describe('describe return errors', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m754 |           declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [36m[107m+     > 756 |           declarationError = new Error('A "describe" callback must not return a value.');[49m[39m
    [36m[107m+ [7m          |                             [27m ^[49m[39m
    [35m[103m-       [7m12[27m |   [7mit('t', () => {});[27m[49m[39m
    [36m[107m+       [7m757[27m |   [7m      }[27m[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn 42;[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m758[27m |   [7m [27m[7m     if (declarationError) {[27m[49m[39m
    [36m[107m+       759 |           this.it('encountered a declaration exception', () => {[49m[39m

    [2m        at Object.describe (__tests__/describeReturnSomething.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m[22m
[2m     [90m 37 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m })[33m;[39m[22m
[2m     [90m 40 |[39m[22m
[2m     [90m 41 |[39m it([32m'errors if describe throws'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:38:41)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.............
/app/e2e/__tests__/nativeEsm.test.ts

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..
/app/e2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        4.169 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.815 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.22 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.999 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.206 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[1m[31m ‚Ä∫ 4 obsolete snapshots[39m[22m found.
.......
/app/e2e/__tests__/failures.test.ts

[1m[31m  [1m‚óè [22m[1mnot throwing Error objects[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `not throwing Error objects 5`

    [35m[103m- Snapshot  - 47[49m[39m
    [36m[107m+ Received  + 49[49m[39m

    [33m@@ -11,45 +11,45 @@[39m

    [2m    ‚óè Promise thrown during test[22m

    [2m      thrown: Promise {}[22m

    [35m[103m-       12 |[7m };[27m[49m[39m
    [36m[107m+       12[7m67[27m |[49m[39m
    [35m[103m-       1[7m3[27m |[49m[39m
    [35m[103m-     [7m> 14 | test('Promise thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m- [7m      15 |   throw Promise.resolve(5)[27m;[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+ [7m      1270 |     this.initError.name = ''[27m;[49m[39m
    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m271 |[27m[49m[39m
    [35m[103m-       1[7m7 |[27m[49m[39m
    [36m[107m+       1[7m272 |     // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:14:1)[22m

    [2m    ‚óè Boolean thrown during test[22m

    [2m      thrown: false[22m

    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m267 |[27m[49m[39m
    [35m[103m-       1[7m7[27m |[49m[39m
    [35m[103m-     [7m> 18 | test('Boolean thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       1[7m9[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [35m[103m-       20 |   throw false;[49m[39m
    [35m[103m-       21 | });[49m[39m
    [36m[107m+       1[7m270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:18:1)[22m

    [2m    ‚óè undefined thrown during test[22m

    [2m      thrown: undefined[22m

    [35m[103m-       [7m21 | });[27m[49m[39m
    [35m[103m-       22 |[49m[39m
    [35m[103m-     > 23 | test('undefined thrown during test', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [36m[107m+       1268 |     // eslint-disable-next-line unicorn/error-message[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m24[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       2[7m5[27m |   [7mthrow undefined;[27m[49m[39m
    [35m[103m-       26 | });[49m[39m
    [36m[107m+       [7m127[27m2 |   [7m  // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:23:1)[22m

    [2m    ‚óè Object thrown during test[22m

    [33m@@ -60,33 +60,33 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       26 |[7m });[27m[49m[39m
    [36m[107m+       [7m1[27m26[7m7[27m |[49m[39m
    [35m[103m-       [7m27[27m |[49m[39m
    [35m[103m-     [7m> 28 | test('Object thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       29 |   throw deepObject;[49m[39m
    [35m[103m-       30 | });[49m[39m
    [35m[103m-       31 |[49m[39m
    [36m[107m+       [7m1268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+       1270 |     this.initError.name = '';[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:28:1)[22m

    [2m    ‚óè Object with stack prop thrown during test[22m

    [2m      thrown: Object {[22m
    [2m        "stack": 42,[22m
    [2m      }[22m

    [35m[103m-       [7m30 | });[27m[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [35m[103m-       [7m3[27m1 |[49m[39m
    [35m[103m-     [7m> 32 | test('Object with stack prop thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m33[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       [7m34[27m |   [7mthrow {stack: 42};[27m[49m[39m
    [35m[103m-       35 | });[49m[39m
    [36m[107m+       [7m1272[27m |   [7m [27m[7m // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:32:1)[22m

    [2m    ‚óè Error during test[22m

    [33m@@ -125,17 +125,17 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       [7m45[27m |[49m[39m
    [35m[103m-       [7m46 | test('done(non-error)', done => {[27m[49m[39m
    [35m[103m- [7m    > 47 |[27m   [7md[27mon[7me(deepObject[27m);[49m[39m
    [36m[107m+       [7m930[27m |      [7m     message = check.message || undefined;[27m[49m[39m
    [36m[107m+       931 |         }[49m[39m
    [36m[107m+ [7m    > 932 |      [27m   [7mc[27mon[7mst errorAsErrorObject = checkIsError ? error : new Error(message[27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m- [7m      48 | }[27m);[49m[39m
    [36m[107m+ [7m [27m         |   [7m                                                        ^[27m[49m[39m
    [36m[107m+ [7m      933 |         const runnable = currentRunnable([27m);[49m[39m
    [35m[103m-       [7m4[27m9 |[49m[39m
    [35m[103m-       [7m50 | test('returned promise rejection', () => Promise.reject(deepObject))[27m;[49m[39m
    [36m[107m+       9[7m34[27m |[7m [27m      [7m  if (!runnable) {[27m[49m[39m
    [36m[107m+ [7m      935 |           errorAsErrorObject.message = `Caught error after test environment was torn down\n\n${errorAsErrorObject.message}`[27m;[49m[39m

    [2m        at Object.done (__tests__/duringTests.test.js:47:3)[22m

    [2m    ‚óè returned promise rejection[22m

    [33m@@ -146,12 +146,14 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       48 | [7m});[27m[49m[39m
    [36m[107m+       [7m2[27m48 | [7m      const asyncJestTestWithCallback = function (...args) {[27m[49m[39m
    [35m[103m-       49 |[49m[39m
    [35m[103m-     [7m> 50 | test('returned promise rejection', () => Promise.reject(deepObject)[27m);[49m[39m
    [36m[107m+       [7m2[27m49 |[7m [27m    [7m    // @ts-expect-error: Support possible extra args at runtime[27m[49m[39m
    [36m[107m+ [7m    > 250 |         return fn.apply(this, args[27m);[49m[39m
    [35m[103m-          | ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                             [27m ^[49m[39m
    [35m[103m-       51 |[49m[39m
    [36m[107m+       [7m2[27m51 |[7m       };[27m[49m[39m
    [36m[107m+       252 |       return originalFn.call(env, specName, asyncJestTestWithCallback, timeout);[49m[39m
    [36m[107m+       253 |     }[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:50:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 37 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'duringTests.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                               [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'throwObjectWithStackProp.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m     [90m 40 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 41 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:38:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 35[49m[39m
    [36m[107m+ Received  + 35[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', () =>[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,62 +37,62 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m12 |[27m[49m[39m
    [35m[103m-       13 | test('reject, but fail', () =>[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2153 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m [27m[7m [27m |       [7m          [27m                               ^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m [27m   [7m  16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |   [7mreturn actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+          [7m  | [27m         [7m     ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [35m[103m- [7m      20 |   expect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [35m[103m-       2[7m3[27m |   [7msetTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       2[7m119[27m |   [7m  const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m

    [2m  <REPLACED>[22m

    [35m[103m-       [7m20[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+       [7m1267[27m |[49m[39m
    [36m[107m+    [7m   1268 |     // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+ [7m    > 1269 |     this.initError = new Error([27m);[49m[39m
    [35m[103m-       [7m21 |[27m[49m[39m
    [35m[103m-     > 22 | test('timeout', done => {[49m[39m
    [35m[103m-          [7m|[27m ^[49m[39m
    [36m[107m+       [7m  [27m[7m   |            [27m          ^[49m[39m
    [35m[103m-       [7m23 |   setTimeout(done, 50);[27m[49m[39m
    [35m[103m-       24 | }, 5);[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       [7m1270 |     this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/asyncFailures.test.js:22:1)"[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
..
/app/e2e/__tests__/toMatchInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        5.624 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.432 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.196 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.067 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.063 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.981 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.986 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.895 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.331 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.278 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.249 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.898 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.839 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m

[1m[31m ‚Ä∫ 17 obsolete snapshots[39m[22m found.
.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-message-util/src/__tests__/[22m[1mmessages.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mconsoleAfterTeardown.test.ts[22m ([0m[1m[41m5.544 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mdeclarationErrors.test.ts[22m ([0m[1m[41m11.539 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1merrors if describe returns a Promise[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns a Promise 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    Returning a Promise from "describe" is not supported. Tests must be defined synchronously.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m- [7m      10[27m |[49m[39m
    [35m[103m-     [7m> 11 | describe('Promise describe errors', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       12 |   it('t', () => {});[49m[39m
    [36m[107m+       [7m752 |         }[27m[49m[39m
    [36m[107m+       753 |         if ((0, _jestUtil.isPromise)(describeReturnValue)) {[49m[39m
    [36m[107m+ [7m    > 754[27m |    [7m       declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+           |                              ^[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn Promise.resolve();[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m756[27m |   [7m [27m[7m       declarationError = new Error('A "describe" callback must not return a value.');[27m[49m[39m
    [36m[107m+       757 |         }[49m[39m

    [2m        at Object.describe (__tests__/describeReturnPromise.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m[22m
[2m     [90m 28 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m it([32m'errors if describe returns something'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:29:41)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1merrors if describe returns something[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns something 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    A "describe" callback must not return a value.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m-       10 |[49m[39m
    [35m[103m-     > 11 | describe('describe return errors', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m754 |           declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [36m[107m+     > 756 |           declarationError = new Error('A "describe" callback must not return a value.');[49m[39m
    [36m[107m+ [7m          |                             [27m ^[49m[39m
    [35m[103m-       [7m12[27m |   [7mit('t', () => {});[27m[49m[39m
    [36m[107m+       [7m757[27m |   [7m      }[27m[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn 42;[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m758[27m |   [7m [27m[7m     if (declarationError) {[27m[49m[39m
    [36m[107m+       759 |           this.it('encountered a declaration exception', () => {[49m[39m

    [2m        at Object.describe (__tests__/describeReturnSomething.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m[22m
[2m     [90m 37 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m })[33m;[39m[22m
[2m     [90m 40 |[39m[22m
[2m     [90m 41 |[39m it([32m'errors if describe throws'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:38:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnativeEsm.test.ts[22m ([0m[1m[41m19.436 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m ([0m[1m[41m19.3 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        4.169 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.815 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.22 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.999 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.206 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mfailures.test.ts[22m ([0m[1m[41m31.025 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mnot throwing Error objects[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `not throwing Error objects 5`

    [35m[103m- Snapshot  - 47[49m[39m
    [36m[107m+ Received  + 49[49m[39m

    [33m@@ -11,45 +11,45 @@[39m

    [2m    ‚óè Promise thrown during test[22m

    [2m      thrown: Promise {}[22m

    [35m[103m-       12 |[7m };[27m[49m[39m
    [36m[107m+       12[7m67[27m |[49m[39m
    [35m[103m-       1[7m3[27m |[49m[39m
    [35m[103m-     [7m> 14 | test('Promise thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m- [7m      15 |   throw Promise.resolve(5)[27m;[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+ [7m      1270 |     this.initError.name = ''[27m;[49m[39m
    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m271 |[27m[49m[39m
    [35m[103m-       1[7m7 |[27m[49m[39m
    [36m[107m+       1[7m272 |     // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:14:1)[22m

    [2m    ‚óè Boolean thrown during test[22m

    [2m      thrown: false[22m

    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m267 |[27m[49m[39m
    [35m[103m-       1[7m7[27m |[49m[39m
    [35m[103m-     [7m> 18 | test('Boolean thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       1[7m9[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [35m[103m-       20 |   throw false;[49m[39m
    [35m[103m-       21 | });[49m[39m
    [36m[107m+       1[7m270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:18:1)[22m

    [2m    ‚óè undefined thrown during test[22m

    [2m      thrown: undefined[22m

    [35m[103m-       [7m21 | });[27m[49m[39m
    [35m[103m-       22 |[49m[39m
    [35m[103m-     > 23 | test('undefined thrown during test', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [36m[107m+       1268 |     // eslint-disable-next-line unicorn/error-message[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m24[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       2[7m5[27m |   [7mthrow undefined;[27m[49m[39m
    [35m[103m-       26 | });[49m[39m
    [36m[107m+       [7m127[27m2 |   [7m  // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:23:1)[22m

    [2m    ‚óè Object thrown during test[22m

    [33m@@ -60,33 +60,33 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       26 |[7m });[27m[49m[39m
    [36m[107m+       [7m1[27m26[7m7[27m |[49m[39m
    [35m[103m-       [7m27[27m |[49m[39m
    [35m[103m-     [7m> 28 | test('Object thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       29 |   throw deepObject;[49m[39m
    [35m[103m-       30 | });[49m[39m
    [35m[103m-       31 |[49m[39m
    [36m[107m+       [7m1268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+       1270 |     this.initError.name = '';[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:28:1)[22m

    [2m    ‚óè Object with stack prop thrown during test[22m

    [2m      thrown: Object {[22m
    [2m        "stack": 42,[22m
    [2m      }[22m

    [35m[103m-       [7m30 | });[27m[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [35m[103m-       [7m3[27m1 |[49m[39m
    [35m[103m-     [7m> 32 | test('Object with stack prop thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m33[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       [7m34[27m |   [7mthrow {stack: 42};[27m[49m[39m
    [35m[103m-       35 | });[49m[39m
    [36m[107m+       [7m1272[27m |   [7m [27m[7m // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:32:1)[22m

    [2m    ‚óè Error during test[22m

    [33m@@ -125,17 +125,17 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       [7m45[27m |[49m[39m
    [35m[103m-       [7m46 | test('done(non-error)', done => {[27m[49m[39m
    [35m[103m- [7m    > 47 |[27m   [7md[27mon[7me(deepObject[27m);[49m[39m
    [36m[107m+       [7m930[27m |      [7m     message = check.message || undefined;[27m[49m[39m
    [36m[107m+       931 |         }[49m[39m
    [36m[107m+ [7m    > 932 |      [27m   [7mc[27mon[7mst errorAsErrorObject = checkIsError ? error : new Error(message[27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m- [7m      48 | }[27m);[49m[39m
    [36m[107m+ [7m [27m         |   [7m                                                        ^[27m[49m[39m
    [36m[107m+ [7m      933 |         const runnable = currentRunnable([27m);[49m[39m
    [35m[103m-       [7m4[27m9 |[49m[39m
    [35m[103m-       [7m50 | test('returned promise rejection', () => Promise.reject(deepObject))[27m;[49m[39m
    [36m[107m+       9[7m34[27m |[7m [27m      [7m  if (!runnable) {[27m[49m[39m
    [36m[107m+ [7m      935 |           errorAsErrorObject.message = `Caught error after test environment was torn down\n\n${errorAsErrorObject.message}`[27m;[49m[39m

    [2m        at Object.done (__tests__/duringTests.test.js:47:3)[22m

    [2m    ‚óè returned promise rejection[22m

    [33m@@ -146,12 +146,14 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       48 | [7m});[27m[49m[39m
    [36m[107m+       [7m2[27m48 | [7m      const asyncJestTestWithCallback = function (...args) {[27m[49m[39m
    [35m[103m-       49 |[49m[39m
    [35m[103m-     [7m> 50 | test('returned promise rejection', () => Promise.reject(deepObject)[27m);[49m[39m
    [36m[107m+       [7m2[27m49 |[7m [27m    [7m    // @ts-expect-error: Support possible extra args at runtime[27m[49m[39m
    [36m[107m+ [7m    > 250 |         return fn.apply(this, args[27m);[49m[39m
    [35m[103m-          | ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                             [27m ^[49m[39m
    [35m[103m-       51 |[49m[39m
    [36m[107m+       [7m2[27m51 |[7m       };[27m[49m[39m
    [36m[107m+       252 |       return originalFn.call(env, specName, asyncJestTestWithCallback, timeout);[49m[39m
    [36m[107m+       253 |     }[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:50:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 37 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'duringTests.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                               [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'throwObjectWithStackProp.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m     [90m 40 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 41 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:38:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 35[49m[39m
    [36m[107m+ Received  + 35[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', () =>[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,62 +37,62 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m12 |[27m[49m[39m
    [35m[103m-       13 | test('reject, but fail', () =>[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2153 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m [27m[7m [27m |       [7m          [27m                               ^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m [27m   [7m  16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |   [7mreturn actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+          [7m  | [27m         [7m     ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [35m[103m- [7m      20 |   expect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [35m[103m-       2[7m3[27m |   [7msetTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       2[7m119[27m |   [7m  const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m

    [2m  <REPLACED>[22m

    [35m[103m-       [7m20[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+       [7m1267[27m |[49m[39m
    [36m[107m+    [7m   1268 |     // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+ [7m    > 1269 |     this.initError = new Error([27m);[49m[39m
    [35m[103m-       [7m21 |[27m[49m[39m
    [35m[103m-     > 22 | test('timeout', done => {[49m[39m
    [35m[103m-          [7m|[27m ^[49m[39m
    [36m[107m+       [7m  [27m[7m   |            [27m          ^[49m[39m
    [35m[103m-       [7m23 |   setTimeout(done, 50);[27m[49m[39m
    [35m[103m-       24 | }, 5);[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       [7m1270 |     this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/asyncFailures.test.js:22:1)"[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m ([0m[1m[41m37.287 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        5.624 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.432 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.196 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.067 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.063 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.981 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.986 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.895 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.331 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.278 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.249 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.898 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.839 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 8 snapshots failed[39m[22m from 5 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m
[1m[33m ‚Ä∫ 21 snapshots obsolete [39m[22mfrom 2 test suites. [2mTo remove them all, re-run jest with `-u`.[22m
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m
       ‚Ä¢ updates existing snapshot: updated snapshot 1
       ‚Ä¢ works fine when function throws error with cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error with string cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error: initial write 1
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m
       ‚Ä¢ basic support: initial write 1
       ‚Ä¢ basic support: snapshot mismatch 1
       ‚Ä¢ basic support: snapshot passed 1
       ‚Ä¢ basic support: snapshot updated 1
       ‚Ä¢ do not indent empty lines: initial write 1
       ‚Ä¢ do not indent empty lines: snapshot passed 1
       ‚Ä¢ handles property matchers: initial write 1
       ‚Ä¢ handles property matchers: snapshot failed 1
       ‚Ä¢ handles property matchers: snapshot passed 1
       ‚Ä¢ handles property matchers: snapshot updated 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier: existing snapshot 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots: existing snapshot 1
       ‚Ä¢ multiple custom matchers and native matchers: multiple matchers 1
       ‚Ä¢ removes obsolete external snapshots: external snapshot cleaned 1
       ‚Ä¢ removes obsolete external snapshots: inline snapshot written 1
       ‚Ä¢ supports custom matchers with property matcher: custom matchers with property matcher 1
       ‚Ä¢ supports custom matchers: custom matchers 1

[1mTest Suites: [22m[1m[31m7 failed[39m[22m, [1m[32m113 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m26 failed[39m[22m, [1m[33m33 skipped[39m[22m, [1m[32m1661 passed[39m[22m, 1720 total
[1mSnapshots:   [22m[1m[31m8 failed[39m[22m, [1m[33m21 obsolete[39m[22m, [1m[32m954 passed[39m[22m, 962 total
[1mTime:[22m        [1m[33m62.47 s[39m[22m
[2mRan all test suites[22m[2m in [22m9[2m projects[22m[2m.[22m
Command failed. Attempt 2/3:
.
/app/packages/jest-message-util/src/__tests__/messages.test.ts

[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[SKIP] Does not work on Jasmine
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[SKIP] Does not work on Jasmine
....[33m[1mfoo[22m:[39m
[33m[39m
[33mDeprecation message[39m
[33m[39m
[33m  [1mCLI Options Documentation:[22m[39m
[33m  https://jestjs.io/docs/cli[39m
[33m[39m
.[SKIP] Does not work on Jasmine
....[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[SKIP] Does not work on Jasmine
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..........[SKIP] Does not work on Jasmine
....
/app/e2e/__tests__/consoleAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
.................
/app/e2e/__tests__/declarationErrors.test.ts

[1m[31m  [1m‚óè [22m[1merrors if describe returns a Promise[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns a Promise 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    Returning a Promise from "describe" is not supported. Tests must be defined synchronously.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m- [7m      10[27m |[49m[39m
    [35m[103m-     [7m> 11 | describe('Promise describe errors', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       12 |   it('t', () => {});[49m[39m
    [36m[107m+       [7m752 |         }[27m[49m[39m
    [36m[107m+       753 |         if ((0, _jestUtil.isPromise)(describeReturnValue)) {[49m[39m
    [36m[107m+ [7m    > 754[27m |    [7m       declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+           |                              ^[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn Promise.resolve();[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m756[27m |   [7m [27m[7m       declarationError = new Error('A "describe" callback must not return a value.');[27m[49m[39m
    [36m[107m+       757 |         }[49m[39m

    [2m        at Object.describe (__tests__/describeReturnPromise.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m[22m
[2m     [90m 28 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m it([32m'errors if describe returns something'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:29:41)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1merrors if describe returns something[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns something 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    A "describe" callback must not return a value.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m-       10 |[49m[39m
    [35m[103m-     > 11 | describe('describe return errors', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m754 |           declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [36m[107m+     > 756 |           declarationError = new Error('A "describe" callback must not return a value.');[49m[39m
    [36m[107m+ [7m          |                             [27m ^[49m[39m
    [35m[103m-       [7m12[27m |   [7mit('t', () => {});[27m[49m[39m
    [36m[107m+       [7m757[27m |   [7m      }[27m[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn 42;[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m758[27m |   [7m [27m[7m     if (declarationError) {[27m[49m[39m
    [36m[107m+       759 |           this.it('encountered a declaration exception', () => {[49m[39m

    [2m        at Object.describe (__tests__/describeReturnSomething.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m[22m
[2m     [90m 37 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m })[33m;[39m[22m
[2m     [90m 40 |[39m[22m
[2m     [90m 41 |[39m it([32m'errors if describe throws'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:38:41)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
..........
/app/e2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.719 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.817 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.635 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.165 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.303 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[1m[31m ‚Ä∫ 4 obsolete snapshots[39m[22m found.
.
/app/e2e/__tests__/nativeEsm.test.ts

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.........
/app/e2e/__tests__/failures.test.ts

[1m[31m  [1m‚óè [22m[1mnot throwing Error objects[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `not throwing Error objects 5`

    [35m[103m- Snapshot  - 47[49m[39m
    [36m[107m+ Received  + 49[49m[39m

    [33m@@ -11,45 +11,45 @@[39m

    [2m    ‚óè Promise thrown during test[22m

    [2m      thrown: Promise {}[22m

    [35m[103m-       12 |[7m };[27m[49m[39m
    [36m[107m+       12[7m67[27m |[49m[39m
    [35m[103m-       1[7m3[27m |[49m[39m
    [35m[103m-     [7m> 14 | test('Promise thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m- [7m      15 |   throw Promise.resolve(5)[27m;[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+ [7m      1270 |     this.initError.name = ''[27m;[49m[39m
    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m271 |[27m[49m[39m
    [35m[103m-       1[7m7 |[27m[49m[39m
    [36m[107m+       1[7m272 |     // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:14:1)[22m

    [2m    ‚óè Boolean thrown during test[22m

    [2m      thrown: false[22m

    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m267 |[27m[49m[39m
    [35m[103m-       1[7m7[27m |[49m[39m
    [35m[103m-     [7m> 18 | test('Boolean thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       1[7m9[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [35m[103m-       20 |   throw false;[49m[39m
    [35m[103m-       21 | });[49m[39m
    [36m[107m+       1[7m270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:18:1)[22m

    [2m    ‚óè undefined thrown during test[22m

    [2m      thrown: undefined[22m

    [35m[103m-       [7m21 | });[27m[49m[39m
    [35m[103m-       22 |[49m[39m
    [35m[103m-     > 23 | test('undefined thrown during test', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [36m[107m+       1268 |     // eslint-disable-next-line unicorn/error-message[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m24[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       2[7m5[27m |   [7mthrow undefined;[27m[49m[39m
    [35m[103m-       26 | });[49m[39m
    [36m[107m+       [7m127[27m2 |   [7m  // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:23:1)[22m

    [2m    ‚óè Object thrown during test[22m

    [33m@@ -60,33 +60,33 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       26 |[7m });[27m[49m[39m
    [36m[107m+       [7m1[27m26[7m7[27m |[49m[39m
    [35m[103m-       [7m27[27m |[49m[39m
    [35m[103m-     [7m> 28 | test('Object thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       29 |   throw deepObject;[49m[39m
    [35m[103m-       30 | });[49m[39m
    [35m[103m-       31 |[49m[39m
    [36m[107m+       [7m1268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+       1270 |     this.initError.name = '';[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:28:1)[22m

    [2m    ‚óè Object with stack prop thrown during test[22m

    [2m      thrown: Object {[22m
    [2m        "stack": 42,[22m
    [2m      }[22m

    [35m[103m-       [7m30 | });[27m[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [35m[103m-       [7m3[27m1 |[49m[39m
    [35m[103m-     [7m> 32 | test('Object with stack prop thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m33[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       [7m34[27m |   [7mthrow {stack: 42};[27m[49m[39m
    [35m[103m-       35 | });[49m[39m
    [36m[107m+       [7m1272[27m |   [7m [27m[7m // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:32:1)[22m

    [2m    ‚óè Error during test[22m

    [33m@@ -125,17 +125,17 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       [7m45[27m |[49m[39m
    [35m[103m-       [7m46 | test('done(non-error)', done => {[27m[49m[39m
    [35m[103m- [7m    > 47 |[27m   [7md[27mon[7me(deepObject[27m);[49m[39m
    [36m[107m+       [7m930[27m |      [7m     message = check.message || undefined;[27m[49m[39m
    [36m[107m+       931 |         }[49m[39m
    [36m[107m+ [7m    > 932 |      [27m   [7mc[27mon[7mst errorAsErrorObject = checkIsError ? error : new Error(message[27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m- [7m      48 | }[27m);[49m[39m
    [36m[107m+ [7m [27m         |   [7m                                                        ^[27m[49m[39m
    [36m[107m+ [7m      933 |         const runnable = currentRunnable([27m);[49m[39m
    [35m[103m-       [7m4[27m9 |[49m[39m
    [35m[103m-       [7m50 | test('returned promise rejection', () => Promise.reject(deepObject))[27m;[49m[39m
    [36m[107m+       9[7m34[27m |[7m [27m      [7m  if (!runnable) {[27m[49m[39m
    [36m[107m+ [7m      935 |           errorAsErrorObject.message = `Caught error after test environment was torn down\n\n${errorAsErrorObject.message}`[27m;[49m[39m

    [2m        at Object.done (__tests__/duringTests.test.js:47:3)[22m

    [2m    ‚óè returned promise rejection[22m

    [33m@@ -146,12 +146,14 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       48 | [7m});[27m[49m[39m
    [36m[107m+       [7m2[27m48 | [7m      const asyncJestTestWithCallback = function (...args) {[27m[49m[39m
    [35m[103m-       49 |[49m[39m
    [35m[103m-     [7m> 50 | test('returned promise rejection', () => Promise.reject(deepObject)[27m);[49m[39m
    [36m[107m+       [7m2[27m49 |[7m [27m    [7m    // @ts-expect-error: Support possible extra args at runtime[27m[49m[39m
    [36m[107m+ [7m    > 250 |         return fn.apply(this, args[27m);[49m[39m
    [35m[103m-          | ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                             [27m ^[49m[39m
    [35m[103m-       51 |[49m[39m
    [36m[107m+       [7m2[27m51 |[7m       };[27m[49m[39m
    [36m[107m+       252 |       return originalFn.call(env, specName, asyncJestTestWithCallback, timeout);[49m[39m
    [36m[107m+       253 |     }[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:50:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 37 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'duringTests.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                               [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'throwObjectWithStackProp.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m     [90m 40 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 41 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:38:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 35[49m[39m
    [36m[107m+ Received  + 35[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', () =>[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,62 +37,62 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m12 |[27m[49m[39m
    [35m[103m-       13 | test('reject, but fail', () =>[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2153 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m [27m[7m [27m |       [7m          [27m                               ^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m [27m   [7m  16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |   [7mreturn actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+          [7m  | [27m         [7m     ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [35m[103m- [7m      20 |   expect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [35m[103m-       2[7m3[27m |   [7msetTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       2[7m119[27m |   [7m  const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m

    [2m  <REPLACED>[22m

    [35m[103m-       [7m20[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+       [7m1267[27m |[49m[39m
    [36m[107m+    [7m   1268 |     // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+ [7m    > 1269 |     this.initError = new Error([27m);[49m[39m
    [35m[103m-       [7m21 |[27m[49m[39m
    [35m[103m-     > 22 | test('timeout', done => {[49m[39m
    [35m[103m-          [7m|[27m ^[49m[39m
    [36m[107m+       [7m  [27m[7m   |            [27m          ^[49m[39m
    [35m[103m-       [7m23 |   setTimeout(done, 50);[27m[49m[39m
    [35m[103m-       24 | }, 5);[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       [7m1270 |     this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/asyncFailures.test.js:22:1)"[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.479 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.576 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.446 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.136 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.07 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.017 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.958 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.021 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.247 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.373 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.305 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.883 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.89 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m

[1m[31m ‚Ä∫ 17 obsolete snapshots[39m[22m found.
.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-message-util/src/__tests__/[22m[1mmessages.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mconsoleAfterTeardown.test.ts[22m ([0m[1m[41m5.361 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mdeclarationErrors.test.ts[22m ([0m[1m[41m8.939 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1merrors if describe returns a Promise[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns a Promise 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    Returning a Promise from "describe" is not supported. Tests must be defined synchronously.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m- [7m      10[27m |[49m[39m
    [35m[103m-     [7m> 11 | describe('Promise describe errors', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       12 |   it('t', () => {});[49m[39m
    [36m[107m+       [7m752 |         }[27m[49m[39m
    [36m[107m+       753 |         if ((0, _jestUtil.isPromise)(describeReturnValue)) {[49m[39m
    [36m[107m+ [7m    > 754[27m |    [7m       declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+           |                              ^[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn Promise.resolve();[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m756[27m |   [7m [27m[7m       declarationError = new Error('A "describe" callback must not return a value.');[27m[49m[39m
    [36m[107m+       757 |         }[49m[39m

    [2m        at Object.describe (__tests__/describeReturnPromise.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m[22m
[2m     [90m 28 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m it([32m'errors if describe returns something'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:29:41)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1merrors if describe returns something[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns something 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    A "describe" callback must not return a value.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m-       10 |[49m[39m
    [35m[103m-     > 11 | describe('describe return errors', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m754 |           declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [36m[107m+     > 756 |           declarationError = new Error('A "describe" callback must not return a value.');[49m[39m
    [36m[107m+ [7m          |                             [27m ^[49m[39m
    [35m[103m-       [7m12[27m |   [7mit('t', () => {});[27m[49m[39m
    [36m[107m+       [7m757[27m |   [7m      }[27m[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn 42;[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m758[27m |   [7m [27m[7m     if (declarationError) {[27m[49m[39m
    [36m[107m+       759 |           this.it('encountered a declaration exception', () => {[49m[39m

    [2m        at Object.describe (__tests__/describeReturnSomething.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m[22m
[2m     [90m 37 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m })[33m;[39m[22m
[2m     [90m 40 |[39m[22m
[2m     [90m 41 |[39m it([32m'errors if describe throws'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:38:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m ([0m[1m[41m18.076 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.719 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.817 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.635 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.165 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.303 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnativeEsm.test.ts[22m ([0m[1m[41m18.345 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mfailures.test.ts[22m ([0m[1m[41m30.193 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mnot throwing Error objects[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `not throwing Error objects 5`

    [35m[103m- Snapshot  - 47[49m[39m
    [36m[107m+ Received  + 49[49m[39m

    [33m@@ -11,45 +11,45 @@[39m

    [2m    ‚óè Promise thrown during test[22m

    [2m      thrown: Promise {}[22m

    [35m[103m-       12 |[7m };[27m[49m[39m
    [36m[107m+       12[7m67[27m |[49m[39m
    [35m[103m-       1[7m3[27m |[49m[39m
    [35m[103m-     [7m> 14 | test('Promise thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m- [7m      15 |   throw Promise.resolve(5)[27m;[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+ [7m      1270 |     this.initError.name = ''[27m;[49m[39m
    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m271 |[27m[49m[39m
    [35m[103m-       1[7m7 |[27m[49m[39m
    [36m[107m+       1[7m272 |     // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:14:1)[22m

    [2m    ‚óè Boolean thrown during test[22m

    [2m      thrown: false[22m

    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m267 |[27m[49m[39m
    [35m[103m-       1[7m7[27m |[49m[39m
    [35m[103m-     [7m> 18 | test('Boolean thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       1[7m9[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [35m[103m-       20 |   throw false;[49m[39m
    [35m[103m-       21 | });[49m[39m
    [36m[107m+       1[7m270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:18:1)[22m

    [2m    ‚óè undefined thrown during test[22m

    [2m      thrown: undefined[22m

    [35m[103m-       [7m21 | });[27m[49m[39m
    [35m[103m-       22 |[49m[39m
    [35m[103m-     > 23 | test('undefined thrown during test', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [36m[107m+       1268 |     // eslint-disable-next-line unicorn/error-message[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m24[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       2[7m5[27m |   [7mthrow undefined;[27m[49m[39m
    [35m[103m-       26 | });[49m[39m
    [36m[107m+       [7m127[27m2 |   [7m  // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:23:1)[22m

    [2m    ‚óè Object thrown during test[22m

    [33m@@ -60,33 +60,33 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       26 |[7m });[27m[49m[39m
    [36m[107m+       [7m1[27m26[7m7[27m |[49m[39m
    [35m[103m-       [7m27[27m |[49m[39m
    [35m[103m-     [7m> 28 | test('Object thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       29 |   throw deepObject;[49m[39m
    [35m[103m-       30 | });[49m[39m
    [35m[103m-       31 |[49m[39m
    [36m[107m+       [7m1268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+       1270 |     this.initError.name = '';[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:28:1)[22m

    [2m    ‚óè Object with stack prop thrown during test[22m

    [2m      thrown: Object {[22m
    [2m        "stack": 42,[22m
    [2m      }[22m

    [35m[103m-       [7m30 | });[27m[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [35m[103m-       [7m3[27m1 |[49m[39m
    [35m[103m-     [7m> 32 | test('Object with stack prop thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m33[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       [7m34[27m |   [7mthrow {stack: 42};[27m[49m[39m
    [35m[103m-       35 | });[49m[39m
    [36m[107m+       [7m1272[27m |   [7m [27m[7m // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:32:1)[22m

    [2m    ‚óè Error during test[22m

    [33m@@ -125,17 +125,17 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       [7m45[27m |[49m[39m
    [35m[103m-       [7m46 | test('done(non-error)', done => {[27m[49m[39m
    [35m[103m- [7m    > 47 |[27m   [7md[27mon[7me(deepObject[27m);[49m[39m
    [36m[107m+       [7m930[27m |      [7m     message = check.message || undefined;[27m[49m[39m
    [36m[107m+       931 |         }[49m[39m
    [36m[107m+ [7m    > 932 |      [27m   [7mc[27mon[7mst errorAsErrorObject = checkIsError ? error : new Error(message[27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m- [7m      48 | }[27m);[49m[39m
    [36m[107m+ [7m [27m         |   [7m                                                        ^[27m[49m[39m
    [36m[107m+ [7m      933 |         const runnable = currentRunnable([27m);[49m[39m
    [35m[103m-       [7m4[27m9 |[49m[39m
    [35m[103m-       [7m50 | test('returned promise rejection', () => Promise.reject(deepObject))[27m;[49m[39m
    [36m[107m+       9[7m34[27m |[7m [27m      [7m  if (!runnable) {[27m[49m[39m
    [36m[107m+ [7m      935 |           errorAsErrorObject.message = `Caught error after test environment was torn down\n\n${errorAsErrorObject.message}`[27m;[49m[39m

    [2m        at Object.done (__tests__/duringTests.test.js:47:3)[22m

    [2m    ‚óè returned promise rejection[22m

    [33m@@ -146,12 +146,14 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       48 | [7m});[27m[49m[39m
    [36m[107m+       [7m2[27m48 | [7m      const asyncJestTestWithCallback = function (...args) {[27m[49m[39m
    [35m[103m-       49 |[49m[39m
    [35m[103m-     [7m> 50 | test('returned promise rejection', () => Promise.reject(deepObject)[27m);[49m[39m
    [36m[107m+       [7m2[27m49 |[7m [27m    [7m    // @ts-expect-error: Support possible extra args at runtime[27m[49m[39m
    [36m[107m+ [7m    > 250 |         return fn.apply(this, args[27m);[49m[39m
    [35m[103m-          | ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                             [27m ^[49m[39m
    [35m[103m-       51 |[49m[39m
    [36m[107m+       [7m2[27m51 |[7m       };[27m[49m[39m
    [36m[107m+       252 |       return originalFn.call(env, specName, asyncJestTestWithCallback, timeout);[49m[39m
    [36m[107m+       253 |     }[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:50:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 37 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'duringTests.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                               [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'throwObjectWithStackProp.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m     [90m 40 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 41 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:38:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 35[49m[39m
    [36m[107m+ Received  + 35[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', () =>[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,62 +37,62 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m12 |[27m[49m[39m
    [35m[103m-       13 | test('reject, but fail', () =>[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2153 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m [27m[7m [27m |       [7m          [27m                               ^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m [27m   [7m  16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |   [7mreturn actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+          [7m  | [27m         [7m     ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [35m[103m- [7m      20 |   expect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [35m[103m-       2[7m3[27m |   [7msetTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       2[7m119[27m |   [7m  const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m

    [2m  <REPLACED>[22m

    [35m[103m-       [7m20[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+       [7m1267[27m |[49m[39m
    [36m[107m+    [7m   1268 |     // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+ [7m    > 1269 |     this.initError = new Error([27m);[49m[39m
    [35m[103m-       [7m21 |[27m[49m[39m
    [35m[103m-     > 22 | test('timeout', done => {[49m[39m
    [35m[103m-          [7m|[27m ^[49m[39m
    [36m[107m+       [7m  [27m[7m   |            [27m          ^[49m[39m
    [35m[103m-       [7m23 |   setTimeout(done, 50);[27m[49m[39m
    [35m[103m-       24 | }, 5);[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       [7m1270 |     this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/asyncFailures.test.js:22:1)"[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m ([0m[1m[41m35.7 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.479 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.576 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.446 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.136 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.07 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.017 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.958 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.021 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.247 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.373 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.305 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.883 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.89 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 8 snapshots failed[39m[22m from 5 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m
[1m[33m ‚Ä∫ 21 snapshots obsolete [39m[22mfrom 2 test suites. [2mTo remove them all, re-run jest with `-u`.[22m
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m
       ‚Ä¢ updates existing snapshot: updated snapshot 1
       ‚Ä¢ works fine when function throws error with cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error with string cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error: initial write 1
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m
       ‚Ä¢ basic support: initial write 1
       ‚Ä¢ basic support: snapshot mismatch 1
       ‚Ä¢ basic support: snapshot passed 1
       ‚Ä¢ basic support: snapshot updated 1
       ‚Ä¢ do not indent empty lines: initial write 1
       ‚Ä¢ do not indent empty lines: snapshot passed 1
       ‚Ä¢ handles property matchers: initial write 1
       ‚Ä¢ handles property matchers: snapshot failed 1
       ‚Ä¢ handles property matchers: snapshot passed 1
       ‚Ä¢ handles property matchers: snapshot updated 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier: existing snapshot 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots: existing snapshot 1
       ‚Ä¢ multiple custom matchers and native matchers: multiple matchers 1
       ‚Ä¢ removes obsolete external snapshots: external snapshot cleaned 1
       ‚Ä¢ removes obsolete external snapshots: inline snapshot written 1
       ‚Ä¢ supports custom matchers with property matcher: custom matchers with property matcher 1
       ‚Ä¢ supports custom matchers: custom matchers 1

[1mTest Suites: [22m[1m[31m7 failed[39m[22m, [1m[32m113 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m26 failed[39m[22m, [1m[33m33 skipped[39m[22m, [1m[32m1661 passed[39m[22m, 1720 total
[1mSnapshots:   [22m[1m[31m8 failed[39m[22m, [1m[33m21 obsolete[39m[22m, [1m[32m954 passed[39m[22m, 962 total
[1mTime:[22m        54.39 s, estimated 60 s
[2mRan all test suites[22m[2m in [22m9[2m projects[22m[2m.[22m
Command failed. Attempt 3/3:
.
/app/packages/jest-message-util/src/__tests__/messages.test.ts

[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
......
/app/e2e/__tests__/consoleAfterTeardown.test.ts

[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[SKIP] Does not work on Jasmine
....[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[SKIP] Does not work on Jasmine
....[33m[1mfoo[22m:[39m
[33m[39m
[33mDeprecation message[39m
[33m[39m
[33m  [1mCLI Options Documentation:[22m[39m
[33m  https://jestjs.io/docs/cli[39m
[33m[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[SKIP] Does not work on Jasmine
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.....[SKIP] Does not work on Jasmine
.......[SKIP] Does not work on Jasmine
...............Warning: ReactDOMTestUtils is deprecated and will be removed in a future major release, because it exposes internal implementation details that are highly likely to change between releases. Upgrade to a modern testing library, such as @testing-library/react. See https://react.dev/warnings/react-dom-test-utils for more info.
Warning: ReactDOM.render is no longer supported in React 18. Use createRoot instead. Until you switch to the new API, your app will behave as if it's running React 17. Learn more: https://reactjs.org/link/switch-to-createroot
........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..........
/app/e2e/__tests__/declarationErrors.test.ts

[1m[31m  [1m‚óè [22m[1merrors if describe returns a Promise[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns a Promise 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    Returning a Promise from "describe" is not supported. Tests must be defined synchronously.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m- [7m      10[27m |[49m[39m
    [35m[103m-     [7m> 11 | describe('Promise describe errors', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       12 |   it('t', () => {});[49m[39m
    [36m[107m+       [7m752 |         }[27m[49m[39m
    [36m[107m+       753 |         if ((0, _jestUtil.isPromise)(describeReturnValue)) {[49m[39m
    [36m[107m+ [7m    > 754[27m |    [7m       declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+           |                              ^[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn Promise.resolve();[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m756[27m |   [7m [27m[7m       declarationError = new Error('A "describe" callback must not return a value.');[27m[49m[39m
    [36m[107m+       757 |         }[49m[39m

    [2m        at Object.describe (__tests__/describeReturnPromise.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m[22m
[2m     [90m 28 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m it([32m'errors if describe returns something'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:29:41)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1merrors if describe returns something[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns something 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    A "describe" callback must not return a value.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m-       10 |[49m[39m
    [35m[103m-     > 11 | describe('describe return errors', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m754 |           declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [36m[107m+     > 756 |           declarationError = new Error('A "describe" callback must not return a value.');[49m[39m
    [36m[107m+ [7m          |                             [27m ^[49m[39m
    [35m[103m-       [7m12[27m |   [7mit('t', () => {});[27m[49m[39m
    [36m[107m+       [7m757[27m |   [7m      }[27m[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn 42;[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m758[27m |   [7m [27m[7m     if (declarationError) {[27m[49m[39m
    [36m[107m+       759 |           this.it('encountered a declaration exception', () => {[49m[39m

    [2m        at Object.describe (__tests__/describeReturnSomething.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m[22m
[2m     [90m 37 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m })[33m;[39m[22m
[2m     [90m 40 |[39m[22m
[2m     [90m 41 |[39m it([32m'errors if describe throws'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:38:41)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
...............
/app/e2e/__tests__/nativeEsm.test.ts

[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[1m[31m ‚Ä∫ 1 snapshot test[39m[22m failed.
.
/app/e2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.179 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.752 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.202 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.942 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.978 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[1m[31m ‚Ä∫ 4 obsolete snapshots[39m[22m found.
........
/app/e2e/__tests__/failures.test.ts

[1m[31m  [1m‚óè [22m[1mnot throwing Error objects[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `not throwing Error objects 5`

    [35m[103m- Snapshot  - 47[49m[39m
    [36m[107m+ Received  + 49[49m[39m

    [33m@@ -11,45 +11,45 @@[39m

    [2m    ‚óè Promise thrown during test[22m

    [2m      thrown: Promise {}[22m

    [35m[103m-       12 |[7m };[27m[49m[39m
    [36m[107m+       12[7m67[27m |[49m[39m
    [35m[103m-       1[7m3[27m |[49m[39m
    [35m[103m-     [7m> 14 | test('Promise thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m- [7m      15 |   throw Promise.resolve(5)[27m;[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+ [7m      1270 |     this.initError.name = ''[27m;[49m[39m
    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m271 |[27m[49m[39m
    [35m[103m-       1[7m7 |[27m[49m[39m
    [36m[107m+       1[7m272 |     // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:14:1)[22m

    [2m    ‚óè Boolean thrown during test[22m

    [2m      thrown: false[22m

    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m267 |[27m[49m[39m
    [35m[103m-       1[7m7[27m |[49m[39m
    [35m[103m-     [7m> 18 | test('Boolean thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       1[7m9[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [35m[103m-       20 |   throw false;[49m[39m
    [35m[103m-       21 | });[49m[39m
    [36m[107m+       1[7m270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:18:1)[22m

    [2m    ‚óè undefined thrown during test[22m

    [2m      thrown: undefined[22m

    [35m[103m-       [7m21 | });[27m[49m[39m
    [35m[103m-       22 |[49m[39m
    [35m[103m-     > 23 | test('undefined thrown during test', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [36m[107m+       1268 |     // eslint-disable-next-line unicorn/error-message[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m24[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       2[7m5[27m |   [7mthrow undefined;[27m[49m[39m
    [35m[103m-       26 | });[49m[39m
    [36m[107m+       [7m127[27m2 |   [7m  // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:23:1)[22m

    [2m    ‚óè Object thrown during test[22m

    [33m@@ -60,33 +60,33 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       26 |[7m });[27m[49m[39m
    [36m[107m+       [7m1[27m26[7m7[27m |[49m[39m
    [35m[103m-       [7m27[27m |[49m[39m
    [35m[103m-     [7m> 28 | test('Object thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       29 |   throw deepObject;[49m[39m
    [35m[103m-       30 | });[49m[39m
    [35m[103m-       31 |[49m[39m
    [36m[107m+       [7m1268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+       1270 |     this.initError.name = '';[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:28:1)[22m

    [2m    ‚óè Object with stack prop thrown during test[22m

    [2m      thrown: Object {[22m
    [2m        "stack": 42,[22m
    [2m      }[22m

    [35m[103m-       [7m30 | });[27m[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [35m[103m-       [7m3[27m1 |[49m[39m
    [35m[103m-     [7m> 32 | test('Object with stack prop thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m33[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       [7m34[27m |   [7mthrow {stack: 42};[27m[49m[39m
    [35m[103m-       35 | });[49m[39m
    [36m[107m+       [7m1272[27m |   [7m [27m[7m // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:32:1)[22m

    [2m    ‚óè Error during test[22m

    [33m@@ -125,17 +125,17 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       [7m45[27m |[49m[39m
    [35m[103m-       [7m46 | test('done(non-error)', done => {[27m[49m[39m
    [35m[103m- [7m    > 47 |[27m   [7md[27mon[7me(deepObject[27m);[49m[39m
    [36m[107m+       [7m930[27m |      [7m     message = check.message || undefined;[27m[49m[39m
    [36m[107m+       931 |         }[49m[39m
    [36m[107m+ [7m    > 932 |      [27m   [7mc[27mon[7mst errorAsErrorObject = checkIsError ? error : new Error(message[27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m- [7m      48 | }[27m);[49m[39m
    [36m[107m+ [7m [27m         |   [7m                                                        ^[27m[49m[39m
    [36m[107m+ [7m      933 |         const runnable = currentRunnable([27m);[49m[39m
    [35m[103m-       [7m4[27m9 |[49m[39m
    [35m[103m-       [7m50 | test('returned promise rejection', () => Promise.reject(deepObject))[27m;[49m[39m
    [36m[107m+       9[7m34[27m |[7m [27m      [7m  if (!runnable) {[27m[49m[39m
    [36m[107m+ [7m      935 |           errorAsErrorObject.message = `Caught error after test environment was torn down\n\n${errorAsErrorObject.message}`[27m;[49m[39m

    [2m        at Object.done (__tests__/duringTests.test.js:47:3)[22m

    [2m    ‚óè returned promise rejection[22m

    [33m@@ -146,12 +146,14 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       48 | [7m});[27m[49m[39m
    [36m[107m+       [7m2[27m48 | [7m      const asyncJestTestWithCallback = function (...args) {[27m[49m[39m
    [35m[103m-       49 |[49m[39m
    [35m[103m-     [7m> 50 | test('returned promise rejection', () => Promise.reject(deepObject)[27m);[49m[39m
    [36m[107m+       [7m2[27m49 |[7m [27m    [7m    // @ts-expect-error: Support possible extra args at runtime[27m[49m[39m
    [36m[107m+ [7m    > 250 |         return fn.apply(this, args[27m);[49m[39m
    [35m[103m-          | ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                             [27m ^[49m[39m
    [35m[103m-       51 |[49m[39m
    [36m[107m+       [7m2[27m51 |[7m       };[27m[49m[39m
    [36m[107m+       252 |       return originalFn.call(env, specName, asyncJestTestWithCallback, timeout);[49m[39m
    [36m[107m+       253 |     }[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:50:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 37 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'duringTests.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                               [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'throwObjectWithStackProp.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m     [90m 40 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 41 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:38:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 35[49m[39m
    [36m[107m+ Received  + 35[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', () =>[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,62 +37,62 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m12 |[27m[49m[39m
    [35m[103m-       13 | test('reject, but fail', () =>[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2153 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m [27m[7m [27m |       [7m          [27m                               ^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m [27m   [7m  16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |   [7mreturn actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+          [7m  | [27m         [7m     ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [35m[103m- [7m      20 |   expect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [35m[103m-       2[7m3[27m |   [7msetTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       2[7m119[27m |   [7m  const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m

    [2m  <REPLACED>[22m

    [35m[103m-       [7m20[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+       [7m1267[27m |[49m[39m
    [36m[107m+    [7m   1268 |     // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+ [7m    > 1269 |     this.initError = new Error([27m);[49m[39m
    [35m[103m-       [7m21 |[27m[49m[39m
    [35m[103m-     > 22 | test('timeout', done => {[49m[39m
    [35m[103m-          [7m|[27m ^[49m[39m
    [36m[107m+       [7m  [27m[7m   |            [27m          ^[49m[39m
    [35m[103m-       [7m23 |   setTimeout(done, 50);[27m[49m[39m
    [35m[103m-       24 | }, 5);[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       [7m1270 |     this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/asyncFailures.test.js:22:1)"[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[1m[31m ‚Ä∫ 2 snapshot tests[39m[22m failed.
.
/app/e2e/__tests__/toMatchInlineSnapshot.test.ts

[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.262 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.806 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.284 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.084 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.027 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.001 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.949 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.009 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.262 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.356 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.379 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.86 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.914 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m

[1m[31m ‚Ä∫ 17 obsolete snapshots[39m[22m found.
.


[1mSummary of all failing tests[22m
[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2mpackages/jest-message-util/src/__tests__/[22m[1mmessages.test.ts[22m
[1m[31m  [1m‚óè [22m[1mshould return the error cause if there is one[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the error cause if there is one 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [2m  "  <bold>‚óè </intensity>Test suite failed to run[22m

    [2m      Test exception[22m

    [36m[107m+     </></>[49m[39m
    [36m[107m+[49m[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:564:17)</intensity>[22m

    [2m      Cause:[22m
    [2m       Cause Error[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:565:12)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 575 |[39m     }[33m,[39m[22m
[2m     [90m 576 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 577 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 578 |[39m })[33m;[39m[22m
[2m     [90m 579 |[39m[22m
[2m     [90m 580 |[39m it([32m'should return the inner errors of an AggregateError'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:577:19)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould return the inner errors of an AggregateError[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `should return the inner errors of an AggregateError 1`

    [35m[103m- Snapshot  - 0[49m[39m
    [36m[107m+ Received  + 4[49m[39m

    [33m@@ -5,12 +5,16 @@[39m
    [2m        <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:20)</intensity>[22m

    [2m      Errors contained in AggregateError:[22m
    [2m       Err 1[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:40)</intensity>[22m

    [2m       Err 2[22m

    [36m[107m+         </></>[49m[39m
    [36m[107m+[49m[39m
    [2m            <dim>at Object.<anonymous> (</intensity>packages/jest-message-util/src/__tests__/messages.test.ts<dim>:582:60)</intensity>[22m

    [2m  "[22m
[2m[22m
[2m    [0m [90m 591 |[39m     }[33m,[39m[22m
[2m     [90m 592 |[39m   )[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 593 |[39m   expect(message)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m     |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 594 |[39m })[33m;[39m[22m
[2m     [90m 595 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36mpackages/jest-message-util/src/__tests__/messages.test.ts[39m[0m[2m:593:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mconsoleAfterTeardown.test.ts[22m
[1m[31m  [1m‚óè [22m[1mconsole printing[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `console printing 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [33m@@ -2,12 +2,12 @@[39m


    [2m    ‚óè  Cannot log after tests are done. Did you forget to wait for something async in your test?[22m
    [2m      Attempted to log "hello!".[22m

    [35m[103m-       1[7m0 |   // Named function to have the function be named the same in jasmine and circus[27m[49m[39m
    [36m[107m+       1[7m45 |   }[27m[49m[39m
    [35m[103m-       1[7m1[27m |  [7m [27m[7mnew Promise(resolve => setTimeout(resolve, 500)).then(function log([27m) {[49m[39m
    [36m[107m+       1[7m46[27m |  [7m log(firstArg, ...rest[27m) {[49m[39m
    [35m[103m-     > 1[7m2[27m |     [7mconsole.log('hello!'[27m);[49m[39m
    [36m[107m+     > 1[7m47[27m |     [7mthis._log('log', (0, _util().format)(firstArg, ...rest)[27m);[49m[39m
    [35m[103m-          |          [7m  [27m[7m [27m^[49m[39m
    [36m[107m+ [7m [27m         |          ^[49m[39m
    [35m[103m-       1[7m3[27m |   }[7m);[27m[49m[39m
    [36m[107m+       1[7m48[27m |   }[49m[39m
    [35m[103m-       14 | [7m});[27m[49m[39m
    [36m[107m+       14[7m9[27m | [7m  time(label = 'default') {[27m[49m[39m
    [35m[103m-       15 |"[49m[39m
    [36m[107m+       15[7m0[27m |[7m     if (this._timers[label] != null) {[27m"[49m[39m
[2m[22m
[2m    [0m [90m 17 |[39m   [36mconst[39m withoutTrace [33m=[39m rest[33m.[39msplit([32m'\n'[39m)[33m.[39mslice([35m0[39m[33m,[39m [33m-[39m[35m3[39m)[33m.[39mjoin([32m'\n'[39m)[33m;[39m[22m
[2m     [90m 18 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 19 |[39m   expect(withoutTrace)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                        [31m[1m^[22m[2m[39m[22m
[2m     [90m 20 |[39m })[33m;[39m[22m
[2m     [90m 21 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/consoleAfterTeardown.test.ts[39m[0m[2m:19:24)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mdeclarationErrors.test.ts[22m ([0m[1m[41m9.688 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1merrors if describe returns a Promise[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns a Promise 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    Returning a Promise from "describe" is not supported. Tests must be defined synchronously.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m- [7m      10[27m |[49m[39m
    [35m[103m-     [7m> 11 | describe('Promise describe errors', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       12 |   it('t', () => {});[49m[39m
    [36m[107m+       [7m752 |         }[27m[49m[39m
    [36m[107m+       753 |         if ((0, _jestUtil.isPromise)(describeReturnValue)) {[49m[39m
    [36m[107m+ [7m    > 754[27m |    [7m       declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+           |                              ^[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn Promise.resolve();[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m756[27m |   [7m [27m[7m       declarationError = new Error('A "describe" callback must not return a value.');[27m[49m[39m
    [36m[107m+       757 |         }[49m[39m

    [2m        at Object.describe (__tests__/describeReturnPromise.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 27 |[39m[22m
[2m     [90m 28 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 29 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 30 |[39m })[33m;[39m[22m
[2m     [90m 31 |[39m[22m
[2m     [90m 32 |[39m it([32m'errors if describe returns something'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:29:41)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1merrors if describe returns something[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `errors if describe returns something 1`

    [35m[103m- Snapshot  - 7[49m[39m
    [36m[107m+ Received  + 7[49m[39m

    [2m  "    A "describe" callback must not return a value.[22m

    [35m[103m-       [7m 9 | 'use strict';[27m[49m[39m
    [35m[103m-       10 |[49m[39m
    [35m[103m-     > 11 | describe('describe return errors', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m754 |           declarationError = new Error('Returning a Promise from "describe" is not supported. Tests must be defined synchronously.');[27m[49m[39m
    [36m[107m+       755 |         } else if (describeReturnValue !== undefined) {[49m[39m
    [36m[107m+     > 756 |           declarationError = new Error('A "describe" callback must not return a value.');[49m[39m
    [36m[107m+ [7m          |                             [27m ^[49m[39m
    [35m[103m-       [7m12[27m |   [7mit('t', () => {});[27m[49m[39m
    [36m[107m+       [7m757[27m |   [7m      }[27m[49m[39m
    [35m[103m-       [7m13[27m |   [7mreturn 42;[27m[49m[39m
    [35m[103m-       14 | });[49m[39m
    [36m[107m+       [7m758[27m |   [7m [27m[7m     if (declarationError) {[27m[49m[39m
    [36m[107m+       759 |           this.it('encountered a declaration exception', () => {[49m[39m

    [2m        at Object.describe (__tests__/describeReturnSomething.test.js:11:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m[22m
[2m     [90m 37 |[39m   expect(result[33m.[39mexitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(extractMessage(result[33m.[39mstderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                                         [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m })[33m;[39m[22m
[2m     [90m 40 |[39m[22m
[2m     [90m 41 |[39m it([32m'errors if describe throws'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/declarationErrors.test.ts[39m[0m[2m:38:41)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mnativeEsm.test.ts[22m ([0m[1m[41m18.99 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mruns test with native ESM[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `runs test with native ESM 1`

    [35m[103m- Snapshot  - 2[49m[39m
    [36m[107m+ Received  + 2[49m[39m

    [35m[103m- Test Suites: 1 [7mpass[27med, 1 total[49m[39m
    [36m[107m+ Test Suites: 1 [7mfail[27med, 1 total[49m[39m
    [35m[103m- Tests:       [7m3[27m1 passed, 31 total[49m[39m
    [36m[107m+ Tests:       1[7m failed, 30[27m passed, 31 total[49m[39m
    [2m  Snapshots:   0 total[22m
    [2m  Time:        <<REPLACED>>[22m
    [2m  Ran all test suites matching native-esm.test.js.[22m
[2m[22m
[2m    [0m [90m 55 |[39m   [36mconst[39m {summary} [33m=[39m extractSummary(stderr)[33m;[39m[22m
[2m     [90m 56 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 57 |[39m   expect(summary)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                   [31m[1m^[22m[2m[39m[22m
[2m     [90m 58 |[39m   expect(stdout)[33m.[39mtoBe([32m''[39m)[33m;[39m[22m
[2m     [90m 59 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 60 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/nativeEsm.test.ts[39m[0m[2m:57:19)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m ([0m[1m[41m18.626 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mworks fine when function throws error[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.179 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error.test.js."[39m
[2m[22m
[2m    [0m [90m 38 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 39 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 40 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 41 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 42 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 43 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:40:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.752 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 71 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 72 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 75 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 76 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:73:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks fine when function throws error with string cause[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/works-fine-when-function-throws-error-with-string-cause.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.202 s[39m
    [31mRan all test suites matching works-fine-when-function-throws-error-with-string-cause.test.js."[39m
[2m[22m
[2m    [0m [90m 101 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 102 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 103 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 104 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write with cause'[39m)[33m;[39m[22m
[2m     [90m 105 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 106 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:103:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mupdates existing snapshot[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot updated from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/updates-existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.942 s[39m
    [31mRan all test suites matching updates-existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 127 |[39m     ])[33m;[39m[22m
[2m     [90m 128 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 129 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot updated from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 130 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'updated snapshot'[39m)[33m;[39m[22m
[2m     [90m 131 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 132 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:129:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mshould support rejecting promises[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/should-support-rejecting-promises.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.978 s[39m
    [31mRan all test suites matching should-support-rejecting-promises.test.js."[39m
[2m[22m
[2m    [0m [90m 163 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 164 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 165 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 166 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 167 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 168 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toThrowErrorMatchingInlineSnapshot.test.ts[39m[0m[2m:165:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mfailures.test.ts[22m ([0m[1m[41m30.614 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mnot throwing Error objects[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `not throwing Error objects 5`

    [35m[103m- Snapshot  - 47[49m[39m
    [36m[107m+ Received  + 49[49m[39m

    [33m@@ -11,45 +11,45 @@[39m

    [2m    ‚óè Promise thrown during test[22m

    [2m      thrown: Promise {}[22m

    [35m[103m-       12 |[7m };[27m[49m[39m
    [36m[107m+       12[7m67[27m |[49m[39m
    [35m[103m-       1[7m3[27m |[49m[39m
    [35m[103m-     [7m> 14 | test('Promise thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m- [7m      15 |   throw Promise.resolve(5)[27m;[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+ [7m      1270 |     this.initError.name = ''[27m;[49m[39m
    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m271 |[27m[49m[39m
    [35m[103m-       1[7m7 |[27m[49m[39m
    [36m[107m+       1[7m272 |     // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:14:1)[22m

    [2m    ‚óè Boolean thrown during test[22m

    [2m      thrown: false[22m

    [35m[103m-       1[7m6 | });[27m[49m[39m
    [36m[107m+       1[7m267 |[27m[49m[39m
    [35m[103m-       1[7m7[27m |[49m[39m
    [35m[103m-     [7m> 18 | test('Boolean thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       1[7m9[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [35m[103m-       20 |   throw false;[49m[39m
    [35m[103m-       21 | });[49m[39m
    [36m[107m+       1[7m270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:18:1)[22m

    [2m    ‚óè undefined thrown during test[22m

    [2m      thrown: undefined[22m

    [35m[103m-       [7m21 | });[27m[49m[39m
    [35m[103m-       22 |[49m[39m
    [35m[103m-     > 23 | test('undefined thrown during test', () => {[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [36m[107m+       1268 |     // eslint-disable-next-line unicorn/error-message[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m24[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       2[7m5[27m |   [7mthrow undefined;[27m[49m[39m
    [35m[103m-       26 | });[49m[39m
    [36m[107m+       [7m127[27m2 |   [7m  // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:23:1)[22m

    [2m    ‚óè Object thrown during test[22m

    [33m@@ -60,33 +60,33 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       26 |[7m });[27m[49m[39m
    [36m[107m+       [7m1[27m26[7m7[27m |[49m[39m
    [35m[103m-       [7m27[27m |[49m[39m
    [35m[103m-     [7m> 28 | test('Object thrown during test', () => {[27m[49m[39m
    [35m[103m-          | ^[49m[39m
    [35m[103m-       29 |   throw deepObject;[49m[39m
    [35m[103m-       30 | });[49m[39m
    [35m[103m-       31 |[49m[39m
    [36m[107m+       [7m1268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+            |                      ^[49m[39m
    [36m[107m+       1270 |     this.initError.name = '';[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:28:1)[22m

    [2m    ‚óè Object with stack prop thrown during test[22m

    [2m      thrown: Object {[22m
    [2m        "stack": 42,[22m
    [2m      }[22m

    [35m[103m-       [7m30 | });[27m[49m[39m
    [36m[107m+       [7m1267 |[27m[49m[39m
    [35m[103m-       [7m3[27m1 |[49m[39m
    [35m[103m-     [7m> 32 | test('Object with stack prop thrown during test', () => {[27m[49m[39m
    [35m[103m- [7m         |[27m ^[49m[39m
    [36m[107m+       1[7m268[27m |    [7m // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+     > 1269 |     this.initError = new Error();[49m[39m
    [36m[107m+ [7m           |                     [27m ^[49m[39m
    [35m[103m-       [7m33[27m |   [7m// eslint-disable-next-line no-throw-literal[27m[49m[39m
    [36m[107m+       [7m1270[27m |   [7m  this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [35m[103m-       [7m34[27m |   [7mthrow {stack: 42};[27m[49m[39m
    [35m[103m-       35 | });[49m[39m
    [36m[107m+       [7m1272[27m |   [7m [27m[7m // Without this line v8 stores references to all closures[27m[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:32:1)[22m

    [2m    ‚óè Error during test[22m

    [33m@@ -125,17 +125,17 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       [7m45[27m |[49m[39m
    [35m[103m-       [7m46 | test('done(non-error)', done => {[27m[49m[39m
    [35m[103m- [7m    > 47 |[27m   [7md[27mon[7me(deepObject[27m);[49m[39m
    [36m[107m+       [7m930[27m |      [7m     message = check.message || undefined;[27m[49m[39m
    [36m[107m+       931 |         }[49m[39m
    [36m[107m+ [7m    > 932 |      [27m   [7mc[27mon[7mst errorAsErrorObject = checkIsError ? error : new Error(message[27m);[49m[39m
    [35m[103m-          |   [7m^[27m[49m[39m
    [35m[103m- [7m      48 | }[27m);[49m[39m
    [36m[107m+ [7m [27m         |   [7m                                                        ^[27m[49m[39m
    [36m[107m+ [7m      933 |         const runnable = currentRunnable([27m);[49m[39m
    [35m[103m-       [7m4[27m9 |[49m[39m
    [35m[103m-       [7m50 | test('returned promise rejection', () => Promise.reject(deepObject))[27m;[49m[39m
    [36m[107m+       9[7m34[27m |[7m [27m      [7m  if (!runnable) {[27m[49m[39m
    [36m[107m+ [7m      935 |           errorAsErrorObject.message = `Caught error after test environment was torn down\n\n${errorAsErrorObject.message}`[27m;[49m[39m

    [2m        at Object.done (__tests__/duringTests.test.js:47:3)[22m

    [2m    ‚óè returned promise rejection[22m

    [33m@@ -146,12 +146,14 @@[39m
    [2m            "tooDeep": [Object],[22m
    [2m          },[22m
    [2m        ],[22m
    [2m      }[22m

    [35m[103m-       48 | [7m});[27m[49m[39m
    [36m[107m+       [7m2[27m48 | [7m      const asyncJestTestWithCallback = function (...args) {[27m[49m[39m
    [35m[103m-       49 |[49m[39m
    [35m[103m-     [7m> 50 | test('returned promise rejection', () => Promise.reject(deepObject)[27m);[49m[39m
    [36m[107m+       [7m2[27m49 |[7m [27m    [7m    // @ts-expect-error: Support possible extra args at runtime[27m[49m[39m
    [36m[107m+ [7m    > 250 |         return fn.apply(this, args[27m);[49m[39m
    [35m[103m-          | ^[49m[39m
    [36m[107m+ [7m [27m         |[7m                             [27m ^[49m[39m
    [35m[103m-       51 |[49m[39m
    [36m[107m+       [7m2[27m51 |[7m       };[27m[49m[39m
    [36m[107m+       252 |       return originalFn.call(env, specName, asyncJestTestWithCallback, timeout);[49m[39m
    [36m[107m+       253 |     }[49m[39m

    [2m        at Object.test (__tests__/duringTests.test.js:50:1)"[22m
[2m[22m
[2m    [0m [90m 36 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 37 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'duringTests.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 38 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                               [31m[1m^[22m[2m[39m[22m
[2m     [90m 39 |[39m   stderr [33m=[39m runJest(dir[33m,[39m [[32m'throwObjectWithStackProp.test.js'[39m])[33m.[39mstderr[33m;[39m[22m
[2m     [90m 40 |[39m   expect(cleanStderr(stderr))[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 41 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:38:31)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mworks with async failures[39m[22m

    [2mexpect([22m[36m[107mreceived[49m[39m[2m).[22mtoMatchSnapshot[2m()[22m

    Snapshot name: `works with async failures 1`

    [35m[103m- Snapshot  - 35[49m[39m
    [36m[107m+ Received  + 35[49m[39m

    [33m@@ -15,17 +15,17 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m 9 |[27m[49m[39m
    [35m[103m-       10 | test('resolve, but fail', () =>[49m[39m
    [35m[103m- [7m    > 11 |   expect(Promise.resolve({foo: 'bar'})).resolves.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2138 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m  [27m |       [7m            [27m                               ^[49m[39m
    [36m[107m+       [7m2139[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2140 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       [7m1[27m2 |[49m[39m
    [35m[103m-    [7m   13 | test('reject, but fail', () =>[27m[49m[39m
    [36m[107m+       2[7m141[27m |   [7mreturn actualWrapper.then(result => makeThrowingMatcher(matcher, isNot, 'resolves', result, innerErr).apply(null, args), error => {[27m[49m[39m
    [35m[103m-       14 |   [7mexpect(P[27mromise[7m.[27mreject[7m({foo: 'bar'})).rejects.toEqual({baz: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2[27m14[7m2[27m |   [7m  [27m[7mouterErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mreject[7med instead of resolved\n' + `Rejected to value: ${matcherUtils.printReceived(error)}`;[27m[49m[39m
    [36m[107m+ [7m      2143 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:11:50)[22m

    [2m    ‚óè reject, but fail[22m

    [33m@@ -37,62 +37,62 @@[39m
    [2m        Object {[22m
    [2m      -   "baz": "bar",[22m
    [2m      +   "foo": "bar",[22m
    [2m        }[22m

    [35m[103m-       [7m12 |[27m[49m[39m
    [35m[103m-       13 | test('reject, but fail', () =>[49m[39m
    [35m[103m- [7m    > 14 |   expect(Promise.reject({foo: 'bar'})).rejects.toEqual({baz: 'bar'}[27m));[49m[39m
    [36m[107m+       [7m2153 |     throw new JestAssertionError(matcherUtils.matcherErrorMessage(matcherUtils.matcherHint(matcherName, undefined, '', options), `${matcherUtils.RECEIVED_COLOR('received')} value must be a promise or a function returning a promise`, matcherUtils.printWithType('Received', actual, matcherUtils.printReceived)[27m));[49m[39m
    [35m[103m-       [7m [27m[7m [27m |       [7m          [27m                               ^[49m[39m
    [36m[107m+       [7m2154[27m |   [7m}[27m[49m[39m
    [36m[107m+     [7m> 2155 |   const innerErr = new JestAssertionError();[27m[49m[39m
    [36m[107m+            [7m|[27m                    ^[49m[39m
    [35m[103m-       15 |[49m[39m
    [35m[103m- [7m [27m   [7m  16 | test('expect reject', ()[27m =>[49m[39m
    [36m[107m+       [7m2[27m15[7m6[27m |   [7mreturn actualWrapper.then(result[27m =>[7m {[27m[49m[39m
    [35m[103m-       [7m1[27m7 |   [7mexpect(P[27mromise[7m.[27mresolve[7m({foo: 'bar'})).rejects.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m215[27m7 |   [7m  outerErr.message = `${matcherUtils.matcherHint(matcherName, undefined, '', options)}\n\n` + 'Received p[27mromise[7m [27mresolve[7md instead of rejected\n' + `Resolved to value: ${matcherUtils.printReceived(result)}`;[27m[49m[39m
    [36m[107m+ [7m      2158 |     throw outerErr[27m;[49m[39m

    [2m        at Object.toEqual (__tests__/asyncFailures.test.js:14:48)[22m

    [2m    ‚óè expect reject[22m

    [2m      expect(received).rejects.toEqual()[22m

    [2m      Received promise resolved instead of rejected[22m
    [2m      Resolved to value: {"foo": "bar"}[22m

    [35m[103m-       [7m15 |[27m[49m[39m
    [35m[103m-       16 | test('expect reject', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > [7m17[27m |   [7mexpect(Promise.resolve({foo: 'bar'})).rejects.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+     > [7m2116[27m |   [7mconst err = new JestAssertionError([27m);[49m[39m
    [35m[103m-          [7m|[27m   [7m^[27m[49m[39m
    [35m[103m-       [7m18 |[27m[49m[39m
    [36m[107m+          [7m  | [27m         [7m     ^[27m[49m[39m
    [35m[103m-       [7m19 | test('expect resolve', () =>[27m[49m[39m
    [35m[103m- [7m      20 |   expect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}))[27m;[49m[39m
    [36m[107m+       [7m2117 |   for (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [36m[107m+ [7m      2119 |     const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:17:3)[22m

    [2m    ‚óè expect resolve[22m

    [2m      expect(received).resolves.toEqual()[22m

    [2m      Received promise rejected instead of resolved[22m
    [2m      Rejected to value: {"foo": "bar"}[22m

    [35m[103m-       [7m18 |[27m[49m[39m
    [35m[103m-       19 | test('expect resolve', () =>[49m[39m
    [36m[107m+       [7m2114 |     }[27m[49m[39m
    [36m[107m+       2115 |   };[49m[39m
    [35m[103m-     > 2[7m0[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'}));[27m[49m[39m
    [35m[103m- [7m         |[27m   ^[49m[39m
    [36m[107m+     > 2[7m116[27m |   [7mconst err = new JestAssertionError();[27m[49m[39m
    [36m[107m+ [7m           |            [27m   ^[49m[39m
    [35m[103m-       21 |[49m[39m
    [35m[103m-    [7m   22 | test('timeout', done => {[27m[49m[39m
    [36m[107m+       21[7m17[27m |   [7mfor (const name of Object.keys(allMatchers)) {[27m[49m[39m
    [36m[107m+       2118 |     const matcher = allMatchers[name];[49m[39m
    [35m[103m-       2[7m3[27m |   [7msetTimeout(done, 50)[27m;[49m[39m
    [36m[107m+       2[7m119[27m |   [7m  const promiseMatcher = getPromiseMatcher(name, matcher) || matcher[27m;[49m[39m

    [2m        at Object.expect (__tests__/asyncFailures.test.js:20:3)[22m

    [2m    ‚óè timeout[22m

    [2m  <REPLACED>[22m

    [35m[103m-       [7m20[27m |   [7mexpect(Promise.reject({foo: 'bar'})).resolves.toEqual({foo: 'bar'})[27m);[49m[39m
    [36m[107m+       [7m1267[27m |[49m[39m
    [36m[107m+    [7m   1268 |     // eslint-disable-next-line unicorn/error-message[27m[49m[39m
    [36m[107m+ [7m    > 1269 |     this.initError = new Error([27m);[49m[39m
    [35m[103m-       [7m21 |[27m[49m[39m
    [35m[103m-     > 22 | test('timeout', done => {[49m[39m
    [35m[103m-          [7m|[27m ^[49m[39m
    [36m[107m+       [7m  [27m[7m   |            [27m          ^[49m[39m
    [35m[103m-       [7m23 |   setTimeout(done, 50);[27m[49m[39m
    [35m[103m-       24 | }, 5);[49m[39m
    [35m[103m-       25 |[49m[39m
    [36m[107m+       [7m1270 |     this.initError.name = '';[27m[49m[39m
    [36m[107m+       1271 |[49m[39m
    [36m[107m+       1272 |     // Without this line v8 stores references to all closures[49m[39m

    [2m        at Object.test (__tests__/asyncFailures.test.js:22:1)"[22m
[2m[22m
[2m    [0m [90m 71 |[39m     [33m.[39mreplace([35m/.*Timeout - Async callback was not.*/[39m[33m,[39m [32m'<REPLACED>'[39m)[33m;[39m[22m
[2m     [90m 72 |[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 73 |[39m   expect(result)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m    |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 74 |[39m })[33m;[39m[22m
[2m     [90m 75 |[39m[22m
[2m     [90m 76 |[39m test([32m'works with snapshot failures'[39m[33m,[39m () [33m=>[39m {[0m[22m
[2m[22m
[2m      [2mat Object.toMatchSnapshot ([22m[2m[0m[36me2e/__tests__/failures.test.ts[39m[0m[2m:73:18)[22m[2m[22m

[0m[7m[1m[31m FAIL [39m[22m[27m[0m [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m ([0m[1m[41m36.113 s[49m[22m[0m)
[1m[31m  [1m‚óè [22m[1mbasic support[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/basic-support.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        2.262 s[39m
    [31mRan all test suites matching basic-support.test.js."[39m
[2m[22m
[2m    [0m [90m 32 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 33 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 34 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 35 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 36 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 37 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:34:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mdo not indent empty lines[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/empty-line-indent.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.806 s[39m
    [31mRan all test suites matching empty-line-indent.test.js."[39m
[2m[22m
[2m    [0m [90m 83 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 84 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 85 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m    |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 86 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 87 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 88 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:85:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles property matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/handle-property-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.284 s[39m
    [31mRan all test suites matching handle-property-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 109 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 110 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 111 |[39m     expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 112 |[39m     expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 113 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'initial write'[39m)[33m;[39m[22m
[2m     [90m 114 |[39m   }[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:111:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mremoves obsolete external snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"Snapshots:   1 obsolete, 1 written, 1 total"[39m
    Received string:    [31m"FAIL __tests__/removes-obsolete-external-snapshots.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.084 s[39m
    [31mRan all test suites matching removes-obsolete-external-snapshots.test.js."[39m
[2m[22m
[2m    [0m [90m 178 |[39m     [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 179 |[39m     [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 180 |[39m     expect(stderr)[33m.[39mtoMatch([32m'Snapshots:   1 obsolete, 1 written, 1 total'[39m)[33m;[39m[22m
[2m     [90m     |[39m                    [31m[1m^[22m[2m[39m[22m
[2m     [90m 181 |[39m     expect(exitCode)[33m.[39mtoBe([35m1[39m)[33m;[39m[22m
[2m     [90m 182 |[39m     expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'inline snapshot written'[39m)[33m;[39m[22m
[2m     [90m 183 |[39m     expect(fs[33m.[39mexistsSync(snapshotPath))[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:180:20)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.027 s[39m
    [31mRan all test suites matching async-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 211 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 212 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 213 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 214 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 215 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 216 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:213:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports async tests[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.001 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 228 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 229 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 230 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 231 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 232 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 233 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:230:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mwrites snapshots with non-literals in expect(...)[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/async.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.949 s[39m
    [31mRan all test suites matching async.test.js."[39m
[2m[22m
[2m    [0m [90m 245 |[39m[22m
[2m     [90m 246 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 247 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 248 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 249 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot()[33m;[39m[22m
[2m     [90m 250 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:247:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mhandles mocking native modules prettier relies on[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/mockFail.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.009 s[39m
    [31mRan all test suites matching mockFail.test.js."[39m
[2m[22m
[2m    [0m [90m 264 |[39m   writeFiles([33mTESTS_DIR[39m[33m,[39m {[filename][33m:[39m test})[33m;[39m[22m
[2m     [90m 265 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 266 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 267 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 268 |[39m })[33m;[39m[22m
[2m     [90m 269 |[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:266:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.262 s[39m
    [31mRan all test suites matching custom-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 285 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 286 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 287 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 288 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 289 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers'[39m)[33m;[39m[22m
[2m     [90m 290 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:287:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1msupports custom matchers with property matcher[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"2 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/custom-matchers-with-property-matcher.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.356 s[39m
    [31mRan all test suites matching custom-matchers-with-property-matcher.test.js."[39m
[2m[22m
[2m    [0m [90m 327 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 328 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 329 |[39m   expect(stderr)[33m.[39mtoMatch([32m'2 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 330 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 331 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'custom matchers with property matcher'[39m)[33m;[39m[22m
[2m     [90m 332 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:329:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mmultiple custom matchers and native matchers[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"4 snapshots written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/multiple-matchers.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1210 |     ...object,[39m
    [31m      1211 |     [key]: [...(object[key] || []), inlineSnapshot][39m
    [31m    > 1212 |   };[39m
    [31m           |    ^[39m
    [31m      1213 | }, {});[39m
    [31m      1214 | const groupSnapshotsByFrame = groupSnapshotsBy(({[39m
    [31m      1215 |   frame: {¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1212:4)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        1.379 s[39m
    [31mRan all test suites matching multiple-matchers.test.js."[39m
[2m[22m
[2m    [0m [90m 355 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 356 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 357 |[39m   expect(stderr)[33m.[39mtoMatch([32m'4 snapshots written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 358 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 359 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'multiple matchers'[39m)[33m;[39m[22m
[2m     [90m 360 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:357:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.86 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 376 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 377 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 378 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 379 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 380 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 381 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:378:18)[22m[2m[22m

[1m[31m  [1m‚óè [22m[1mindentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier[39m[22m

    [2mexpect([22m[31mreceived[39m[2m).[22mtoMatch[2m([22m[32mexpected[39m[2m)[22m

    Expected substring: [32m"1 snapshot written from 1 test suite."[39m
    Received string:    [31m"FAIL __tests__/existing-snapshot.test.js[39m
    [31m  ‚óè Test suite failed to run¬∑[39m
    [31m    Jest: Couldn't locate all inline snapshots.¬∑[39m
    [31m      1268 |   });[39m
    [31m      1269 |   if (remainingSnapshots.size > 0) {[39m
    [31m    > 1270 |     throw new Error(\"Jest: Couldn't locate all inline snapshots.\");[39m
    [31m           |           ^[39m
    [31m      1271 |   }[39m
    [31m      1272 | };[39m
    [31m      1273 |¬∑[39m
    [31m      at traverseAst (../../packages/jest-snapshot/build/index.js:1270:11)¬∑[39m
    [31mTest Suites: 1 failed, 1 total[39m
    [31mTests:       0 total[39m
    [31mSnapshots:   0 total[39m
    [31mTime:        0.914 s[39m
    [31mRan all test suites matching existing-snapshot.test.js."[39m
[2m[22m
[2m    [0m [90m 393 |[39m   [36mconst[39m {stderr[33m,[39m exitCode} [33m=[39m runJest([33mDIR[39m[33m,[39m [[32m'-w=1'[39m[33m,[39m [32m'--ci=false'[39m[33m,[39m filename])[33m;[39m[22m
[2m     [90m 394 |[39m   [36mconst[39m fileAfter [33m=[39m readFile(filename)[33m;[39m[22m
[2m    [31m[1m>[22m[2m[39m[90m 395 |[39m   expect(stderr)[33m.[39mtoMatch([32m'1 snapshot written from 1 test suite.'[39m)[33m;[39m[22m
[2m     [90m     |[39m                  [31m[1m^[22m[2m[39m[22m
[2m     [90m 396 |[39m   expect(exitCode)[33m.[39mtoBe([35m0[39m)[33m;[39m[22m
[2m     [90m 397 |[39m   expect(fileAfter)[33m.[39mtoMatchSnapshot([32m'existing snapshot'[39m)[33m;[39m[22m
[2m     [90m 398 |[39m })[33m;[39m[0m[22m
[2m[22m
[2m      [2mat Object.toMatch ([22m[2m[0m[36me2e/__tests__/toMatchInlineSnapshot.test.ts[39m[0m[2m:395:18)[22m[2m[22m


[1mSnapshot Summary[22m
[1m[31m ‚Ä∫ 8 snapshots failed[39m[22m from 5 test suites. [2mInspect your code changes or re-run jest with `-u` to update them.[22m
[1m[33m ‚Ä∫ 21 snapshots obsolete [39m[22mfrom 2 test suites. [2mTo remove them all, re-run jest with `-u`.[22m
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoThrowErrorMatchingInlineSnapshot.test.ts[22m
       ‚Ä¢ updates existing snapshot: updated snapshot 1
       ‚Ä¢ works fine when function throws error with cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error with string cause: initial write with cause 1
       ‚Ä¢ works fine when function throws error: initial write 1
   ‚Ü≥ [2me2e/__tests__/[22m[1mtoMatchInlineSnapshot.test.ts[22m
       ‚Ä¢ basic support: initial write 1
       ‚Ä¢ basic support: snapshot mismatch 1
       ‚Ä¢ basic support: snapshot passed 1
       ‚Ä¢ basic support: snapshot updated 1
       ‚Ä¢ do not indent empty lines: initial write 1
       ‚Ä¢ do not indent empty lines: snapshot passed 1
       ‚Ä¢ handles property matchers: initial write 1
       ‚Ä¢ handles property matchers: snapshot failed 1
       ‚Ä¢ handles property matchers: snapshot passed 1
       ‚Ä¢ handles property matchers: snapshot updated 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots, when the file is correctly formatted by prettier: existing snapshot 1
       ‚Ä¢ indentation is correct in the presences of existing snapshots: existing snapshot 1
       ‚Ä¢ multiple custom matchers and native matchers: multiple matchers 1
       ‚Ä¢ removes obsolete external snapshots: external snapshot cleaned 1
       ‚Ä¢ removes obsolete external snapshots: inline snapshot written 1
       ‚Ä¢ supports custom matchers with property matcher: custom matchers with property matcher 1
       ‚Ä¢ supports custom matchers: custom matchers 1

[1mTest Suites: [22m[1m[31m7 failed[39m[22m, [1m[32m113 passed[39m[22m, 120 total
[1mTests:       [22m[1m[31m26 failed[39m[22m, [1m[33m33 skipped[39m[22m, [1m[32m1661 passed[39m[22m, 1720 total
[1mSnapshots:   [22m[1m[31m8 failed[39m[22m, [1m[33m21 obsolete[39m[22m, [1m[32m954 passed[39m[22m, 962 total
[1mTime:[22m        [1m[33m53.713 s[39m[22m
[2mRan all test suites[22m[2m in [22m9[2m projects[22m[2m.[22m
The command has failed after 3 attempts.
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.......[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[SKIP] Does not work on Jasmine
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[SKIP] Does not work on Jasmine
..........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.........[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
..[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.............................
/app/e2e/__tests__/onlyChanged.test.ts

  [1m‚óè [22mTest suite failed to run

    Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version
    spawnSync git ENOENT

    {
      errno: -2,
      code: 'ENOENT',
      syscall: 'spawnSync git',
      path: 'git',
      spawnargs: [
        '-c',
        'user.name=jest_test',
        '-c',
        'user.email=jest_test@test.com',
        '--version'
      ],
      originalMessage: 'spawnSync git ENOENT',
      shortMessage: 'Command failed with ENOENT: git -c user.name=jest_test -c user.email=jest_test@test.com --version\n' +
        'spawnSync git ENOENT',
      command: 'git -c user.name=jest_test -c user.email=jest_test@test.com --version',
      escapedCommand: 'git -c "user.name=jest_test" -c "user.email=jest_test@test.com" --version',
      exitCode: undefined,
      signal: undefined,
      signalDescription: undefined,
      stdout: '',
      stderr: '',
      failed: true,
      timedOut: false,
      isCanceled: false,
      killed: false
    }

    [0m [90m 33 |[39m     reject[33m:[39m [36mfalse[39m[33m,[39m
     [90m 34 |[39m   }[33m;[39m
    [31m[1m>[22m[39m[90m 35 |[39m   [36mconst[39m result [33m=[39m spawnSync(cmd[33m.[39msplit([35m/\s/[39m)[[35m0[39m][33m,[39m args[33m,[39m spawnOptions)[33m;[39m
     [90m    |[39m                           [31m[1m^[22m[39m
     [90m 36 |[39m
     [90m 37 |[39m   [36mif[39m (result[33m.[39mexitCode [33m!==[39m [35m0[39m) {
     [90m 38 |[39m     [36mconst[39m errorResult [33m=[39m result [36mas[39m [33mExecaSyncError[39m[33m;[39m[0m

      [2mat module.exports.sync ([22mnode_modules/execa/index.js[2m:174:25)[22m
      [2mat run ([22me2e/Utils.ts[2m:35:27)[22m
      [2mat [22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:19:23[22m
      [2mat Object.<anonymous> ([22m[0m[36me2e/__tests__/onlyChanged.test.ts[39m[0m[2m:31:2)[22m

......[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
....[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
.[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
...[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
[33m  Given: 'soft'[39m
[33m[jest-util] garbage collection deletion mode already initialized, ignoring new mode[39m
[33m  Current: 'on'[39m
