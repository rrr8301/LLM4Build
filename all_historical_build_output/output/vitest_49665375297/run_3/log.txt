Scope: all 46 workspace projects
â€‰WARNâ€‰ There are cyclic workspace dependencies: /app/packages/browser, /app/packages/vitest
Lockfile is up to date, resolution step is skipped
Progress: resolved 1, reused 0, downloaded 0, added 0
Packages: +10
++++++++++
Progress: resolved 10, reused 10, downloaded 0, added 10, done

â•­ Warning â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                                              â”‚
â”‚   Ignored build scripts: @parcel/watcher, oxc-resolver.                      â”‚
â”‚   Run "pnpm approve-builds" to pick which dependencies should be allowed     â”‚
â”‚   to run scripts.                                                            â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

Done in 4.4s using pnpm v10.15.0

> @vitest/monorepo@4.0.0-beta.10 build /app
> pnpm -r --filter @vitest/ui --filter='./packages/**' run build

Scope: 15 of 46 workspace projects
packages/pretty-format build$ rimraf dist && rollup -c
packages/spy build$ rimraf dist && rollup -c
packages/vite-node build$ rimraf dist && rollup -c
packages/spy build: [36m
packages/spy build: [1msrc/index.ts[22m â†’ [1mdist[22m...[39m
packages/pretty-format build: [36m
packages/pretty-format build: [1msrc/index.ts[22m â†’ [1mdist[22m...[39m
packages/vite-node build: [36m
packages/vite-node build: [1msrc/index.ts, src/server.ts, src/types.ts, src/client.ts, src/utils.ts, src/cli.ts, src/constants.ts, src/hmr/index.ts, src/source-map.ts[22m â†’ [1mdist[22m...[39m
packages/spy build: [32mcreated [1mdist[22m in [1m304ms[22m[39m
packages/spy build: [36m
packages/spy build: [1mdist/.types/index.d.ts[22m â†’ [1mdist[22m...[39m
packages/spy build: [32mcreated [1mdist[22m in [1m139ms[22m[39m
packages/spy build: Done
packages/pretty-format build: [32mcreated [1mdist[22m in [1m504ms[22m[39m
packages/pretty-format build: [36m
packages/pretty-format build: [1mdist/.types/index.d.ts[22m â†’ [1mdist[22m...[39m
packages/pretty-format build: [32mcreated [1mdist[22m in [1m77ms[22m[39m
packages/pretty-format build: Done
packages/vite-node build: [32mcreated [1mdist[22m in [1m750ms[22m[39m
packages/vite-node build: [36m
packages/vite-node build: [1msrc/index.ts, src/server.ts, src/types.ts, src/client.ts, src/utils.ts, src/cli.ts, src/constants.ts, src/hmr/index.ts, src/source-map.ts[22m â†’ [1mdist[22m...[39m
packages/vite-node build: [32mcreated [1mdist[22m in [1m298ms[22m[39m
packages/vite-node build: [36m
packages/vite-node build: [1mdist/.types/index.d.mts, dist/.types/server.d.mts, dist/.types/types.d.mts, dist/.types/client.d.mts, dist/.types/utils.d.mts, dist/.types/cli.d.mts, dist/.types/constants.d.mts, dist/.types/hmr.d.mts, dist/.types/source-map.d.mts[22m â†’ [1mdist[22m...[39m
packages/vite-node build: [32mcreated [1mdist[22m in [1m272ms[22m[39m
packages/vite-node build: Done
packages/utils build$ rimraf dist && rollup -c
packages/utils build: [36m
packages/utils build: [1msrc/index.ts, src/helpers.ts, src/diff/index.ts, src/error.ts, src/source-map.ts, src/types.ts, src/resolver.ts[22m â†’ [1mdist[22m...[39m
packages/utils build: [32mcreated [1mdist[22m in [1m906ms[22m[39m
packages/utils build: [36m
packages/utils build: [1mdist/.types/index.d.ts, dist/.types/helpers.d.ts, dist/.types/diff.d.ts, dist/.types/error.d.ts, dist/.types/source-map.d.ts, dist/.types/types.d.ts, dist/.types/resolver.d.ts[22m â†’ [1mdist[22m...[39m
packages/utils build: [32mcreated [1mdist[22m in [1m247ms[22m[39m
packages/utils build: Done
packages/mocker build$ rimraf dist && rollup -c
packages/runner build$ rimraf dist && rollup -c
packages/snapshot build$ rimraf dist && rollup -c
packages/runner build: [36m
packages/runner build: [1msrc/index.ts, src/utils/index.ts, src/types.ts[22m â†’ [1mdist[22m...[39m
packages/snapshot build: [36m
packages/snapshot build: [1msrc/index.ts, src/environment.ts, src/manager.ts[22m â†’ [1mdist[22m...[39m
packages/mocker build: [36m
packages/mocker build: [1msrc/index.ts, src/node/index.ts, src/node/redirect.ts, src/node/automock.ts, src/browser/index.ts, src/browser/register.ts, src/browser/auto-register.ts[22m â†’ [1mdist[22m...[39m
packages/runner build: [32mcreated [1mdist[22m in [1m732ms[22m[39m
packages/runner build: [36m
packages/runner build: [1mdist/.types/index.d.ts, dist/.types/utils.d.ts, dist/.types/types.d.ts[22m â†’ [1mdist[22m...[39m
packages/runner build: [32mcreated [1mdist[22m in [1m255ms[22m[39m
packages/snapshot build: [32mcreated [1mdist[22m in [1m944ms[22m[39m
packages/snapshot build: [36m
packages/snapshot build: [1mdist/.types/index.d.ts, dist/.types/environment.d.ts, dist/.types/manager.d.ts[22m â†’ [1mdist[22m...[39m
packages/runner build: Done
packages/snapshot build: [32mcreated [1mdist[22m in [1m189ms[22m[39m
packages/mocker build: [32mcreated [1mdist[22m in [1m1.1s[22m[39m
packages/mocker build: [36m
packages/mocker build: [1mdist/.types/index.d.ts, dist/.types/node.d.ts, dist/.types/redirect.d.ts, dist/.types/automock.d.ts, dist/.types/browser.d.ts, dist/.types/register.d.ts, dist/.types/auto-register.d.ts[22m â†’ [1mdist[22m...[39m
packages/snapshot build: Done
packages/mocker build: [32mcreated [1mdist[22m in [1m272ms[22m[39m
packages/mocker build: Done
packages/expect build$ rimraf dist && rollup -c
packages/ws-client build$ rimraf dist && rollup -c
packages/expect build: [36m
packages/expect build: [1msrc/index.ts[22m â†’ [1mdist[22m...[39m
packages/ws-client build: [36m
packages/ws-client build: [1msrc/index.ts[22m â†’ [1mdist[22m...[39m
packages/expect build: [32mcreated [1mdist[22m in [1m583ms[22m[39m
packages/expect build: [36m
packages/expect build: [1mdist/.types/index.d.ts[22m â†’ [1mdist[22m...[39m
packages/expect build: [32mcreated [1mdist[22m in [1m173ms[22m[39m
packages/expect build: Done
packages/ws-client build: [32mcreated [1mdist[22m in [1m1s[22m[39m
packages/ws-client build: [36m
packages/ws-client build: [1mdist/.types/index.d.ts[22m â†’ [1mdist[22m...[39m
packages/ws-client build: [32mcreated [1mdist[22m in [1m264ms[22m[39m
packages/ws-client build: Done
packages/ui build$ rimraf dist && pnpm build:node && pnpm build:client
packages/vitest build$ rimraf dist && rollup -c
packages/ui build: > @vitest/ui@4.0.0-beta.10 build:node /app/packages/ui
packages/ui build: > rollup -c
packages/vitest build: [36m
packages/vitest build: [1msrc/paths.ts, src/public/index.ts, src/node/cli.ts, src/public/config.ts, src/public/node.ts, src/public/suite.ts, src/public/browser.ts, src/public/runners.ts, src/public/environments.ts, src/public/mocker.ts, src/integrations/spy.ts, src/public/coverage.ts, src/public/reporters.ts, src/public/workers.ts, src/public/module-runner.ts, src/runtime/moduleRunner/moduleEvaluator.ts, src/runtime/worker.ts, src/runtime/workers/forks.ts, src/runtime/workers/threads.ts, src/runtime/workers/vmThreads.ts, src/runtime/workers/vmForks.ts, src/runtime/runVmTests.ts, src/public/snapshot.ts[22m â†’ [1mdist[22m...[39m
packages/ui build: [36m
packages/ui build: [1m./node/index.ts, ./node/reporter.ts[22m â†’ [1mdist[22m...[39m
packages/ui build: [32mcreated [1mdist[22m in [1m392ms[22m[39m
packages/ui build: [36m
packages/ui build: [1mdist/.types/index.d.ts[22m â†’ [1mdist[22m...[39m
packages/ui build: [32mcreated [1mdist[22m in [1m34ms[22m[39m
packages/ui build: > @vitest/ui@4.0.0-beta.10 build:client /app/packages/ui
packages/ui build: > vite build
packages/ui build: vite v6.3.5 building for production...
packages/ui build: transforming...
packages/vitest build: [32mcreated [1mdist[22m in [1m5.6s[22m[39m
packages/vitest build: [36m
packages/vitest build: [1msrc/public/config.ts[22m â†’ [1mdist/config.cjs[22m...[39m
packages/vitest build: [32mcreated [1mdist/config.cjs[22m in [1m28ms[22m[39m
packages/vitest build: [36m
packages/vitest build: [1mdist/.types/index.d.ts, dist/.types/node.d.ts, dist/.types/environments.d.ts, dist/.types/browser.d.ts, dist/.types/runners.d.ts, dist/.types/suite.d.ts, dist/.types/config.d.ts, dist/.types/coverage.d.ts, dist/.types/reporters.d.ts, dist/.types/mocker.d.ts, dist/.types/workers.d.ts, dist/.types/snapshot.d.ts, dist/.types/module-evaluator.d.ts[22m â†’ [1mdist[22m...[39m
packages/vitest build: [32mcreated [1mdist[22m in [1m853ms[22m[39m
packages/vitest build: Done
packages/ui build: âœ“ 401 modules transformed.
packages/ui build: rendering chunks...
packages/ui build: computing gzip size...
packages/ui build: dist/client/index.html                   1.21 kB â”‚ gzip:   0.63 kB
packages/ui build: dist/client/assets/index-KbpJLW--.css   76.83 kB â”‚ gzip:  16.04 kB
packages/ui build: dist/client/assets/index-1RHjw9Iw.js   655.67 kB â”‚ gzip: 233.05 kB
packages/ui build: (!) Some chunks are larger than 500 kB after minification. Consider:
packages/ui build: - Using dynamic import() to code-split the application
packages/ui build: - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
packages/ui build: - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
packages/ui build: âœ“ built in 11.11s
packages/ui build: Done
packages/browser build$ rimraf dist && pnpm build:node && pnpm build:client
packages/coverage-istanbul build$ rimraf dist && rollup -c
packages/web-worker build$ rimraf dist && rollup -c
packages/browser build: > @vitest/browser@4.0.0-beta.10 build:node /app/packages/browser
packages/browser build: > rollup -c
packages/coverage-istanbul build: [36m
packages/coverage-istanbul build: [1msrc/index.ts, src/provider.ts[22m â†’ [1mdist[22m...[39m
packages/web-worker build: [36m
packages/web-worker build: [1msrc/index.ts, src/pure.ts[22m â†’ [1mdist[22m...[39m
packages/coverage-istanbul build: [32mcreated [1mdist[22m in [1m437ms[22m[39m
packages/coverage-istanbul build: [36m
packages/coverage-istanbul build: [1mdist/.types/index.d.ts, dist/.types/provider.d.ts[22m â†’ [1mdist[22m...[39m
packages/coverage-istanbul build: [32mcreated [1mdist[22m in [1m52ms[22m[39m
packages/web-worker build: [32mcreated [1mdist[22m in [1m494ms[22m[39m
packages/web-worker build: [36m
packages/web-worker build: [1mdist/.types/pure.d.ts[22m â†’ [1mdist[22m...[39m
packages/coverage-istanbul build: Done
packages/web-worker build: [32mcreated [1mdist[22m in [1m40ms[22m[39m
packages/web-worker build: Done
packages/browser build: [36m
packages/browser build: [1m./src/node/index.ts, ./src/node/providers/playwright.ts, ./src/node/providers/webdriverio.ts, ./src/node/providers/preview.ts[22m â†’ [1mdist[22m...[39m
packages/browser build: [32mcreated [1mdist[22m in [1m1s[22m[39m
packages/browser build: [36m
packages/browser build: [1m./src/client/tester/locators/playwright.ts, ./src/client/tester/locators/webdriverio.ts, ./src/client/tester/locators/preview.ts, ./src/client/tester/locators/index.ts, ./src/client/tester/expect-element.ts, ./src/client/tester/public-utils.ts[22m â†’ [1mdist[22m...[39m
packages/browser build: [1m[33m(!) The emitted file ".types-client/tester/utils.d.ts" overwrites a previously emitted file of the same name.[39m[22m
packages/browser build: [32mcreated [1mdist[22m in [1m728ms[22m[39m
packages/browser build: [36m
packages/browser build: [1m./src/client/tester/context.ts[22m â†’ [1mdist/context.js[22m...[39m
packages/browser build: [32mcreated [1mdist/context.js[22m in [1m40ms[22m[39m
packages/browser build: [36m
packages/browser build: [1m./src/client/client.ts[22m â†’ [1mdist/client.js[22m...[39m
packages/browser build: [32mcreated [1mdist/client.js[22m in [1m35ms[22m[39m
packages/browser build: [36m
packages/browser build: [1m./src/client/tester/state.ts[22m â†’ [1mdist/state.js[22m...[39m
packages/browser build: [32mcreated [1mdist/state.js[22m in [1m21ms[22m[39m
packages/browser build: [36m
packages/browser build: [1mdist/.types/index.d.ts, dist/.types/providers/playwright.d.ts, dist/.types/providers/webdriverio.d.ts, dist/.types/providers/preview.d.ts[22m â†’ [1mdist[22m...[39m
packages/browser build: [32mcreated [1mdist[22m in [1m212ms[22m[39m
packages/browser build: [36m
packages/browser build: [1mdist/.types-client/tester/locators/index.d.ts[22m â†’ [1mdist[22m...[39m
packages/browser build: [32mcreated [1mdist[22m in [1m44ms[22m[39m
packages/browser build: > @vitest/browser@4.0.0-beta.10 build:client /app/packages/browser
packages/browser build: > vite build src/client
packages/browser build: vite v6.3.5 building for production...
packages/browser build: transforming...
packages/browser build: âœ“ 69 modules transformed.
packages/browser build: rendering chunks...
packages/browser build: computing gzip size...
packages/browser build: ../../dist/client/tester/tester.html                             0.48 kB â”‚ gzip:  0.32 kB
packages/browser build: ../../dist/client/.vite/manifest.json                            0.54 kB â”‚ gzip:  0.21 kB
packages/browser build: ../../dist/client/orchestrator.html                              0.90 kB â”‚ gzip:  0.48 kB
packages/browser build: ../../dist/client/__vitest_browser__/utils-CPmDBIKG.js           5.81 kB â”‚ gzip:  1.88 kB
packages/browser build: ../../dist/client/__vitest_browser__/orchestrator-DOxlOAkk.js    8.86 kB â”‚ gzip:  2.56 kB
packages/browser build: ../../dist/client/__vitest_browser__/tester-CjRjmiX1.js        113.05 kB â”‚ gzip: 27.26 kB
packages/browser build: âœ“ built in 947ms
packages/browser build: [copy-ui-plugin] UI copied
packages/browser build: Done
packages/coverage-v8 build$ rimraf dist && rollup -c
packages/coverage-v8 build: [36m
packages/coverage-v8 build: [1msrc/index.ts, src/browser.ts, src/provider.ts[22m â†’ [1mdist[22m...[39m
packages/coverage-v8 build: [32mcreated [1mdist[22m in [1m346ms[22m[39m
packages/coverage-v8 build: [36m
packages/coverage-v8 build: [1mdist/.types/index.d.ts, dist/.types/browser.d.ts, dist/.types/provider.d.ts[22m â†’ [1mdist[22m...[39m
packages/coverage-v8 build: [32mcreated [1mdist[22m in [1m55ms[22m[39m
packages/coverage-v8 build: Done

> @vitest/monorepo@4.0.0-beta.10 test:ci /app
> CI=true pnpm -r --reporter-hide-prefix --stream --sequential --filter '@vitest/test-*' --filter !test-browser run test -- --runInBand

Scope: 19 of 46 workspace projects
test/benchmark test$ vitest -- --runInBand
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/test/benchmark[39m
 [32mâœ“[39m test/sequential.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 994[2mms[22m[39m
   [33m[2mâœ“[22m[39m sequential [33m 992[2mms[22m[39m
 [32mâœ“[39m test/compare.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 2590[2mms[22m[39m
   [33m[2mâœ“[22m[39m compare [33m 2589[2mms[22m[39m
 [32mâœ“[39m test/basic.test.ts [2m([22m[2m1 test[22m[2m)[22m[33m 4555[2mms[22m[39m
   [33m[2mâœ“[22m[39m basic [33m 4554[2mms[22m[39m
 [32mâœ“[39m test/reporter.test.ts [2m([22m[2m4 tests[22m[2m)[22m[33m 5091[2mms[22m[39m
   [33m[2mâœ“[22m[39m summary [33m 1299[2mms[22m[39m
   [33m[2mâœ“[22m[39m non-tty [33m 1466[2mms[22m[39m
   [33m[2mâœ“[22m[39m includeSamples true [33m 1172[2mms[22m[39m
   [33m[2mâœ“[22m[39m includeSamples false [33m 1152[2mms[22m[39m
[2m Test Files [22m [1m[32m4 passed[39m[22m[90m (4)[39m
[2m      Tests [22m [1m[32m7 passed[39m[22m[90m (7)[39m
[2m   Start at [22m 10:18:35
[2m   Duration [22m 5.83s[2m (transform 535ms, setup 0ms, collect 1.89s, tests 13.23s, environment 1ms, prepare 388ms)[22m
test/benchmark test: Done
test/cli test$ vitest -- --runInBand
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/test/cli[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mtest fixture cannot import from file fixture[33m 393[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mcan import file fixture inside the local fixture[33m 302[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mcan import worker fixture inside the local fixture[32m 294[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mtest fixture cannot import from worker fixture[32m 279[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mauto worker fixture is initialised always before the first test[32m 279[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworker fixture can import a static value from test fixture[32m 269[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mfile fixture can import a static value from test fixture[32m 278[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworker fixture works in vmThreads and runs for every file[33m 566[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworker fixtures in isolated tests init and teardown twice[33m 391[2mms[22m[39m
 [31mÃ—[39m test/scoped-fixtures.test.ts[2m > [22mworker fixture initiates and torn down in different workers[32m 282[2mms[22m[39m
[31m   â†’ expected '\nâ¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯\nError: Terminating worker thread\n â¯ Object.ThreadTermination ../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:354:27\n â¯ ../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:393:73\n â¯ processTicksAndRejections ../node:internal/process/task_queues:95:5\n\n\n\n\n' to be '' // Object.is equality[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworker fixture initiates and torn down in one non-isolated worker[32m 282[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworker fixtures are available in beforeEach and afterEach[32m 291[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mfile fixtures are available in beforeEach and afterEach[32m 276[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mauto file fixture is initialised always before the first test[32m 275[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mfile fixture is provided as a factory and is initialised once in all suites, teardown is called once per file (isolate true)[33m 780[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mfile fixture is provided as a factory and is initialised once in all suites, teardown is called once per file (isolate false)[33m 309[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworks properly in 'forks'[2m > [22mfile and worker fixtures are initiated[32m 284[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworks properly in 'forks'[2m > [22mfile and worker fixtures are initiated with auto[32m 280[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworks properly in 'threads'[2m > [22mfile and worker fixtures are initiated[32m 261[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworks properly in 'threads'[2m > [22mfile and worker fixtures are initiated with auto[32m 262[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworks properly in 'browser'[2m > [22mfile and worker fixtures are initiated[33m 1733[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mworks properly in 'browser'[2m > [22mfile and worker fixtures are initiated with auto[33m 918[2mms[22m[39m
 [32mâœ“[39m test/scoped-fixtures.test.ts[2m > [22mbrowser tests[2m > [22minitiates worker scope once for non-isolated tests[33m 879[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mAPI[2m > [22mannotations are exposed correctly in 'forks'[32m 295[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mAPI[2m > [22mannotations are exposed correctly in 'threads'[32m 248[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mAPI[2m > [22mannotations are exposed correctly in 'browser'[33m 848[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mAPI[2m > [22mcannot annotate tests when the test finished running[33m 354[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mtap reporter prints annotations[32m 257[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mtap-flat reporter prints annotations[32m 251[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mjunit reporter prints annotations[33m 305[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mgithub-actions reporter prints annotations[32m 274[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mverbose non-tty reporter prints annotations[32m 287[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mdefault[2m > [22mdefault reporter prints annotations after the error[32m 276[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mdefault[2m > [22mdefault reporter prints the same error with the same annotations only once[32m 255[2mms[22m[39m
 [32mâœ“[39m test/annotations.test.ts[2m > [22mreporters[2m > [22mdefault[2m > [22mdefault reporter prints different annotations after the same error[32m 261[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports a file[32m 4[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports a passed test[32m 1[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports failed test[32m 3[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports a skipped test[32m 1[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports multiple failures[32m 1[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports test assigned options[32m 0[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports retried tests[32m 0[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports flaky tests[32m 0[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports repeated tests[32m 0[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly passed down metadata[32m 0[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly builds the full name[32m 0[2mms[22m[39m
 [32mâœ“[39m test/reported-tasks.test.ts[2m > [22mcorrectly reports import durations[32m 0[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mfinds test at correct line number[33m 892[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mfinds "basic suite" at correct line number[33m 833[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mfinds "inner suite" at correct line number[33m 840[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mhandles matching test inside a suite[33m 842[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mhandles file with a dash in the name[33m 808[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mreports not found test[33m 811[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mreports multiple not found tests[33m 797[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22merrors if range location is provided[33m 529[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mparses file with a colon and dash in the name correctly[33m 528[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with list command[2m > [22mfails on part of filename with location filter[33m 491[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mfinds test at correct line number[33m 837[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mfinds "basic suite" at correct line number[33m 834[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mfinds "inner suite" at correct line number[33m 813[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mhandles matching test inside a suite[33m 825[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mhandles file with a dash in the name[33m 860[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mreports not found test[33m 825[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mreports multiple not found tests[33m 797[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22merrors if range location is provided[33m 521[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mparses file with a colon and dash in the name correctly[33m 523[2mms[22m[39m
 [32mâœ“[39m test/location-filters.test.ts[2m > [22mlocation filter with run command[2m > [22mfails on part of filename with location filter[33m 546[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs all tests with args: "--pool=threads"[33m 1081[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs all tests with args: "--pool=forks"[33m 1113[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs all tests with args: "--pool=vmForks"[33m 1005[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs all tests with args: "--browser.enabled"[33m 2502[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs all tests with args: "--typecheck"[33m 1061[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs all tests with args: "--typecheck.only"[33m 644[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mbasic output shows error[33m 1053[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mjson output shows error[33m 1056[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mjson with a file output shows error[33m 1089[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs json[33m 1106[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly outputs files only json[33m 534[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly saves json[33m 1088[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly saves files only json[33m 570[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly filters by file[33m 819[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly filters by file when using --filesOnly[33m 536[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly prints project name in basic report[33m 817[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly prints project name in basic report when using --filesOnly[33m 531[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly prints project name and locations in json report[33m 845[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly prints project name in json report when using --filesOnly[33m 536[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mcorrectly filters by test name[33m 1041[2mms[22m[39m
 [32mâœ“[39m test/list.test.ts[2m > [22mignores watch flag[33m 1134[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail async-assertion.test.ts[33m 302[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail concurrent-suite-deadlock.test.ts[33m 772[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail concurrent-test-deadlock.test.ts[33m 775[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail each-timeout.test.ts[32m 283[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail empty.test.ts[32m 263[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail expect-soft.test.ts[32m 256[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail expect-unreachable.test.ts[32m 259[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail expect.test.ts[32m 273[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail hook-timeout.test.ts[32m 283[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail hooks-called.test.ts[32m 254[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail hooks-fail-afterAll.test.ts[32m 266[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail hooks-fail-afterEach.test.ts[32m 254[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail hooks-fail-beforeAll.test.ts[32m 267[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail hooks-fail-beforeEach.test.ts[32m 266[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail hooks-timeout-before-hook-cleanup-callback.test.ts[33m 477[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail inline-snapshop-inside-each.test.ts[32m 271[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail mock-import-proxy-module.test.ts[32m 265[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail nested-suite.test.ts[32m 278[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail no-assertions.test.ts[32m 267[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail node-browser-context.test.ts[32m 253[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail poll-no-awaited.test.ts[33m 333[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail primitive-error.test.ts[32m 276[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail skip-conditional.test.ts[32m 289[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail snapshot-with-not.test.ts[32m 272[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail stall.test.ts[32m 273[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-timeout.test.ts[33m 683[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail unhandled-suite.test.ts[32m 283[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail unhandled.test.ts[33m 887[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail .dot-folder/dot-test.test.ts[32m 269[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/circular-dependency.test.ts[32m 265[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/fixture-error.test.ts[33m 308[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/fixture-rest-params.test.ts[32m 254[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/fixture-rest-props.test.ts[32m 258[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/fixture-without-destructuring.test.ts[32m 275[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/test-rest-params.test.ts[32m 261[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/test-rest-props.test.ts[32m 271[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould fail test-extend/test-without-destructuring.test.ts[32m 282[2mms[22m[39m
----------|---------|----------|---------|---------|-------------------
File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s
----------|---------|----------|---------|---------|-------------------
All files |       0 |        0 |       0 |       0 |
----------|---------|----------|---------|---------|-------------------
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould report coverage when "coverage.reportOnFailure: true" and tests fail[33m 823[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mshould not report coverage when "coverage.reportOnFailure" has default value and tests fail[33m 306[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mprints a warning if the assertion is not awaited[32m 297[2mms[22m[39m
 [32mâœ“[39m test/fails.test.ts[2m > [22mprints a warning if the assertion is not awaited in the browser mode[33m 961[2mms[22m[39m
 [32mâœ“[39m test/signal.test.ts[2m > [22mtimeout aborts the signal without fixtures[32m 289[2mms[22m[39m
 [32mâœ“[39m test/signal.test.ts[2m > [22mtimeout aborts the signal[32m 281[2mms[22m[39m
 [32mâœ“[39m test/signal.test.ts[2m > [22mtimeout aborts all signals in concurrent tests[32m 276[2mms[22m[39m
 [32mâœ“[39m test/signal.test.ts[2m > [22mcancelling test run aborts the signal[32m 265[2mms[22m[39m
 [32mâœ“[39m test/signal.test.ts[2m > [22mcancelling test run aborts the signal in all concurrent tests[32m 272[2mms[22m[39m
 [32mâœ“[39m test/console.test.ts[2m > [22mcan run custom pools with Vitest[32m 295[2mms[22m[39m
 [32mâœ“[39m test/console.test.ts[2m > [22monConsoleLog receives the entity[32m 257[2mms[22m[39m
 [32mâœ“[39m test/public-api.test.ts[2m > [22mpasses down metadata when 'threads are enabled'[32m 248[2mms[22m[39m
 [32mâœ“[39m test/public-api.test.ts[2m > [22mpasses down metadata when 'threads are disabled'[32m 270[2mms[22m[39m
 [32mâœ“[39m test/public-api.test.ts[2m > [22mpasses down metadata when 'running in the browser'[33m 879[2mms[22m[39m
 [32mâœ“[39m test/public-api.test.ts[2m > [22mcan modify the global test name pattern[32m 16[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22madd-in-imba.test.imba[32m 271[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22madd-in-js.test.js[32m 278[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22madd.test.ts[32m 266[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22merror-in-deps.test.js[32m 268[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22merror-in-package.test.js[33m 302[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22merror-with-stack.test.js[32m 271[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22mmocked-global.test.js[32m 276[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22mmocked-imported.test.js[32m 279[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22mmocked-imported.test.ts[32m 285[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22mrequire-assertions.test.js[32m 260[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should respect sourcemaps[2m > [22mreset-modules.test.ts[32m 280[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktraces should pick error frame if present[2m > [22mframe.spec.imba[32m 261[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktrace should print error frame source file correctly[2m > [22merror-in-deps[32m 275[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktrace filtering[2m > [22mfilters stacktraces[32m 272[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktrace in dependency package[2m > [22mexternal[32m 294[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktrace in dependency package[2m > [22minline[32m 284[2mms[22m[39m
 [32mâœ“[39m test/stacktraces.test.ts[2m > [22mstacktrace in vmThreads[32m 283[2mms[22m[39m
 [32mâœ“[39m test/inspect.test.ts[2m > [22m--inspect-brk stops at test file[33m 1051[2mms[22m[39m
 [31mÃ—[39m test/git-changed.test.ts[2m > [22mforceRerunTrigger[2m > [22mshould run the whole test suite if file exists[32m 29[2mms[22m[39m
[31m   â†’ expected 'Could not find Git root. Have you initialized git with `git init`?\n' to be '' // Object.is equality[39m
 [31mÃ—[39m test/git-changed.test.ts[2m > [22mforceRerunTrigger[2m > [22mshould run no tests if file does not exist[32m 28[2mms[22m[39m
[31m   â†’ expected '\n RUN  v4.0.0-beta.10 /app/test/cli/fixtures/git-changed/related\n\n' to contain 'No test files found, exiting with code 0'[39m
 [32mâœ“[39m test/git-changed.test.ts[2m > [22mrelated correctly runs only related tests[33m 1068[2mms[22m[39m
 [31mÃ—[39m test/git-changed.test.ts[2m > [22mdoesn't run any test in a workspace because there are no changes[32m 49[2mms[22m[39m
[31m   â†’ expected '\n RUN  v4.0.0-beta.10 /app/test/cli/fixtures/git-changed/workspace\n\n' to contain 'No test files found, exiting with code 0'[39m
 [31mÃ—[39m test/git-changed.test.ts[2m > [22mrelated correctly runs only related tests inside a workspace[32m 46[2mms[22m[39m
[31m   â†’ expected 'Could not find Git root. Have you initialized git with `git init`?\n' to be '' // Object.is equality[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mbasic[32m 296[2mms[22m[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mpromise[32m 285[2mms[22m[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mwith expect[32m 289[2mms[22m[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mwith expect.extend[32m 270[2mms[22m[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mpromise with expect.extend[32m 287[2mms[22m[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mpassed[32m 267[2mms[22m[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mretry will passed[32m 265[2mms[22m[39m
 [32mâœ“[39m test/expect-soft.test.ts[2m > [22mexpect.soft[2m > [22mretry will failed[32m 285[2mms[22m[39m
 [31mÃ—[39m test/list-changed.test.ts[2m > [22mlist command with --changed flag shows only changed tests[33m 2145[2mms[22m[39m
[31m   â†’ expected '' to contain 'related.test.ts'[39m
 [31mÃ—[39m test/list-changed.test.ts[2m > [22mlist command with --changed flag and --filesOnly shows only changed test files[33m 528[2mms[22m[39m
[31m   â†’ expected '' to contain 'related.test.ts'[39m
 [31mÃ—[39m test/list-changed.test.ts[2m > [22mlist command with --changed flag and --json outputs changed tests in JSON format[33m 537[2mms[22m[39m
[31m   â†’ Unexpected end of JSON input[39m
 [32mâœ“[39m test/list-changed.test.ts[2m > [22mlist command with --changed flag when no changes exist should show no tests[33m 518[2mms[22m[39m
 [32mâœ“[39m test/init.test.ts[2m > [22minitializes project[33m 392[2mms[22m[39m
 [32mâœ“[39m test/retry-clear-mocks.test.ts[2m > [22mvitest correctly resets mocks between tests[32m 267[2mms[22m[39m
 [32mâœ“[39m test/retry-clear-mocks.test.ts[2m > [22mvitest correctly clears mocks between tests[32m 300[2mms[22m[39m
 [32mâœ“[39m test/retry-clear-mocks.test.ts[2m > [22mvitest correctly restores mocks between tests[32m 254[2mms[22m[39m
 [32mâœ“[39m test/print-error.test.ts[2m > [22mprints a custom error stack[32m 282[2mms[22m[39m
 [32mâœ“[39m test/print-error.test.ts[2m > [22mprints buffer and UintArray[32m 248[2mms[22m[39m
 [32mâœ“[39m test/setup-files.test.ts[2m > [22mthreads: print stdout and stderr correctly when called in the setup file[32m 240[2mms[22m[39m
 [32mâœ“[39m test/setup-files.test.ts[2m > [22mvmThreads: print stdout and stderr correctly when called in the setup file[32m 284[2mms[22m[39m
 [2m[90mâ†“[39m[22m test/setup-files.test.ts[2m > [22msetup files with forceRerunTrigger[2m > [22mshould run no tests if setup file is not changed
 [31mÃ—[39m test/setup-files.test.ts[2m > [22msetup files with forceRerunTrigger[2m > [22mshould run the whole test suite if setup file is changed[32m 23[2mms[22m[39m
[31m   â†’ expected '\n RUN  v4.0.0-beta.10 /app/test/cli/fixtures/setup-files\n\n' to contain '1 passed'[39m
 [32mâœ“[39m test/group-order.test.ts[2m > [22mtests run according to the group order[33m 1027[2mms[22m[39m
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is not started when --standalone
[22m[39m[debug] watcher is ready
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is not started when --standalone
[22m[39m[debug] watcher is ready
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is not started when --standalone
[22m[39m[debug] watcher is ready
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is not started when --standalone
[22m[39m[debug] watcher is ready
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is started when --standalone and filename filter
[22m[39m[debug] watcher is ready
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is started when --standalone and filename filter
[22m[39m[debug] watcher is ready
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is started when --standalone and filename filter
[22m[39m[debug] watcher is ready
[90mstdout[2m | test/standalone.test.ts[2m > [22m[2mtest run is started when --standalone and filename filter
[22m[39m[debug] watcher is ready
 [32mâœ“[39m test/standalone.test.ts[2m > [22mtest run is not started when --standalone[32m 28[2mms[22m[39m
 [32mâœ“[39m test/standalone.test.ts[2m > [22mtest run is started when --standalone and filename filter[33m 370[2mms[22m[39m
 [32mâœ“[39m test/browser-multiple.test.ts[2m > [22mautomatically assigns the port[33m 1605[2mms[22m[39m
 [32mâœ“[39m test/run-custom-env.test.ts[2m > [22mcorrectly runs tests if custom env is a file[32m 285[2mms[22m[39m
 [32mâœ“[39m test/run-custom-env.test.ts[2m > [22mcorrectly runs tests if custom env is an absolute path[32m 286[2mms[22m[39m
 [32mâœ“[39m test/skip-note.test.ts[2m > [22mcan leave a note when skipping in the 'default' reporter[32m 267[2mms[22m[39m
 [32mâœ“[39m test/skip-note.test.ts[2m > [22mcan leave a note when skipping in the 'verbose' reporter[32m 259[2mms[22m[39m
 [32mâœ“[39m test/config-loader.test.ts[2m > [22mconfigLoader default[33m 492[2mms[22m[39m
 [32mâœ“[39m test/config-loader.test.ts[2m > [22mconfigLoader runner[33m 2330[2mms[22m[39m
(node:3037) ExperimentalWarning: Network Imports is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6889) ExperimentalWarning: Network Imports is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m test/network-imports.test.ts[2m > [22mimporting from network in threads[32m 272[2mms[22m[39m
(node:3037) ExperimentalWarning: Network Imports is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
 [32mâœ“[39m test/network-imports.test.ts[2m > [22mimporting from network in forks[33m 303[2mms[22m[39m
 [32mâœ“[39m test/network-imports.test.ts[2m > [22mimporting from network in vmThreads[33m 345[2mms[22m[39m
 [32mâœ“[39m test/custom-pool.test.ts[2m > [22mcan run custom pools with Vitest[32m 253[2mms[22m[39m
 [32mâœ“[39m test/create-vitest.test.ts[2m > [22mcreateVitest[32m 269[2mms[22m[39m
 [32mâœ“[39m test/server-url.test.ts[2m > [22mapi server-url http[32m 271[2mms[22m[39m
 [32mâœ“[39m test/server-url.test.ts[2m > [22mapi server-url https[33m 668[2mms[22m[39m
 [2m[90mâ†“[39m[22m test/server-url.test.ts[2m > [22mapi server-url fallback if resolvedUrls is null
 [2m[90mâ†“[39m[22m test/windows-drive-case.test.ts[2m > [22mworks on windows with a lowercase drive: /app/test/cli/fixtures/windows-drive-case
 [32mâœ“[39m test/unhandled-ignore.test.ts[2m > [22mrun mode does not get stuck when TTY[33m 904[2mms[22m[39m
â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
Error: [vitest-pool]: Unexpected call to process.send(). Make sure your test cases are not interfering with process's channel.
Received value: {"not serialized":"with v8 serializer"}
 â¯ deserialize ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:2667:11
 â¯ EventEmitter.onMessage ../../../../packages/vitest/dist/chunks/index.Bgo3tNWt.js:108:13
 â¯ EventEmitter.emit ../../node:events:524:28
 â¯ Object.postMessage ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:2681:37
 â¯ ChildProcess.<anonymous> ../../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:124:86
 â¯ ChildProcess.emit ../../node:events:524:28
 â¯ emit ../../node:internal/child_process:950:14
 â¯ processTicksAndRejections ../../node:internal/process/task_queues:83:21
Caused by: TypeError: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received an instance of Object
 â¯ Function.from ../../node:buffer:322:9
 â¯ deserialize ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:2661:34
 â¯ EventEmitter.onMessage ../../../../packages/vitest/dist/chunks/index.Bgo3tNWt.js:108:13
 â¯ EventEmitter.emit ../../node:events:524:28
 â¯ Object.postMessage ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:2681:37
 â¯ ChildProcess.<anonymous> ../../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:124:86
 â¯ ChildProcess.emit ../../node:events:524:28
 â¯ emit ../../node:internal/child_process:950:14
 â¯ processTicksAndRejections ../../node:internal/process/task_queues:83:21
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'ERR_INVALID_ARG_TYPE' }
â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
Error: [vitest-pool]: Unexpected call to process.send(). Make sure your test cases are not interfering with process's channel.
Received value: {"not serialized":"with v8 serializer"}
 â¯ deserialize ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:3033:11
 â¯ EventEmitter.onMessage ../../../../packages/vitest/dist/chunks/index.Bgo3tNWt.js:108:13
 â¯ EventEmitter.emit ../../node:events:524:28
 â¯ Object.postMessage ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:3047:37
 â¯ ChildProcess.<anonymous> ../../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:124:86
 â¯ ChildProcess.emit ../../node:events:524:28
 â¯ emit ../../node:internal/child_process:950:14
 â¯ processTicksAndRejections ../../node:internal/process/task_queues:83:21
Caused by: TypeError: The first argument must be of type string or an instance of Buffer, ArrayBuffer, or Array or an Array-like Object. Received an instance of Object
 â¯ Function.from ../../node:buffer:322:9
 â¯ deserialize ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:3027:34
 â¯ EventEmitter.onMessage ../../../../packages/vitest/dist/chunks/index.Bgo3tNWt.js:108:13
 â¯ EventEmitter.emit ../../node:events:524:28
 â¯ Object.postMessage ../../../../packages/vitest/dist/chunks/coverage.CntQ8BvV.js:3047:37
 â¯ ChildProcess.<anonymous> ../../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:124:86
 â¯ ChildProcess.emit ../../node:events:524:28
 â¯ emit ../../node:internal/child_process:950:14
 â¯ processTicksAndRejections ../../node:internal/process/task_queues:83:21
â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯
Serialized Error: { code: 'ERR_INVALID_ARG_TYPE' }
 [32mâœ“[39m test/forks-channel.test.ts[2m > [22mtest case's process.send() calls are handled[32m 255[2mms[22m[39m
 [32mâœ“[39m test/forks-channel.test.ts[2m > [22mtest case's process.send() calls are handled[32m 290[2mms[22m[39m
 [32mâœ“[39m test/tty.test.ts[2m > [22mrun mode does not get stuck when TTY[33m 1112[2mms[22m[39m
 [32mâœ“[39m test/vm-threads.test.ts[2m > [22mimporting files in restricted fs works correctly[33m 1273[2mms[22m[39m
 [32mâœ“[39m test/global-setup-fail.test.ts[2m > [22mshould fail[32m 19[2mms[22m[39m
 [32mâœ“[39m test/restricted-fs.test.ts[2m > [22mimporting files in restricted fs works correctly[33m 932[2mms[22m[39m
 [32mâœ“[39m test/plugin.test.ts[2m > [22mplugin hooks[32m 264[2mms[22m[39m
 [32mâœ“[39m test/dotted-files.test.ts[2m > [22mrun tests even though they are inside the .cache directory[33m 823[2mms[22m[39m
 [32mâœ“[39m test/custom-runner.test.ts[2m > [22mextendTaskContext provides correct context.task.suite[32m 272[2mms[22m[39m
[31mâ¯â¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Tests 9 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m
[41m[1m FAIL [22m[49m test/git-changed.test.ts[2m > [22mforceRerunTrigger[2m > [22mshould run the whole test suite if file exists
[31m[1mAssertionError[22m: expected 'Could not find Git root. Have you initialized git with `git init`?\n' to be '' // Object.is equality[39m
- Expected
+ Received
+ Could not find Git root. Have you initialized git with `git init`?
+
[36m [2mâ¯[22m test/git-changed.test.ts:[2m25:20[22m[39m
    [90m 23| [39m    [34mcreateFile[39m(fileName[33m,[39m [32m''[39m)
    [90m 24| [39m    [35mconst[39m { stdout[33m,[39m stderr } [33m=[39m [35mawait[39m [34mrun[39m()
    [90m 25| [39m    [34mexpect[39m(stderr)[33m.[39m[34mtoBe[39m([32m''[39m)
    [90m   | [39m                   [31m^[39m
    [90m 26| [39m    [34mexpect[39m(stdout)[33m.[39m[34mtoContain[39m([32m'1 passed'[39m)
    [90m 27| [39m    [34mexpect[39m(stdout)[33m.[39m[34mtoContain[39m([32m'related.test.ts'[39m)
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/git-changed.test.ts[2m > [22mforceRerunTrigger[2m > [22mshould run no tests if file does not exist
[31m[1mAssertionError[22m: expected '\n RUN  v4.0.0-beta.10 /app/test/cli/fixtures/git-changed/related\n\n' to contain 'No test files found, exiting with code 0'[39m
- Expected
+ Received
- No test files found, exiting with code 0
+
+  RUN  v4.0.0-beta.10 /app/test/cli/fixtures/git-changed/related
+
+
[36m [2mâ¯[22m test/git-changed.test.ts:[2m33:20[22m[39m
    [90m 31| [39m  [34mit[39m([32m'should run no tests if file does not exist'[39m[33m,[39m [35masync[39m () [33m=>[39m {
    [90m 32| [39m    [35mconst[39m { stdout } [33m=[39m [35mawait[39m [34mrun[39m()
    [90m 33| [39m    expect(stdout).toContain('No test files found, exiting with code 0â€¦
    [90m   | [39m                   [31m^[39m
    [90m 34| [39m  })
    [90m 35| [39m})
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/git-changed.test.ts[2m > [22mdoesn't run any test in a workspace because there are no changes
[31m[1mAssertionError[22m: expected '\n RUN  v4.0.0-beta.10 /app/test/cli/fixtures/git-changed/workspace\n\n' to contain 'No test files found, exiting with code 0'[39m
- Expected
+ Received
- No test files found, exiting with code 0
+
+  RUN  v4.0.0-beta.10 /app/test/cli/fixtures/git-changed/workspace
+
+
[36m [2mâ¯[22m test/git-changed.test.ts:[2m58:18[22m[39m
    [90m 56| [39m  })
    [90m 57| [39m
    [90m 58| [39m  [34mexpect[39m(stdout)[33m.[39m[34mtoContain[39m([32m'No test files found, exiting with code 0'[39m)
    [90m   | [39m                 [31m^[39m
    [90m 59| [39m})
    [90m 60| [39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/git-changed.test.ts[2m > [22mrelated correctly runs only related tests inside a workspace
[31m[1mAssertionError[22m: expected 'Could not find Git root. Have you initialized git with `git init`?\n' to be '' // Object.is equality[39m
- Expected
+ Received
+ Could not find Git root. Have you initialized git with `git init`?
+
[36m [2mâ¯[22m test/git-changed.test.ts:[2m73:18[22m[39m
    [90m 71| [39m  })
    [90m 72| [39m
    [90m 73| [39m  [34mexpect[39m(stderr)[33m.[39m[34mtoBe[39m([32m''[39m)
    [90m   | [39m                 [31m^[39m
    [90m 74| [39m  [34mexpect[39m(stdout)[33m.[39m[34mtoContain[39m([32m'1 passed'[39m)
    [90m 75| [39m  [34mexpect[39m(stdout)[33m.[39m[34mtoContain[39m([32m'packageA'[39m)
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/list-changed.test.ts[2m > [22mlist command with --changed flag shows only changed tests
[31m[1mAssertionError[22m: expected '' to contain 'related.test.ts'[39m
- Expected
+ Received
- related.test.ts
[36m [2mâ¯[22m test/list-changed.test.ts:[2m20:24[22m[39m
    [90m 18| [39m  [90m// Run list with --changed flag[39m
    [90m 19| [39m  const { stdout: changedTests } = await runVitestCli('list', '-r=./fiâ€¦
    [90m 20| [39m  [34mexpect[39m(changedTests)[33m.[39m[34mtoContain[39m([32m'related.test.ts'[39m)
    [90m   | [39m                       [31m^[39m
    [90m 21| [39m  [34mexpect[39m(changedTests)[33m.[39mnot[33m.[39m[34mtoContain[39m([32m'not-related.test.ts'[39m)
    [90m 22| [39m})
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/list-changed.test.ts[2m > [22mlist command with --changed flag and --filesOnly shows only changed test files
[31m[1mAssertionError[22m: expected '' to contain 'related.test.ts'[39m
- Expected
+ Received
- related.test.ts
[36m [2mâ¯[22m test/list-changed.test.ts:[2m29:24[22m[39m
    [90m 27| [39m
    [90m 28| [39m  const { stdout: changedFiles } = await runVitestCli('list', '-r=./fiâ€¦
    [90m 29| [39m  [34mexpect[39m(changedFiles)[33m.[39m[34mtoContain[39m([32m'related.test.ts'[39m)
    [90m   | [39m                       [31m^[39m
    [90m 30| [39m  [34mexpect[39m(changedFiles)[33m.[39mnot[33m.[39m[34mtoContain[39m([32m'not-related.test.ts'[39m)
    [90m 31| [39m})
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/list-changed.test.ts[2m > [22mlist command with --changed flag and --json outputs changed tests in JSON format
[31m[1mSyntaxError[22m: Unexpected end of JSON input[39m
[36m [2mâ¯[22m test/list-changed.test.ts:[2m38:27[22m[39m
    [90m 36| [39m
    [90m 37| [39m  const { stdout: changedJson } = await runVitestCli('list', '-r=./fixâ€¦
    [90m 38| [39m  [35mconst[39m jsonOutput [33m=[39m [33mJSON[39m[33m.[39m[34mparse[39m(changedJson)
    [90m   | [39m                          [31m^[39m
    [90m 39| [39m  [34mexpect[39m([33mArray[39m[33m.[39m[34misArray[39m(jsonOutput))[33m.[39m[34mtoBe[39m([35mtrue[39m)
    [90m 40| [39m  const relatedTest = jsonOutput.find((test: any) => test.file?.includâ€¦
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[7/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/scoped-fixtures.test.ts[2m > [22mworker fixture initiates and torn down in different workers
[31m[1mAssertionError[22m: expected '\nâ¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯\nError: Terminating worker thread\n â¯ Object.ThreadTermination ../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:354:27\n â¯ ../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:393:73\n â¯ processTicksAndRejections ../node:internal/process/task_queues:95:5\n\n\n\n\n' to be '' // Object.is equality[39m
- Expected
+ Received
+
+ â¯â¯â¯â¯ Unhandled Rejection â¯â¯â¯â¯â¯
+ Error: Terminating worker thread
+  â¯ Object.ThreadTermination ../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:354:27
+  â¯ ../../../node_modules/.pnpm/tinypool@2.0.0/node_modules/tinypool/dist/index.js:393:73
+  â¯ processTicksAndRejections ../node:internal/process/task_queues:95:5
+
+
+
+
+
[36m [2mâ¯[22m test/scoped-fixtures.test.ts:[2m297:18[22m[39m
    [90m295| [39m  })
    [90m296| [39m
    [90m297| [39m  [34mexpect[39m(stderr)[33m.[39m[34mtoBe[39m([32m''[39m)
    [90m   | [39m                 [31m^[39m
    [90m298| [39m
    [90m299| [39m  [90m// tests run in parallel so we can't guarantee the order[39m
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[8/9]â¯[22m[39m
[41m[1m FAIL [22m[49m test/setup-files.test.ts[2m > [22msetup files with forceRerunTrigger[2m > [22mshould run the whole test suite if setup file is changed
[31m[1mAssertionError[22m: expected '\n RUN  v4.0.0-beta.10 /app/test/cli/fixtures/setup-files\n\n' to contain '1 passed'[39m
- Expected
+ Received
- 1 passed
+
+  RUN  v4.0.0-beta.10 /app/test/cli/fixtures/setup-files
+
+
[36m [2mâ¯[22m test/setup-files.test.ts:[2m41:20[22m[39m
    [90m 39| [39m    [35mawait[39m fs[33m.[39m[34mwriteFile[39m(file[33m,[39m codes[33m,[39m [32m'utf-8'[39m)
    [90m 40| [39m    [35mconst[39m { stdout } [33m=[39m [35mawait[39m [34mrun[39m()
    [90m 41| [39m    [34mexpect[39m(stdout)[33m.[39m[34mtoContain[39m([32m'1 passed'[39m)
    [90m   | [39m                   [31m^[39m
    [90m 42| [39m  })
    [90m 43| [39m})
[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[9/9]â¯[22m[39m
[2m Test Files [22m [1m[31m4 failed[39m[22m[2m | [22m[1m[32m33 passed[39m[22m[2m | [22m[33m1 skipped[39m[90m (38)[39m
[2m      Tests [22m [1m[31m9 failed[39m[22m[2m | [22m[1m[32m202 passed[39m[22m[2m | [22m[33m2 skipped[39m[2m | [22m[90m1 todo[39m[90m (214)[39m
[2m   Start at [22m 10:18:42
[2m   Duration [22m 99.77s[2m (transform 538ms, setup 0ms, collect 1.22s, tests 98.11s, environment 0ms, prepare 96ms)[22m
test/cli test: Failed
/app/test/cli:
â€‰ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰ @vitest/test-cli@ test: `vitest -- --runInBand`
Exit status 1
test/config test$ vitest --typecheck.enabled -- --runInBand
â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.

> @vitest/monorepo@4.0.0-beta.10 test:examples /app
> CI=true pnpm -r --reporter-hide-prefix --stream --filter '@vitest/example-*' run test -- --runInBand

Scope: 7 of 46 workspace projects
examples/basic test$ vitest -- --runInBand
examples/fastify test$ vitest -- --runInBand
examples/in-source-test test$ vitest -- --runInBand
examples/lit test$ vitest -- --runInBand
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/examples/basic[39m
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/examples/fastify[39m
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/examples/in-source-test[39m
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/examples/lit[39m
 [32mâœ“[39m test/suite.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [32mâœ“[39m test/basic.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 5[2mms[22m[39m
[2m Test Files [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m   Start at [22m 10:20:24
[2m   Duration [22m 367ms[2m (transform 97ms, setup 0ms, collect 126ms, tests 12ms, environment 1ms, prepare 227ms)[22m
 [32mâœ“[39m src/index.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 10:20:25
[2m   Duration [22m 345ms[2m (transform 45ms, setup 0ms, collect 55ms, tests 4ms, environment 0ms, prepare 114ms)[22m
examples/basic test: Done
examples/profiling test$ vitest -- --runInBand
examples/in-source-test test: Done
examples/projects test$ vitest -- --runInBand
 [32mâœ“[39m test/app.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 121[2mms[22m[39m
[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m3 passed[39m[22m[90m (3)[39m
[2m   Start at [22m 10:20:24
[2m   Duration [22m 794ms[2m (transform 93ms, setup 0ms, collect 385ms, tests 121ms, environment 0ms, prepare 99ms)[22m
examples/fastify test: Done
examples/typecheck test$ vitest -- --runInBand
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/examples/profiling[39m
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/examples/projects[39m
 [32mâœ“[39m test/prime-number.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 5[2mms[22m[39m
[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m   Start at [22m 10:20:25
[2m   Duration [22m 424ms[2m (transform 35ms, setup 0ms, collect 52ms, tests 5ms, environment 0ms, prepare 115ms)[22m
[33mTesting types with tsc and vue-tsc is an experimental feature.
Breaking changes might not follow SemVer, please pin Vitest's version when using it.[39m
[1m[46m RUN [49m[22m [36mv4.0.0-beta.10 [39m[90m/app/examples/typecheck[39m
examples/profiling test: Done
 [32mâœ“[39m test/normal.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mâœ“[39m [30m[42m server [49m[39m test/app.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 117[2mms[22m[39m
[90mstderr[2m | unknown test
[22m[39mLit is in dev mode. Not recommended for production! See https://lit.dev/msg/dev-mode for more information.
 [32mâœ“[39m [30m[43m chromium [49m[39m test/basic.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 135[2mms[22m[39m
[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m   Start at [22m 10:20:25
[2m   Duration [22m 1.94s[2m (transform 0ms, setup 0ms, collect 31ms, tests 135ms, environment 0ms, prepare 1.59s)[22m
examples/lit test: Done
[90mstderr[2m | test/basic.test.tsx[2m > [22m[2mLink changes the state when hovered
[22m[39m`ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.
 [32mâœ“[39m [30m[42m client [49m[39m test/basic.test.tsx [2m([22m[2m1 test[22m[2m)[22m[32m 146[2mms[22m[39m
[2m Test Files [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[32m4 passed[39m[22m[90m (4)[39m
[2m   Start at [22m 10:20:25
[2m   Duration [22m 1.49s[2m (transform 122ms, setup 119ms, collect 661ms, tests 263ms, environment 650ms, prepare 211ms)[22m
examples/projects test: Done
 [32mâœ“[39m [44m[1m TS [22m[49m test/type.test-d.ts [2m([22m[2m1 test[22m[2m)[22m
[2m Test Files [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2m      Tests [22m [1m[32m2 passed[39m[22m[90m (2)[39m
[2mType Errors [22m [2mno errors[22m
[2m   Start at [22m 10:20:26
[2m   Duration [22m 1.94s[2m (transform 11ms, setup 0ms, collect 26ms, tests 4ms, environment 0ms, prepare 105ms, typecheck 1.86s)[22m
examples/typecheck test: Done

> @vitest/ui@4.0.0-beta.10 test:ui /app/packages/ui
> vitest --browser -- --runInBand


 RUN  v4.0.0-beta.10 /app/packages/ui

â¯â¯â¯â¯â¯â¯ Unhandled Errors â¯â¯â¯â¯â¯â¯

Vitest caught 1 unhandled error during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.

â¯â¯â¯â¯â¯â¯ Unhandled Error â¯â¯â¯â¯â¯â¯â¯
Error: browserType.launch: Target page, context or browser has been closed
Browser logs:

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Looks like you launched a headed browser without having a XServer running.                     â•‘
â•‘ Set either 'headless: true' or use 'xvfb-run <your-playwright-app>' before running Playwright. â•‘
â•‘                                                                                                â•‘
â•‘ <3 Playwright Team                                                                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Call log:
  - <launching> /root/.cache/ms-playwright/chromium-1187/chrome-linux/chrome --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --no-sandbox --start-maximized --user-data-dir=/tmp/playwright_chromiumdev_profile-za7Qc8 --remote-debugging-pipe --no-startup-window
  - <launched> pid=7634
  - [pid=7634][err] [7634:7654:0905/172034.657749:ERROR:dbus/bus.cc:408] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory
  - [pid=7634][err] [7634:7634:0905/172034.659759:ERROR:ui/ozone/platform/x11/ozone_platform_x11.cc:249] Missing X server or $DISPLAY
  - [pid=7634][err] [7634:7634:0905/172034.659771:ERROR:ui/aura/env.cc:257] The platform failed to initialize.  Exiting.
  - [pid=7634] <gracefully close start>
  - [pid=7634] <kill>
  - [pid=7634] <will force kill>
  - [pid=7634] <process did exit: exitCode=1, signal=null>
  - [pid=7634] starting temporary directories cleanup
  - [pid=7634] finished temporary directories cleanup
  - [pid=7634] <gracefully close end>

 â¯ ../browser/dist/providers/playwright.js:84:54
 â¯ PlaywrightBrowserProvider.createContext ../browser/dist/providers/playwright.js:210:19
 â¯ PlaywrightBrowserProvider.openBrowserPage ../browser/dist/providers/playwright.js:271:19
 â¯ PlaywrightBrowserProvider.openPage ../browser/dist/providers/playwright.js:285:23
 â¯ BrowserPool.openPage ../browser/dist/index.js:3916:3
 â¯ BrowserPool.runTests ../browser/dist/index.js:3906:3
 â¯ runWorkspaceTests ../browser/dist/index.js:3814:3
 â¯ executeTests ../vitest/dist/chunks/coverage.CntQ8BvV.js:3329:8
 â¯ ../vitest/dist/chunks/cli-api.zlpTop9u.js:9452:6
 â¯ Vitest.runFiles ../vitest/dist/chunks/cli-api.zlpTop9u.js:9471:7
 â¯ Vitest.start ../vitest/dist/chunks/cli-api.zlpTop9u.js:9385:98
 â¯ startVitest ../vitest/dist/chunks/cli-api.zlpTop9u.js:10203:8
 â¯ start ../vitest/dist/chunks/cac.DDLrULbK.js:1337:107

â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯


 Test Files   (3)
      Tests  no tests
     Errors  1 error
   Start at  10:20:32
   Duration  1.82s (transform 0ms, setup 0ms, collect 0ms, tests 0ms, environment 0ms, prepare 0ms)

error during close browserType.launch: Target page, context or browser has been closed
Browser logs:

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ Looks like you launched a headed browser without having a XServer running.                     â•‘
â•‘ Set either 'headless: true' or use 'xvfb-run <your-playwright-app>' before running Playwright. â•‘
â•‘                                                                                                â•‘
â•‘ <3 Playwright Team                                                                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Call log:
  - <launching> /root/.cache/ms-playwright/chromium-1187/chrome-linux/chrome --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=AcceptCHFrame,AvoidUnnecessaryBeforeUnloadCheckSync,DestroyProfileOnBrowserClose,DialMediaRouteProvider,GlobalMediaControls,HttpsUpgrades,LensOverlay,MediaRouter,PaintHolding,ThirdPartyStoragePartitioning,Translate,AutoDeElevate --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --edge-skip-compat-layer-relaunch --enable-automation --no-sandbox --start-maximized --user-data-dir=/tmp/playwright_chromiumdev_profile-za7Qc8 --remote-debugging-pipe --no-startup-window
  - <launched> pid=7634
  - [pid=7634][err] [7634:7654:0905/172034.657749:ERROR:dbus/bus.cc:408] Failed to connect to the bus: Failed to connect to socket /run/dbus/system_bus_socket: No such file or directory
  - [pid=7634][err] [7634:7634:0905/172034.659759:ERROR:ui/ozone/platform/x11/ozone_platform_x11.cc:249] Missing X server or $DISPLAY
  - [pid=7634][err] [7634:7634:0905/172034.659771:ERROR:ui/aura/env.cc:257] The platform failed to initialize.  Exiting.
  - [pid=7634] <gracefully close start>
  - [pid=7634] <kill>
  - [pid=7634] <will force kill>
  - [pid=7634] <process did exit: exitCode=1, signal=null>
  - [pid=7634] starting temporary directories cleanup
  - [pid=7634] finished temporary directories cleanup
  - [pid=7634] <gracefully close end>

    at /app/packages/browser/dist/providers/playwright.js:84:54
    at async PlaywrightBrowserProvider.createContext (/app/packages/browser/dist/providers/playwright.js:210:19)
    at async PlaywrightBrowserProvider.openBrowserPage (/app/packages/browser/dist/providers/playwright.js:271:19)
    at async PlaywrightBrowserProvider.openPage (/app/packages/browser/dist/providers/playwright.js:285:23)
    at async BrowserPool.openPage (/app/packages/browser/dist/index.js:3916:3)
    at async BrowserPool.runTests (/app/packages/browser/dist/index.js:3906:3)
    at async runWorkspaceTests (/app/packages/browser/dist/index.js:3814:3)
    at async executeTests (/app/packages/vitest/dist/chunks/coverage.CntQ8BvV.js:3329:8)
    at async file:///app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js:9452:6
    at async Vitest.runFiles (/app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js:9471:7)
    at async Vitest.start (/app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js:9385:98)
    at async startVitest (/app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js:10203:8)
    at async start (/app/packages/vitest/dist/chunks/cac.DDLrULbK.js:1337:107) {
  type: 'Unhandled Error',
  stacks: [
    {
      method: '',
      file: '/app/packages/browser/dist/providers/playwright.js',
      line: 84,
      column: 54
    },
    {
      method: 'PlaywrightBrowserProvider.createContext',
      file: '/app/packages/browser/dist/providers/playwright.js',
      line: 210,
      column: 19
    },
    {
      method: 'PlaywrightBrowserProvider.openBrowserPage',
      file: '/app/packages/browser/dist/providers/playwright.js',
      line: 271,
      column: 19
    },
    {
      method: 'PlaywrightBrowserProvider.openPage',
      file: '/app/packages/browser/dist/providers/playwright.js',
      line: 285,
      column: 23
    },
    {
      method: 'BrowserPool.openPage',
      file: '/app/packages/browser/dist/index.js',
      line: 3916,
      column: 3
    },
    {
      method: 'BrowserPool.runTests',
      file: '/app/packages/browser/dist/index.js',
      line: 3906,
      column: 3
    },
    {
      method: 'runWorkspaceTests',
      file: '/app/packages/browser/dist/index.js',
      line: 3814,
      column: 3
    },
    {
      method: 'executeTests',
      file: '/app/packages/vitest/dist/chunks/coverage.CntQ8BvV.js',
      line: 3329,
      column: 8
    },
    {
      method: '',
      file: '/app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js',
      line: 9452,
      column: 6
    },
    {
      method: 'Vitest.runFiles',
      file: '/app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js',
      line: 9471,
      column: 7
    },
    {
      method: 'Vitest.start',
      file: '/app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js',
      line: 9385,
      column: 98
    },
    {
      method: 'startVitest',
      file: '/app/packages/vitest/dist/chunks/cli-api.zlpTop9u.js',
      line: 10203,
      column: 8
    },
    {
      method: 'start',
      file: '/app/packages/vitest/dist/chunks/cac.DDLrULbK.js',
      line: 1337,
      column: 107
    }
  ]
}
â€‰ELIFECYCLEâ€‰ Command failed with exit code 1.
