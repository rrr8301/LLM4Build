yarn run v1.22.22
$ /app/node_modules/.bin/jest --ci --maxWorkers 4 --reporters=default --reporters=jest-junit --rootdir=./
PASS packages/metro/src/DeltaBundler/__tests__/Graph-test.js
PASS private/metro-memory-fs/src/__tests__/index-test.js
PASS packages/metro-runtime/src/polyfills/__tests__/require-test.js
PASS packages/metro-file-map/src/__tests__/index-test.js
PASS packages/metro/src/ModuleGraph/worker/__tests__/collectDependencies-test.js
PASS packages/metro-resolver/src/__tests__/package-exports-test.js
PASS packages/metro-source-map/src/__tests__/generateFunctionMap-test.js
PASS packages/metro-symbolicate/src/__tests__/ChromeHeapSnapshotProcessor-test.js
PASS packages/metro-source-map/src/__tests__/Consumer-test.js
PASS packages/metro-file-map/src/lib/__tests__/TreeFS-test.js
PASS packages/metro-resolver/src/__tests__/index-test.js
PASS packages/metro/src/DeltaBundler/__tests__/DeltaCalculator-test.js
PASS packages/metro-transform-plugins/src/__tests__/inline-plugin-test.js
PASS packages/metro/src/__tests__/HmrServer-test.js
PASS packages/metro-file-map/src/crawlers/__tests__/watchman-test.js
PASS packages/metro-source-map/src/__tests__/BundleBuilder-test.js
PASS packages/metro/src/DeltaBundler/Serializers/__tests__/baseJSBundle-test.js
PASS packages/metro-symbolicate/src/__tests__/symbolicate-test.js
PASS packages/metro-cache/src/stores/__tests__/HttpStore-test.js
PASS packages/metro/src/DeltaBundler/__tests__/resolver-test.js (6.032 s)
PASS packages/buck-worker-tool/src/__tests__/worker-test.js
PASS packages/metro-file-map/src/crawlers/__tests__/node-test.js
PASS packages/metro-transform-plugins/src/__tests__/import-export-plugin-test.js
PASS packages/metro/src/DeltaBundler/__tests__/DeltaCalculator-context-test.js
PASS packages/metro-file-map/src/cache/__tests__/DiskCacheManager-test.js
PASS packages/metro-source-map/src/__tests__/composeSourceMaps-test.js
PASS packages/metro/src/__tests__/Assets-test.js
PASS packages/metro-runtime/src/modules/__tests__/HMRClient-test.js
PASS packages/metro-transform-plugins/src/__tests__/inline-requires-plugin-test.js
PASS packages/metro/src/ModuleGraph/worker/__tests__/JsFileWrapping-test.js
PASS packages/metro-file-map/src/__tests__/worker-test.js
PASS packages/metro-transform-plugins/src/__tests__/constant-folding-plugin-test.js
PASS packages/metro-cache/src/__tests__/Cache-test.js
PASS packages/metro-file-map/src/watchers/__tests__/WatchmanWatcher-test.js
PASS packages/metro/src/Server/__tests__/Server-test.js (6.413 s)
PASS packages/metro-config/src/__tests__/loadConfig-test.js
PASS packages/metro-file-map/src/lib/__tests__/dependencyExtractor-test.js
PASS packages/metro/src/lib/__tests__/getGraphId-test.js
PASS scripts/__tests__/subpackages-test.js
PASS packages/metro-file-map/src/crawlers/watchman/__tests__/planQuery-test.js
PASS packages/metro-file-map/src/crawlers/watchman/__tests__/index-test.js
PASS packages/metro-transform-worker/src/__tests__/index-test.js (5.948 s)
PASS packages/metro/src/DeltaBundler/__tests__/buildSubgraph-test.js
PASS packages/metro/src/DeltaBundler/__tests__/Transformer-test.js
PASS packages/metro/src/DeltaBundler/Serializers/__tests__/getRamBundleInfo-test.js
PASS packages/metro/src/lib/__tests__/CountingSet-test.js
PASS packages/metro/src/DeltaBundler/Serializers/helpers/__tests__/js-test.js
PASS packages/metro/src/DeltaBundler/Serializers/__tests__/sourceMapString-test.js
PASS packages/metro-file-map/src/plugins/haste/__tests__/HastePlugin-test.js
PASS packages/metro/src/Server/__tests__/MultipartResponse-test.js
PASS packages/metro-file-map/src/lib/__tests__/RootPathUtils-test.js
PASS packages/metro-file-map/src/watchers/__tests__/integration-test.js
PASS packages/metro-resolver/src/__tests__/package-imports-test.js
PASS packages/metro/src/DeltaBundler/Serializers/__tests__/hmrJSBundle-test.js
PASS packages/metro-source-map/src/__tests__/Generator-test.js
PASS packages/metro-file-map/src/crawlers/__tests__/integration-test.js
PASS packages/metro-source-map/src/__tests__/source-map-test.js
PASS packages/metro-file-map/src/plugins/mocks/__tests__/MockPlugin-test.js
PASS packages/metro/src/lib/__tests__/parseBundleOptionsFromBundleRequestUrl-test.js
PASS packages/metro-symbolicate/src/__tests__/symbolicate-heap-snapshot-test.js
PASS packages/metro-config/src/defaults/__tests__/exclusionList-test.js
PASS packages/metro-file-map/src/lib/__tests__/rootRelativeCacheKeys-test.js
PASS packages/metro/src/DeltaBundler/Serializers/__tests__/getAllFiles-test.js
PASS packages/metro/src/ModuleGraph/worker/__tests__/importLocationsPlugin-test.js
PASS packages/metro/src/DeltaBundler/__tests__/WorkerFarm-test.js
PASS packages/metro-core/src/__tests__/Terminal-test.js
PASS packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js
  ● Console

    console.error
      react-test-renderer is deprecated. See https://react.dev/warnings/react-test-renderer

      39 |     let rendered;
      40 |     await renderer.act(async () => {
    > 41 |       rendered = renderer.create(<Component />);
         |                           ^
      42 |     });
      43 |     expect(rendered?.toJSON()).toBe('version1: initialState1');
      44 |

      at Object.<anonymous>.process.env.NODE_ENV.exports.create (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:17337:17)
      at create (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:41:27)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at Object.act (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:40:20)

    console.error
      The current testing environment is not configured to support act(...)

      39 |     let rendered;
      40 |     await renderer.act(async () => {
    > 41 |       rendered = renderer.create(<Component />);
         |                           ^
      42 |     });
      43 |     expect(rendered?.toJSON()).toBe('version1: initialState1');
      44 |

      at isConcurrentActEnvironment (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11999:17)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14399:7)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12086:9)
      at updateContainerImpl (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14984:9)
      at updateContainer (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14927:7)
      at Object.<anonymous>.process.env.NODE_ENV.exports.create (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:17369:7)
      at create (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:41:27)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at Object.act (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:40:20)

    console.error
      react-test-renderer is deprecated. See https://react.dev/warnings/react-test-renderer

       95 |     let rendered;
       96 |     await renderer.act(async () => {
    >  97 |       rendered = renderer.create(<Component />);
          |                           ^
       98 |     });
       99 |     expect(rendered?.toJSON()).toBe('version1: initialState1');
      100 |

      at Object.<anonymous>.process.env.NODE_ENV.exports.create (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:17337:17)
      at create (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:97:27)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at Object.act (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:96:20)

    console.error
      The current testing environment is not configured to support act(...)

       95 |     let rendered;
       96 |     await renderer.act(async () => {
    >  97 |       rendered = renderer.create(<Component />);
          |                           ^
       98 |     });
       99 |     expect(rendered?.toJSON()).toBe('version1: initialState1');
      100 |

      at isConcurrentActEnvironment (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:11999:17)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14399:7)
      at scheduleUpdateOnFiber (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:12086:9)
      at updateContainerImpl (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14984:9)
      at updateContainer (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:14927:7)
      at Object.<anonymous>.process.env.NODE_ENV.exports.create (node_modules/react-test-renderer/cjs/react-test-renderer.development.js:17369:7)
      at create (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:97:27)
      at Object.<anonymous>.process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:814:22)
      at Object.act (packages/metro-runtime/src/polyfills/__tests__/fast-refresh-integration-test.js:96:20)

PASS packages/metro/src/integration_tests/__tests__/server-test.js
PASS packages/metro-symbolicate/src/__tests__/Symbolication-test.js
PASS packages/metro/src/DeltaBundler/__tests__/DeltaBundler-test.js
PASS packages/metro-source-map/src/__tests__/B64Builder-test.js
PASS packages/metro-file-map/src/lib/__tests__/FileProcessor-test.js
PASS packages/metro/src/lib/__tests__/getPreludeCode-test.js
PASS packages/metro-minify-terser/src/__tests__/terser-issue-1341-test.js
PASS packages/metro-core/src/__tests__/canonicalize-test.js
PASS packages/metro/src/node-haste/lib/__tests__/AssetPaths-test.js
PASS packages/metro-transform-plugins/src/__tests__/normalizePseudoGlobals-test.js
PASS packages/metro-minify-terser/src/__tests__/minify-test.js
PASS packages/metro/src/lib/__tests__/bundleToString-test.js
PASS packages/metro/src/lib/__tests__/logToConsole-test.js
PASS packages/metro-cache/src/stores/__tests__/HttpGetStore-test.js
PASS packages/metro/src/integration_tests/__tests__/build-errors-test.js
PASS packages/metro-resolver/src/__tests__/browser-spec-test.js
PASS packages/metro-file-map/src/lib/__tests__/checkWatchmanCapabilities-test.js
PASS packages/metro-resolver/src/__tests__/platform-extensions-test.js
PASS packages/metro-resolver/src/__tests__/assets-test.js
PASS packages/metro/src/integration_tests/__tests__/server-torn-down-test.js
PASS scripts/eslint/rules/__tests__/strictly-null-test.js
PASS packages/metro-cache/src/stores/__tests__/FileStore-test.js
PASS packages/metro-cache/src/stores/__tests__/AutoCleanFileStore-test.js
PASS packages/metro/src/lib/__tests__/debounceAsyncQueue-test.js
PASS packages/metro/src/lib/__tests__/contextModuleTemplates-test.js
PASS packages/metro/src/integration_tests/__tests__/sourcemap-test.js
PASS packages/metro/src/DeltaBundler/Serializers/__tests__/getAssets-test.js
PASS packages/metro/src/lib/__tests__/BatchProcessor-test.js
PASS packages/metro-symbolicate/src/__tests__/SourceMetadataMapConsumer-test.js
PASS packages/metro/src/integration_tests/__tests__/optional-dependencies-test.js
PASS packages/metro/src/integration_tests/__tests__/require-resolveWeak-test.js
PASS packages/metro-core/src/__tests__/Logger-test.js
PASS packages/metro/src/lib/__tests__/contextModule-test.js
PASS packages/metro/src/cli/__tests__/parseKeyValueParamArray-test.js
PASS packages/metro/src/integration_tests/__tests__/build-test.js
PASS packages/metro/src/DeltaBundler/Serializers/helpers/__tests__/getTransitiveDependencies-test.js
PASS scripts/eslint/rules/__tests__/metro-deep-imports-test.js
PASS packages/metro/src/lib/__tests__/JsonReporter-test.js
PASS packages/metro-symbolicate/src/__tests__/GoogleIgnoreListConsumer-test.js
PASS packages/metro-file-map/src/__tests__/includes_dotfiles-test.js
PASS packages/metro/src/DeltaBundler/__tests__/mergeDeltas-test.js
PASS packages/metro-resolver/src/__tests__/symlinks-test.js
PASS packages/metro/src/node-haste/lib/__tests__/parsePlatformFilePath-test.js
PASS packages/metro-config/src/defaults/__tests__/getMaxWorkers-test.js
PASS packages/metro-babel-transformer/src/__tests__/transform-test.js
PASS packages/metro/src/integration_tests/__tests__/buildGraph-test.js
PASS packages/metro-cache-key/src/__tests__/index-test.js
PASS packages/metro-transform-plugins/src/__tests__/addParamsToDefineCall-test.js
PASS packages/metro/src/lib/__tests__/parseCustomTransformOptions-test.js
PASS packages/metro/src/lib/__tests__/parseCustomResolverOptions-test.js
PASS packages/ob1/src/__tests__/ob1-test.js
PASS packages/metro-file-map/src/lib/__tests__/normalizePathSeparatorsToSystem-test.js
PASS packages/metro-file-map/src/plugins/haste/__tests__/getPlatformExtension-test.js
PASS packages/metro/src/integration_tests/__tests__/require-context-test.js
  ● Console

    console.warn
      Error while reading cache, falling back to a full crawl:
       Error: Unable to deserialize cloned data due to invalid or unsupported version.
          at deserialize (node:v8:401:7)
          at DiskCacheManager.read (/app/packages/metro-file-map/src/cache/DiskCacheManager.js:93:25)
          at FileMap.read (/app/packages/metro-file-map/src/index.js:479:14)
          at /app/packages/metro-file-map/src/index.js:375:25
          at DependencyGraph.ready (/app/packages/metro/src/node-haste/DependencyGraph.js:150:5)
          at Bundler.ready (/app/packages/metro/src/Bundler.js:88:5)
          at IncrementalBundler.ready (/app/packages/metro/src/IncrementalBundler.js:368:5)
          at Server.ready (/app/packages/metro/src/Server.js:1604:5)

      479 |       data = await this._cacheManager.read();
      480 |     } catch (e) {
    > 481 |       this._console.warn(
          |                     ^
      482 |         'Error while reading cache, falling back to a full crawl:\n',
      483 |         e,
      484 |       );

      at FileMap.warn (packages/metro-file-map/src/index.js:481:21)
      at packages/metro-file-map/src/index.js:375:25
      at DependencyGraph.ready (packages/metro/src/node-haste/DependencyGraph.js:150:5)
      at Bundler.ready (packages/metro/src/Bundler.js:88:5)
      at IncrementalBundler.ready (packages/metro/src/IncrementalBundler.js:368:5)
      at Server.ready (packages/metro/src/Server.js:1604:5)

PASS packages/metro/src/Bundler/__tests__/util-test.js
PASS packages/metro/src/integration_tests/__tests__/rambundle-test.js
PASS packages/metro/src/lib/__tests__/formatBundlingError-test.js
PASS packages/metro-cache/src/__tests__/stableHash-test.js
PASS scripts/__tests__/babel-lib-defs-test.js
PASS packages/metro-config/src/__tests__/mergeConfig-test.js
PASS packages/metro-file-map/src/plugins/mocks/__tests__/getMockName-test.js
PASS packages/metro-babel-register/src/__tests__/parses-without-transpilation-test.js
PASS packages/metro/src/shared/output/__tests__/meta-test.js
PASS packages/metro/src/integration_tests/__tests__/import-export-test.js
PASS scripts/__tests__/ts-defs-sync-test.js (9.48 s)

Test Suites: 132 passed, 132 total
Tests:       22 skipped, 2311 passed, 2333 total
Snapshots:   513 passed, 513 total
Time:        26.602 s
Ran all test suites.
Done in 27.24s.
Codecov upload step would be executed here if supported.
