Scope: all 241 workspace projects
Progress: resolved 1, reused 0, downloaded 0, added 0
Progress: resolved 1153, reused 1012, downloaded 0, added 0
Progress: resolved 1360, reused 1200, downloaded 0, added 0
Packages: +90
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Progress: resolved 1360, reused 1200, downloaded 0, added 90, done
. postinstall$ simple-git-hooks
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: [INFO] Successfully set the pre-commit with command: pnpm exec lint-staged --concurrent false
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: /bin/sh: 1: git: not found
. postinstall: [INFO] Successfully set all git hooks
. postinstall: Done
 WARN  Issues with peer dependencies found
playground/external
└─┬ vue 3.4.38
  └─┬ @vue/server-renderer 3.4.38
    └── ✕ unmet peer vue@3.4.38: found 3.5.20

Done in 5s using pnpm v10.15.0

> @vitejs/vite-monorepo@ build /app
> pnpm -r --filter='./packages/*' run build

Scope: 3 of 241 workspace projects
packages/create-vite build$ tsdown
packages/vite build$ premove dist && pnpm build-bundle && pnpm build-types
packages/create-vite build: ℹ tsdown v0.14.1 powered by rolldown v1.0.0-beta.34
packages/create-vite build: ℹ Using tsdown config: /app/packages/create-vite/tsdown.config.ts
packages/create-vite build: ℹ entry: src/index.ts
packages/create-vite build: ℹ target: node20
packages/create-vite build: ℹ tsconfig: tsconfig.json
packages/create-vite build: ℹ Build start
packages/create-vite build: Warning validate input options.
packages/create-vite build: - For the "resolve.tsconfigFilename". Invalid key: Expected never but received "tsconfigFilename".
packages/vite build: > vite@7.1.4 build-bundle /app/packages/vite
packages/vite build: > rolldown --config rolldown.config.ts
packages/create-vite build: ℹ dist/index.js  54.83 kB │ gzip: 17.30 kB
packages/create-vite build: ℹ 1 files, total: 54.83 kB
packages/create-vite build: ✔ Build complete in 141ms
packages/create-vite build: Done
packages/vite build: shimmed: postcss-import/index.js
packages/vite build: shimmed: postcss-load-config/src/req.js
packages/vite build: shimmed: postcss-import/lib/parse-styles.js
packages/vite build: <DIR>/client/env.mjs  chunk │ size: 0.61 kB
packages/vite build: <DIR>/client/client.mjs  chunk │ size: 33.67 kB
packages/vite build: <DIR>/node/chunks/dep-DPV9_aqi.js  chunk │ size:     0.12 kB
packages/vite build: <DIR>/node/chunks/dep-DMXKBGET.js  chunk │ size:     0.21 kB
packages/vite build: <DIR>/node/chunks/dep-t6m959kc.js  chunk │ size:     0.27 kB
packages/vite build: <DIR>/node/chunks/dep-BHlaQtHS.js  chunk │ size:     0.53 kB
packages/vite build: <DIR>/node/chunks/dep-BkmSwcUW.js  chunk │ size:     0.60 kB
packages/vite build: <DIR>/node/chunks/dep-lCKrEJQm.js  chunk │ size:     1.38 kB
packages/vite build: <DIR>/node/index.js                chunk │ size:     3.39 kB
packages/vite build: <DIR>/node/chunks/dep-SmwnYDP9.js  chunk │ size:    11.51 kB
packages/vite build: <DIR>/node/chunks/dep-BuoK8Wda.js  chunk │ size:    12.24 kB
packages/vite build: <DIR>/node/chunks/dep-DDbTn5rw.js  chunk │ size:    19.70 kB
packages/vite build: <DIR>/node/cli.js                  chunk │ size:    27.04 kB
packages/vite build: <DIR>/node/chunks/dep-DCVhRpiz.js  chunk │ size:   216.75 kB
packages/vite build: <DIR>/node/chunks/dep-sDKrrA4S.js  chunk │ size:   242.18 kB
packages/vite build: <DIR>/node/chunks/dep-C6pp_iVS.js  chunk │ size: 1,355.92 kB
packages/vite build: <DIR>/node/module-runner.js  chunk │ size: 48.95 kB
packages/vite build: ✔ rolldown v1.0.0-beta.32 Finished in 764.90 ms
packages/vite build: > vite@7.1.4 build-types /app/packages/vite
packages/vite build: > pnpm build-types-roll && pnpm build-types-check
packages/vite build: > vite@7.1.4 build-types-roll /app/packages/vite
packages/vite build: > rolldown --config rolldown.dts.config.ts
packages/vite build: <DIR>/moduleRunnerTransport-BWUZBVLX.d.ts  chunk │ size:   2.90 kB
packages/vite build: <DIR>/module-runner.d.ts                   chunk │ size:  11.59 kB
packages/vite build: <DIR>/index.d.ts                           chunk │ size: 148.56 kB
packages/vite build: ✔ rolldown v1.0.0-beta.32 Finished in 2.84 s
packages/vite build: > vite@7.1.4 build-types-check /app/packages/vite
packages/vite build: > tsc --project tsconfig.check.json
packages/vite build: Done
packages/plugin-legacy build$ tsdown
packages/plugin-legacy build: ℹ tsdown v0.14.1 powered by rolldown v1.0.0-beta.34
packages/plugin-legacy build: ℹ Using tsdown config: /app/packages/plugin-legacy/tsdown.config.ts
packages/plugin-legacy build: ℹ entry: src/index.ts
packages/plugin-legacy build: ℹ target: node20
packages/plugin-legacy build: ℹ Build start
packages/plugin-legacy build: Warning validate input options.
packages/plugin-legacy build: - For the "resolve.tsconfigFilename". Invalid key: Expected never but received "tsconfigFilename".
packages/plugin-legacy build: ℹ dist/index.js    25.53 kB │ gzip: 7.37 kB
packages/plugin-legacy build: ℹ dist/index.d.ts   1.32 kB │ gzip: 0.52 kB
packages/plugin-legacy build: ℹ 2 files, total: 26.86 kB
packages/plugin-legacy build: ✔ Build complete in 2085ms
packages/plugin-legacy build: Done

> @vitejs/vite-monorepo@ test-unit /app
> vitest run


 RUN  v3.2.4 /app

 ✓ packages/vite/src/node/__tests__/constants.spec.ts (1 test) 3ms
 ✓ packages/vite/src/node/server/middlewares/__tests__/hostCheck.spec.ts (1 test) 3ms
 ✓ packages/vite/src/node/__tests__/assetSource.spec.ts (9 tests) 15ms
 ✓ packages/plugin-legacy/src/__tests__/snippets.spec.ts (14 tests) 18ms
 ✓ packages/vite/src/node/server/__tests__/search-root.spec.ts (5 tests) 6ms
 ✓ packages/vite/src/node/__tests__/plugins/pluginFilter.spec.ts (33 tests) 23ms
 ✓ packages/vite/src/node/__tests__/utils.spec.ts (84 tests | 1 skipped) 53ms
 ✓ packages/plugin-legacy/src/__tests__/readme.spec.ts (1 test) 6ms
 ✓ packages/vite/src/node/__tests__/plugins/esbuild.spec.ts (18 tests) 33ms
 ✓ packages/vite/src/node/__tests__/plugins/importGlob/utils.spec.ts (6 tests) 11ms
 ✓ packages/vite/src/node/__tests__/env.spec.ts (8 tests) 43ms
 ✓ packages/vite/src/node/__tests__/plugins/importGlob/parse.spec.ts (24 tests) 45ms
 ✓ packages/vite/src/node/__tests__/plugins/importGlob/fixture.spec.ts (4 tests) 80ms
 ✓ packages/vite/src/node/__tests__/plugins/terser.spec.ts (2 tests) 609ms
   ✓ terser > basic  418ms
 ✓ packages/create-vite/__tests__/cli.spec.ts (14 tests) 1340ms
 ✓ packages/vite/src/node/server/__tests__/moduleGraph.spec.ts (3 tests) 9ms
 ✓ packages/vite/src/node/__tests__/external.spec.ts (2 tests) 34ms
 ✓ packages/vite/src/node/__tests__/plugins/json.spec.ts (8 tests) 33ms
 ✓ packages/vite/src/node/__tests__/plugins/dynamicImportVar/parse.spec.ts (11 tests) 15ms
 ✓ packages/vite/src/node/__tests__/plugins/import.spec.ts (6 tests) 9ms
 ✓ packages/vite/src/node/__tests__/plugins/assetImportMetaUrl.spec.ts (5 tests) 23ms
 ✓ packages/vite/src/node/__tests__/dev.spec.ts (2 tests) 98ms
 ✓ packages/vite/src/node/__tests__/plugins/workerImportMetaUrl.spec.ts (17 tests) 45ms
 ✓ packages/vite/src/node/__tests__/plugins/define.spec.ts (10 tests) 154ms
 ✓ packages/vite/src/node/__tests__/plugins/css.spec.ts (33 tests) 190ms
 ✓ packages/vite/src/node/server/__tests__/pluginContainer.spec.ts (17 tests) 177ms
 ✓ packages/vite/src/node/ssr/runtime/__tests__/server-no-hmr.spec.ts (1 test) 187ms
 ✓ packages/vite/src/node/__tests__/plugins/modulePreloadPolyfill/modulePreloadPolyfill.spec.ts (2 tests) 239ms
 ✓ packages/vite/src/node/__tests__/runnerImport.spec.ts (5 tests) 315ms
 ✓ packages/vite/src/node/ssr/__tests__/ssrStacktrace.spec.ts (1 test) 234ms
 ✓ packages/vite/src/node/server/__tests__/watcher.spec.ts (3 tests) 268ms
 ✓ packages/vite/src/node/__tests__/plugins/index.spec.ts (6 tests) 57ms
 ✓ packages/vite/src/node/ssr/runtime/__tests__/server-source-maps.spec.ts (4 tests) 258ms
 ✓ packages/vite/src/node/ssr/__tests__/ssrTransform.spec.ts (69 tests) 321ms
 ✓ packages/vite/src/node/ssr/runtime/__tests__/server-hmr.spec.ts (2 tests) 291ms
 ✓ packages/vite/src/node/ssr/runtime/__tests__/server-worker-runner.spec.ts (1 test) 386ms
   ✓ running module runner inside a worker > correctly runs ssr code  384ms
 ✓ packages/vite/src/node/ssr/runtime/__tests__/server-worker-runner.invoke.spec.ts (3 tests) 395ms
 ✓ packages/vite/src/node/__tests__/config.spec.ts (53 tests) 482ms
 ✓ packages/vite/src/node/__tests__/plugins/hooks.spec.ts (12 tests) 487ms
 ✓ packages/vite/src/node/__tests__/resolve.spec.ts (14 tests) 724ms
 ✓ packages/vite/src/node/__tests__/environment.spec.ts (4 tests) 772ms
 ✓ packages/vite/src/node/ssr/__tests__/ssrLoadModule.spec.ts (13 tests) 782ms
 ✓ packages/vite/src/node/ssr/runtime/__tests__/server-runtime.spec.ts (36 tests) 840ms
 ✓ packages/vite/src/node/__tests__/build.spec.ts (53 tests) 977ms
   ✓ build > file hash should change when css changes for dynamic entries  320ms
 ✓ packages/vite/src/node/__tests__/scan.spec.ts (7 tests) 1375ms
   ✓ scan jsx-runtime  1365ms

 Test Files  45 passed (45)
      Tests  626 passed | 1 skipped (627)
   Start at  19:43:01
   Duration  4.45s (transform 8.45s, setup 0ms, collect 66.87s, tests 12.47s, environment 14ms, prepare 7.70s)


> @vitejs/vite-monorepo@ test-serve /app
> vitest run -c vitest.config.e2e.ts


 RUN  v3.2.4 /app


No test files found, exiting with code 1

include: ./playground/**/*.spec.[tj]s
exclude:  **/node_modules/**, **/dist/**, **/cypress/**, **/.{idea,git,cache,output,temp}/**, **/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build,eslint,prettier}.config.*


⎯⎯⎯⎯⎯⎯ Unhandled Error ⎯⎯⎯⎯⎯⎯⎯
Error:
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Missing libraries:                                   ║
║     libglib-2.0.so.0                                 ║
║     libgobject-2.0.so.0                              ║
║     libnspr4.so                                      ║
║     libnss3.so                                       ║
║     libnssutil3.so                                   ║
║     libdbus-1.so.3                                   ║
║     libgio-2.0.so.0                                  ║
║     libatk-1.0.so.0                                  ║
║     libatk-bridge-2.0.so.0                           ║
║     libexpat.so.1                                    ║
║     libatspi.so.0                                    ║
║     libX11.so.6                                      ║
║     libXcomposite.so.1                               ║
║     libXdamage.so.1                                  ║
║     libXext.so.6                                     ║
║     libXfixes.so.3                                   ║
║     libXrandr.so.2                                   ║
║     libgbm.so.1                                      ║
║     libxcb.so.1                                      ║
║     libxkbcommon.so.0                                ║
║     libasound.so.2                                   ║
╚══════════════════════════════════════════════════════╝ Failed to launch browser.
 ❯ validateDependenciesLinux node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/dependencies.js:269:9
 ❯ Registry._validateHostRequirements node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/index.js:934:14
 ❯ Registry._validateHostRequirementsForExecutableIfNeeded node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/index.js:1056:7
 ❯ Registry.validateHostRequirementsForExecutablesIfNeeded node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/index.js:1045:7
 ❯ Chromium._prepareToLaunch node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:185:7
 ❯ Chromium._launchProcess node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:196:22
 ❯ Chromium._innerLaunch node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:112:70
 ❯ Chromium._innerLaunchWithRetries node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:99:14
 ❯ node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/browserServerImpl.js:77:18
 ❯ ProgressController.run node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/progress.js:78:22





⎯⎯⎯⎯⎯⎯⎯ Startup Error ⎯⎯⎯⎯⎯⎯⎯⎯
[Error: ENOENT: no such file or directory, lstat '/app/playground-temp'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'lstat',
  path: '/app/playground-temp'
}



 ELIFECYCLE  Command failed with exit code 1.

> @vitejs/vite-monorepo@ test-build /app
> VITE_TEST_BUILD=1 vitest run -c vitest.config.e2e.ts


 RUN  v3.2.4 /app


No test files found, exiting with code 1

include: ./playground/**/*.spec.[tj]s
exclude:  **/node_modules/**, **/dist/**, **/cypress/**, **/.{idea,git,cache,output,temp}/**, **/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build,eslint,prettier}.config.*


⎯⎯⎯⎯⎯⎯ Unhandled Error ⎯⎯⎯⎯⎯⎯⎯
Error:
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Missing libraries:                                   ║
║     libglib-2.0.so.0                                 ║
║     libgobject-2.0.so.0                              ║
║     libnspr4.so                                      ║
║     libnss3.so                                       ║
║     libnssutil3.so                                   ║
║     libdbus-1.so.3                                   ║
║     libgio-2.0.so.0                                  ║
║     libatk-1.0.so.0                                  ║
║     libatk-bridge-2.0.so.0                           ║
║     libexpat.so.1                                    ║
║     libatspi.so.0                                    ║
║     libX11.so.6                                      ║
║     libXcomposite.so.1                               ║
║     libXdamage.so.1                                  ║
║     libXext.so.6                                     ║
║     libXfixes.so.3                                   ║
║     libXrandr.so.2                                   ║
║     libgbm.so.1                                      ║
║     libxcb.so.1                                      ║
║     libxkbcommon.so.0                                ║
║     libasound.so.2                                   ║
╚══════════════════════════════════════════════════════╝ Failed to launch browser.
 ❯ validateDependenciesLinux node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/dependencies.js:269:9
 ❯ Registry._validateHostRequirements node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/index.js:934:14
 ❯ Registry._validateHostRequirementsForExecutableIfNeeded node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/index.js:1056:7
 ❯ Registry.validateHostRequirementsForExecutablesIfNeeded node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/registry/index.js:1045:7
 ❯ Chromium._prepareToLaunch node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:185:7
 ❯ Chromium._launchProcess node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:196:22
 ❯ Chromium._innerLaunch node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:112:70
 ❯ Chromium._innerLaunchWithRetries node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/browserType.js:99:14
 ❯ node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/browserServerImpl.js:77:18
 ❯ ProgressController.run node_modules/.pnpm/playwright-core@1.55.0/node_modules/playwright-core/lib/server/progress.js:78:22





⎯⎯⎯⎯⎯⎯⎯ Startup Error ⎯⎯⎯⎯⎯⎯⎯⎯
[Error: ENOENT: no such file or directory, lstat '/app/playground-temp'] {
  errno: -2,
  code: 'ENOENT',
  syscall: 'lstat',
  path: '/app/playground-temp'
}



 ELIFECYCLE  Command failed with exit code 1.
