Scope: all 3 workspace projects
Lockfile is up to date, resolution step is skipped
Already up to date

playgrounds/sandbox prepare$ node scripts/create-app-svelte.js
playgrounds/sandbox prepare: Done
Done in 1.1s
Playwright Host validation warning:
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Please install them with the following command:      ║
║                                                      ║
║     pnpm exec playwright install-deps                ║
║                                                      ║
║ Alternatively, use apt:                              ║
║     apt-get install libglib2.0-0t64\                 ║
║         libnss3\                                     ║
║         libnspr4\                                    ║
║         libdbus-1-3\                                 ║
║         libatk1.0-0t64\                              ║
║         libatk-bridge2.0-0t64\                       ║
║         libcups2t64\                                 ║
║         libdrm2\                                     ║
║         libxcb1\                                     ║
║         libxkbcommon0\                               ║
║         libatspi2.0-0t64\                            ║
║         libx11-6\                                    ║
║         libxcomposite1\                              ║
║         libxdamage1\                                 ║
║         libxext6\                                    ║
║         libxfixes3\                                  ║
║         libxrandr2\                                  ║
║         libgbm1\                                     ║
║         libpango-1.0-0\                              ║
║         libcairo2\                                   ║
║         libasound2t64                                ║
║                                                      ║
║ <3 Playwright Team                                   ║
╚══════════════════════════════════════════════════════╝
    at validateDependenciesLinux (/usr/src/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/dependencies.js:216:9)
    at async Registry._validateHostRequirements (/usr/src/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/index.js:575:43)
    at async Registry._validateHostRequirementsForExecutableIfNeeded (/usr/src/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/index.js:673:7)
    at async Registry.validateHostRequirementsForExecutablesIfNeeded (/usr/src/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/server/registry/index.js:662:43)
    at async t.<anonymous> (/usr/src/app/node_modules/.pnpm/playwright-core@1.46.1/node_modules/playwright-core/lib/cli/program.js:119:7)

> svelte-monorepo@0.0.1 test /usr/src/app
> vitest run -- --bail\=false


 RUN  v2.1.9 /usr/src/app

 ✓ packages/svelte/src/internal/shared/clone.test.ts (11 tests) 15ms
 ✓ packages/svelte/src/internal/client/proxy.test.ts (8 tests) 13ms
 ✓ packages/svelte/src/reactivity/url.test.ts (4 tests) 10ms
 ✓ packages/svelte/src/reactivity/set.test.ts (6 tests) 12ms
 ✓ packages/svelte/src/reactivity/url-search-params.test.ts (8 tests) 13ms
 ✓ packages/svelte/src/reactivity/map.test.ts (8 tests) 40ms
 ✓ packages/svelte/src/internal/server/renderer.test.ts (20 tests) 37ms
 ✓ packages/svelte/src/reactivity/date.test.ts (17 tests) 76ms
 ✓ packages/svelte/tests/store/test.ts (33 tests) 127ms
 ✓ packages/svelte/tests/signals/test.ts (94 tests | 2 skipped) 1077ms
   ✓ signals > schedules rerun when writing to signal before reading it (runes mode) 674ms
   ✓ signals > schedules rerun when updating deeply nested value (runes mode) 347ms
 ✓ packages/svelte/tests/parser-modern/test.ts (22 tests) 110ms
 ✓ packages/svelte/tests/parser-legacy/test.ts (83 tests | 1 skipped) 151ms
 ✓ packages/svelte/tests/preprocess/test.ts (19 tests) 51ms
 ✓ packages/svelte/tests/snapshot/test.ts (26 tests) 286ms
 ✓ packages/svelte/tests/migrate/test.ts (75 tests) 270ms
 ✓ packages/svelte/tests/motion/test.ts (8 tests) 9ms
 ✓ packages/svelte/tests/validator/test.ts (328 tests | 4 skipped) 617ms
 ❯ packages/svelte/tests/runtime-browser/test.ts (85 tests | 85 skipped) 64ms
 ✓ packages/svelte/tests/runtime-browser/test-ssr.ts (30 tests) 645ms
 ✓ packages/svelte/tests/compiler-errors/test.ts (145 tests) 223ms
 ✓ packages/svelte/tests/sourcemaps/test.ts (28 tests | 2 skipped) 307ms
stderr | packages/svelte/tests/server-side-rendering/test.ts > invalid-nested-svelte-element (sync)
node_invalid_placement_ssr: `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:2:1) cannot be a child of `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:1:0)

This can cause content to shift around as the browser repairs the HTML, and will likely result in a `hydration_mismatch` warning.

stderr | packages/svelte/tests/server-side-rendering/test.ts > invalid-nested-svelte-element (async)
node_invalid_placement_ssr: `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:2:1) cannot be a child of `<p>` (packages/svelte/tests/server-side-rendering/samples/invalid-nested-svelte-element/main.svelte:1:0)

This can cause content to shift around as the browser repairs the HTML, and will likely result in a `hydration_mismatch` warning.

 ✓ packages/svelte/tests/server-side-rendering/test.ts (176 tests) 1262ms
 ✓ packages/svelte/tests/hydration/test.ts (72 tests) 1314ms
 ✓ packages/svelte/tests/css/test.ts (177 tests) 2547ms
 ✓ packages/svelte/tests/runtime-legacy/test.ts (3292 tests | 10 skipped) 36322ms
   ✓ before-render-chain-2 (dom) 2032ms
   ✓ before-render-chain-2 (hydrate) 1846ms
   ✓ each-block-keyed-random-permute (dom) 630ms
   ✓ each-block-keyed-random-permute (hydrate) 574ms
   ✓ each-block-random-permute (dom) 407ms
   ✓ each-block-random-permute (hydrate) 389ms
 ❯ packages/svelte/tests/runtime-runes/test.ts (2160 tests | 26 failed | 22 skipped) 40454ms
   × class-private-fields-reassigned-this (dom) 19ms
     → expected [ 1, 1 ] to deeply equal [ 'init', 1, 'init', 1 ]
   × class-private-fields-reassigned-this (hydrate) 8ms
     → expected [ 1, 1 ] to deeply equal [ 'init', 1, 'init', 1 ]
   ✓ effect-loop-3 (dom) 1008ms
   ✓ effect-loop-3 (hydrate) 944ms
   ✓ effect-loop-infinite (dom) 384ms
   ✓ effect-loop-infinite (hydrate) 343ms
   ✓ error-boundary-20 (dom) 420ms
   ✓ error-boundary-20 (hydrate) 399ms
   × inspect (dom) 12ms
     → expected [ +0, 1, UpdatedAtError ] to deeply equal [ 'init', +0, 'update', 1 ]
   × inspect (hydrate) 6ms
     → expected [ +0, 1, UpdatedAtError ] to deeply equal [ 'init', +0, 'update', 1 ]
   × inspect-deep (dom) 10ms
     → expected [ undefined, [ {} ], UpdatedAtError ] to deeply equal [ 'init', undefined, 'update', [ {} ] ]
   × inspect-deep (hydrate) 5ms
     → expected [ undefined, [ {} ], UpdatedAtError ] to deeply equal [ 'init', undefined, 'update', [ {} ] ]
   × inspect-deep-array (dom) 11ms
     → expected [ [ 1, 2, 3, 7 ], [ 2, 3, 7 ], …(1) ] to deeply equal [ 'init', [ 1, 2, 3, 7 ], …(2) ]
   × inspect-deep-array (hydrate) 7ms
     → expected [ [ 1, 2, 3, 7 ], [ 2, 3, 7 ], …(1) ] to deeply equal [ 'init', [ 1, 2, 3, 7 ], …(2) ]
   × inspect-derived-2 (dom) 13ms
     → expected [ …(3) ] to deeply equal [ Array(4) ]
   × inspect-derived-2 (hydrate) 10ms
     → expected [ …(3) ] to deeply equal [ Array(4) ]
   × inspect-derived-3 (dom) 34ms
     → expected [ '0', true, '1', false, '2', …(7) ] to deeply equal [ 'init', '0', true, 'init', …(11) ]
   × inspect-derived-3 (hydrate) 17ms
     → expected [ '0', true, '1', false, '2', …(7) ] to deeply equal [ 'init', '0', true, 'init', …(11) ]
   × inspect-map-set (dom) 13ms
     → expected [ Map{}, Set{}, …(4) ] to deeply equal [ 'init', Map{}, 'init', Set{}, …(4) ]
   × inspect-map-set (hydrate) 8ms
     → expected [ Map{}, Set{}, …(4) ] to deeply equal [ 'init', Map{}, 'init', Set{}, …(4) ]
   × inspect-multiple (dom) 11ms
     → expected [ +0, +0, 1, +0, UpdatedAtError, …(3) ] to deeply equal [ 'init', +0, +0, 'update', 1, …(4) ]
   × inspect-multiple (hydrate) 10ms
     → expected [ +0, +0, 1, +0, UpdatedAtError, …(3) ] to deeply equal [ 'init', +0, +0, 'update', 1, …(4) ]
   × inspect-nested-effect (dom) 9ms
     → expected [ +0, 1, UpdatedAtError ] to deeply equal [ 'init', +0, 'update', 1 ]
   × inspect-nested-effect (hydrate) 11ms
     → expected [ +0, 1, UpdatedAtError ] to deeply equal [ 'init', +0, 'update', 1 ]
   × inspect-nested-state (dom) 15ms
     → expected [ { x: { count: +0 } }, …(4) ] to deeply equal [ 'init', { x: { count: +0 } }, …(4) ]
   × inspect-nested-state (hydrate) 7ms
     → expected [ { x: { count: +0 } }, …(4) ] to deeply equal [ 'init', { x: { count: +0 } }, …(4) ]
   × inspect-new-property (dom) 11ms
     → expected [ {}, [], { x: 'hello' }, …(3) ] to deeply equal [ 'init', {}, 'init', [], …(4) ]
   × inspect-new-property (hydrate) 10ms
     → expected [ {}, [], { x: 'hello' }, …(3) ] to deeply equal [ 'init', {}, 'init', [], …(4) ]
   × inspect-recursive (dom) 36ms
     → expected [ [], [ {} ], UpdatedAtError, …(2) ] to deeply equal [ 'init', [], 'update', [ {} ], …(2) ]
   × inspect-recursive (hydrate) 10ms
     → expected [ [], [ {} ], UpdatedAtError, …(2) ] to deeply equal [ 'init', [], 'update', [ {} ], …(2) ]
   × inspect-recursive-2 (dom) 10ms
     → expected [ { a: [Circular] }, …(1) ] to deeply equal [ 'init', { a: [Circular] }, …(2) ]
   × inspect-recursive-2 (hydrate) 6ms
     → expected [ { a: [Circular] }, …(1) ] to deeply equal [ 'init', { a: [Circular] }, …(2) ]
   ✓ mount-unmount-anchor (dom) 6523ms
   ✓ mount-unmount-anchor (hydrate) 6443ms

⎯⎯⎯⎯⎯⎯ Failed Suites 1 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  packages/svelte/tests/runtime-browser/test.ts [ packages/svelte/tests/runtime-browser/test.ts ]
Error: browserType.launch:
╔══════════════════════════════════════════════════════╗
║ Host system is missing dependencies to run browsers. ║
║ Please install them with the following command:      ║
║                                                      ║
║     pnpm exec playwright install-deps                ║
║                                                      ║
║ Alternatively, use apt:                              ║
║     apt-get install libglib2.0-0t64\                 ║
║         libnss3\                                     ║
║         libnspr4\                                    ║
║         libdbus-1-3\                                 ║
║         libatk1.0-0t64\                              ║
║         libatk-bridge2.0-0t64\                       ║
║         libcups2t64\                                 ║
║         libdrm2\                                     ║
║         libxcb1\                                     ║
║         libxkbcommon0\                               ║
║         libatspi2.0-0t64\                            ║
║         libx11-6\                                    ║
║         libxcomposite1\                              ║
║         libxdamage1\                                 ║
║         libxext6\                                    ║
║         libxfixes3\                                  ║
║         libxrandr2\                                  ║
║         libgbm1\                                     ║
║         libpango-1.0-0\                              ║
║         libcairo2\                                   ║
║         libasound2t64                                ║
║                                                      ║
║ <3 Playwright Team                                   ║
╚══════════════════════════════════════════════════════╝
 ❯ packages/svelte/tests/runtime-browser/test.ts:16:27
     14|
     15| beforeAll(async () => {
     16|  browser = await chromium.launch();
       |                           ^
     17| }, 20000);
     18|

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/27]⎯

⎯⎯⎯⎯⎯⎯ Failed Tests 26 ⎯⎯⎯⎯⎯⎯⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > class-private-fields-reassigned-this (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > class-private-fields-reassigned-this (hydrate)
AssertionError: expected [ 1, 1 ] to deeply equal [ 'init', 1, 'init', 1 ]

- Expected
+ Received

  Array [
-   "init",
    1,
-   "init",
    1,
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/class-private-fields-reassigned-this/_config.js:8:10
      6|  },
      7|  async test({ assert, logs }) {
      8|   assert.deepEqual(logs, ['init', 1, 'init', 1]);
       |          ^
      9|  }
     10| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect (hydrate)
AssertionError: expected [ +0, 1, UpdatedAtError ] to deeply equal [ 'init', +0, 'update', 1 ]

- Expected
+ Received

  Array [
-   "init",
    0,
-   "update",
    1,
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect/_config.js:14:10
     12|   await Promise.resolve();
     13|
     14|   assert.deepEqual(logs, ['init', 0, 'update', 1]);
       |          ^
     15|  }
     16| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:6
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-deep (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-deep (hydrate)
AssertionError: expected [ undefined, [ {} ], UpdatedAtError ] to deeply equal [ 'init', undefined, 'update', [ {} ] ]

- Expected
+ Received

  Array [
-   "init",
    undefined,
-   "update",
    Array [
      Object {},
    ],
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-deep/_config.js:9:10
      7|
      8|  async test({ assert, logs }) {
      9|   assert.deepEqual(logs, ['init', undefined, 'update', [{}]]);
       |          ^
     10|  }
     11| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-deep-array (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-deep-array (hydrate)
AssertionError: expected [ [ 1, 2, 3, 7 ], [ 2, 3, 7 ], …(1) ] to deeply equal [ 'init', [ 1, 2, 3, 7 ], …(2) ]

- Expected
+ Received

  Array [
-   "init",
    Array [
      1,
      2,
      3,
      7,
    ],
-   "update",
    Array [
      2,
      3,
      7,
    ],
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-deep-array/_config.js:16:10
     14|   });
     15|
     16|   assert.deepEqual(logs, ['init', [1, 2, 3, 7], 'update', [2, 3, 7]]);
       |          ^
     17|  }
     18| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-derived-2 (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-derived-2 (hydrate)
AssertionError: expected [ …(3) ] to deeply equal [ Array(4) ]

- Expected
+ Received

  Array [
-   "init",
    Object {
      "data": Object {
        "derived": 0,
        "list": Array [],
      },
      "derived": Array [],
    },
-   "update",
    Object {
      "data": Object {
        "derived": 0,
        "list": Array [
          1,
        ],
      },
      "derived": Array [
        1,
      ],
    },
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-derived-2/_config.js:17:10
     15|
     16|   assert.htmlEqual(target.innerHTML, `<button>update</button>\n1`);
     17|   assert.deepEqual(logs, [
       |          ^
     18|    'init',
     19|    {
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[6/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-derived-3 (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-derived-3 (hydrate)
AssertionError: expected [ '0', true, '1', false, '2', …(7) ] to deeply equal [ 'init', '0', true, 'init', …(11) ]

- Expected
+ Received

  Array [
-   "init",
    "0",
    true,
-   "init",
    "1",
    false,
-   "init",
    "2",
    false,
-   "update",
    "0",
    false,
-   "update",
+   [UpdatedAtError],
    "1",
    true,
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-derived-3/_config.js:16:10
     14|   });
     15|
     16|   assert.deepEqual(logs, [
       |          ^
     17|    'init',
     18|    '0',
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[7/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-map-set (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-map-set (hydrate)
AssertionError: expected [ Map{}, Set{}, …(4) ] to deeply equal [ 'init', Map{}, 'init', Set{}, …(4) ]

- Expected
+ Received

  Array [
-   "init",
    Map {},
-   "init",
    Set {},
-   "update",
    Map {
      "a" => "a",
    },
-   "update",
+   [UpdatedAtError],
    Set {
      "a",
    },
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-map-set/_config.js:15:10
     13|   flushSync();
     14|
     15|   assert.deepEqual(logs, [
       |          ^
     16|    'init',
     17|    new Map(),
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[8/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-multiple (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-multiple (hydrate)
AssertionError: expected [ +0, +0, 1, +0, UpdatedAtError, …(3) ] to deeply equal [ 'init', +0, +0, 'update', 1, …(4) ]

- Expected
+ Received

  Array [
-   "init",
    0,
    0,
-   "update",
    1,
    0,
-   "update",
+   [UpdatedAtError],
    1,
    1,
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-multiple/_config.js:14:10
     12|   await Promise.resolve();
     13|
     14|   assert.deepEqual(logs, ['init', 0, 0, 'update', 1, 0, 'update', 1, 1…
       |          ^
     15|  }
     16| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:6
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[9/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-nested-effect (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-nested-effect (hydrate)
AssertionError: expected [ +0, 1, UpdatedAtError ] to deeply equal [ 'init', +0, 'update', 1 ]

- Expected
+ Received

  Array [
-   "init",
    0,
-   "update",
    1,
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-nested-effect/_config.js:9:10
      7|
      8|  async test({ assert, logs }) {
      9|   assert.deepEqual(logs, ['init', 0, 'update', 1]);
       |          ^
     10|  }
     11| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[10/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-nested-state (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-nested-state (hydrate)
AssertionError: expected [ { x: { count: +0 } }, …(4) ] to deeply equal [ 'init', { x: { count: +0 } }, …(4) ]

- Expected
+ Received

  Array [
-   "init",
    Object {
      "x": Object {
        "count": 0,
      },
    },
    Array [
      Object {
        "count": 0,
      },
    ],
-   "update",
    Object {
      "x": Object {
        "count": 1,
      },
    },
    Array [
      Object {
        "count": 1,
      },
    ],
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-nested-state/_config.js:13:10
     11|   await Promise.resolve();
     12|
     13|   assert.deepEqual(logs, [
       |          ^
     14|    'init',
     15|    { x: { count: 0 } },
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:6
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[11/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-new-property (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-new-property (hydrate)
AssertionError: expected [ {}, [], { x: 'hello' }, …(3) ] to deeply equal [ 'init', {}, 'init', [], …(4) ]

- Expected
+ Received

  Array [
-   "init",
    Object {},
-   "init",
    Array [],
-   "update",
    Object {
      "x": "hello",
    },
-   "update",
+   [UpdatedAtError],
    Array [
      "hello",
    ],
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-new-property/_config.js:13:10
     11|   await Promise.resolve();
     12|
     13|   assert.deepEqual(logs, ['init', {}, 'init', [], 'update', { x: 'hell…
       |          ^
     14|  }
     15| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:6
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[12/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-recursive (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-recursive (hydrate)
AssertionError: expected [ [], [ {} ], UpdatedAtError, …(2) ] to deeply equal [ 'init', [], 'update', [ {} ], …(2) ]

- Expected
+ Received

  Array [
-   "init",
    Array [],
-   "update",
    Array [
      Object {},
    ],
-   "update",
+   [UpdatedAtError],
    Array [
      Object {},
      Object {},
    ],
+   [UpdatedAtError],
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-recursive/_config.js:14:10
     12|   await Promise.resolve();
     13|
     14|   assert.deepEqual(logs, ['init', [], 'update', [{}], 'update', [{}, {…
       |          ^
     15|  }
     16| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:6
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[13/27]⎯

 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-recursive-2 (dom)
 FAIL  packages/svelte/tests/runtime-runes/test.ts > inspect-recursive-2 (hydrate)
AssertionError: expected [ { a: [Circular] }, …(1) ] to deeply equal [ 'init', { a: [Circular] }, …(2) ]

- Expected
+ Received

  Array [
-   "init",
    Object {
      "a": [Circular],
    },
-   "init",
    Object {
      "a": Object {
        "b": [Circular],
      },
    },
  ]

 ❯ Object.test packages/svelte/tests/runtime-runes/samples/inspect-recursive-2/_config.js:21:10
     19|   b.a.b = b;
     20|
     21|   assert.deepEqual(logs, ['init', a, 'init', b]);
       |          ^
     22|  }
     23| });
 ❯ run_test_variant packages/svelte/tests/runtime-legacy/shared.ts:463:19
 ❯ packages/svelte/tests/runtime-legacy/shared.ts:191:4

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[14/27]⎯

 Test Files  2 failed | 24 passed (26)
      Tests  26 failed | 6783 passed | 126 skipped (6935)
   Start at  16:10:30
   Duration  47.17s (transform 22.80s, setup 0ms, collect 72.77s, tests 86.05s, environment 3.36s, prepare 3.14s)

 ELIFECYCLE  Test failed. See above for more details.
