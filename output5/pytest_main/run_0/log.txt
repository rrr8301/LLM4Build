ERROR: Could not open requirements file: [Errno 2] No such file or directory: 'requirements.txt'
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0
rootdir: /app
configfile: pyproject.toml
testpaths: testing
collected 3516 items / 3 errors

==================================== ERRORS ====================================
_________________ ERROR collecting testing/python/metafunc.py __________________
ImportError while importing test module '/app/testing/python/metafunc.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
testing/python/metafunc.py:14: in <module>
    import hypothesis
E   ModuleNotFoundError: No module named 'hypothesis'
__________________ ERROR collecting testing/test_assertion.py __________________
ImportError while importing test module '/app/testing/test_assertion.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
testing/test_assertion.py:10: in <module>
    import attr
E   ModuleNotFoundError: No module named 'attr'
__________________ ERROR collecting testing/test_junitxml.py ___________________
ImportError while importing test module '/app/testing/test_junitxml.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
testing/test_junitxml.py:13: in <module>
    import xmlschema
E   ModuleNotFoundError: No module named 'xmlschema'
=========================== short test summary info ============================
ERROR testing/python/metafunc.py
ERROR testing/test_assertion.py
ERROR testing/test_junitxml.py
!!!!!!!!!!!!!!!!!!! Interrupted: 3 errors during collection !!!!!!!!!!!!!!!!!!!!
============================== 3 errors in 5.41s ===============================
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0
rootdir: /app
configfile: pyproject.toml
testpaths: testing
collected 3516 items / 3 errors

testing/_py/test_local.py .............................................. [  1%]
...................ss..............s.................x.....Xs........... [  3%]
..........................sssssss..........................ssx...        [  5%]
testing/acceptance_test.py .....                                         [  5%]
testing/code/test_code.py .................                              [  5%]
testing/code/test_excinfo.py .................s.......s................. [  7%]
..................s..................................................... [  9%]
...........................................                              [ 10%]
testing/code/test_source.py ............................................ [ 11%]
...........                                                              [ 11%]
testing/deprecated_test.py ..........                                    [ 12%]
testing/freeze/tests/test_doctest.txt .                                  [ 12%]
testing/freeze/tests/test_trivial.py ..                                  [ 12%]
testing/io/test_pprint.py ......................................         [ 13%]
testing/io/test_saferepr.py .............                                [ 13%]
testing/io/test_terminalwriter.py ...................................... [ 14%]
...........                                                              [ 15%]
testing/io/test_wcwidth.py .................                             [ 15%]
testing/logging/test_fixture.py ...................                      [ 16%]
testing/logging/test_formatter.py ....                                   [ 16%]
testing/logging/test_reporting.py ..                                     [ 16%]
testing/python/approx.py .sss..sssss............................s....... [ 17%]
.....sssssss................ss...........                                [ 18%]
testing/python/collect.py ..                                             [ 18%]
testing/python/fixtures.py ...........                                   [ 19%]
testing/python/integration.py ....                                       [ 19%]
testing/python/raises.py ...........................                     [ 20%]
testing/python/raises_group.py ...........................               [ 20%]
testing/test_argcomplete.py ..                                           [ 20%]
testing/test_assertrewrite.py .......................................... [ 22%]
......                                                                   [ 22%]
testing/test_capture.py ................................................ [ 23%]
........s....s..                                                         [ 24%]
testing/test_collection.py ..                                            [ 24%]
testing/test_compat.py ..........                                        [ 24%]
testing/test_config.py ................................................. [ 25%]
............                                                             [ 26%]
testing/test_conftest.py ...........                                     [ 26%]
testing/test_debugging.py .                                              [ 26%]
testing/test_doctest.py .............                                    [ 26%]
testing/test_entry_points.py .                                           [ 26%]
testing/test_faulthandler.py ...                                         [ 26%]
testing/test_findpaths.py ..............s...                             [ 27%]
testing/test_helpconfig.py .                                             [ 27%]
testing/test_legacypath.py ....                                          [ 27%]
testing/test_main.py .....                                               [ 27%]
testing/test_mark.py ..............                                      [ 28%]
testing/test_mark_expression.py ........................................ [ 29%]
........................................................................ [ 31%]
............................                                             [ 32%]
testing/test_monkeypatch.py ............................s..              [ 33%]
testing/test_nodes.py ....                                               [ 33%]
testing/test_parseopt.py .............................                   [ 33%]
testing/test_pastebin.py .....                                           [ 34%]
testing/test_pluginmanager.py .........                                  [ 34%]
testing/test_pytester.py .....................                           [ 34%]
testing/test_recwarn.py ................................................ [ 36%]
.........                                                                [ 36%]
testing/test_runner.py ...............                                   [ 37%]
testing/test_scope.py ....                                               [ 37%]
testing/test_skipping.py .                                               [ 37%]
testing/test_stash.py .                                                  [ 37%]
testing/test_terminal.py ............................................... [ 38%]
..                                                                       [ 38%]
testing/test_tmpdir.py ...s...............                               [ 39%]
testing/test_warning_types.py ..............                             [ 39%]
testing/test_warnings.py .                                               [ 39%]
testing/acceptance_test.py ............................................. [ 40%]
.........x.........................s...                                  [ 41%]
testing/code/test_excinfo.py ....sssssssss................               [ 42%]
testing/deprecated_test.py ....                                          [ 42%]
testing/examples/test_issue519.py .                                      [ 42%]
testing/logging/test_fixture.py ........                                 [ 43%]
testing/logging/test_reporting.py ...................................... [ 44%]
............                                                             [ 44%]
testing/python/approx.py .                                               [ 44%]
testing/python/collect.py .............................................. [ 45%]
.................................                                        [ 46%]
testing/python/fixtures.py ............................................. [ 48%]
..............................x......................................... [ 50%]
................................................................s....... [ 52%]
..                                                                       [ 52%]
testing/python/integration.py ..s.sss.........                           [ 52%]
testing/python/raises.py ....                                            [ 52%]
testing/python/raises_group.py ..                                        [ 52%]
testing/python/show_fixtures_per_test.py ........                        [ 53%]
testing/test_assertrewrite.py .......................................... [ 54%]
.........................                                                [ 55%]
testing/test_cacheprovider.py ....ss.................................... [ 56%]
...............                                                          [ 56%]
testing/test_capture.py ......x.........................s...........     [ 57%]
testing/test_collect_imported_tests.py ...                               [ 57%]
testing/test_collection.py ................x............................ [ 59%]
................s................s....sFFF                               [ 60%]
testing/test_config.py ..................x.............................. [ 61%]
........................................................................ [ 63%]
.............................                                            [ 64%]
testing/test_conftest.py .............s.............................     [ 65%]
testing/test_debugging.py .............                                  [ 66%]
testing/test_doctest.py ................................................ [ 67%]
................x....................................................... [ 69%]
......s.                                                                 [ 69%]
testing/test_error_diffs.py ...........F                                 [ 70%]
testing/test_faulthandler.py ...                                         [ 70%]
testing/test_helpconfig.py ........                                      [ 70%]
testing/test_legacypath.py ..........                                    [ 70%]
testing/test_link_resolve.py .                                           [ 70%]
testing/test_main.py ........FF.....                                     [ 71%]
testing/test_mark.py ................................................... [ 72%]
...................x...................                                  [ 73%]
testing/test_monkeypatch.py ....                                         [ 74%]
testing/test_nodes.py ....                                               [ 74%]
testing/test_parseopt.py s                                               [ 74%]
testing/test_pastebin.py ...                                             [ 74%]
testing/test_pathlib.py ................................................ [ 75%]
............s..................................................          [ 77%]
testing/test_pluginmanager.py ....s............                          [ 77%]
testing/test_pytester.py x........................                       [ 78%]
testing/test_python_path.py ......                                       [ 78%]
testing/test_recwarn.py .....                                            [ 78%]
testing/test_reports.py ..................                               [ 79%]
testing/test_runner.py ........................x........................ [ 80%]
...                                                                      [ 80%]
testing/test_runner_xunit.py .............                               [ 81%]
testing/test_session.py ..........................                       [ 81%]
testing/test_setuponly.py ..........................                     [ 82%]
testing/test_setupplan.py ...                                            [ 82%]
testing/test_skipping.py ............................................... [ 84%]
..........................................                               [ 85%]
testing/test_stepwise.py ..................                              [ 85%]
testing/test_terminal.py ...F........................................... [ 87%]
.....s.............................................................ssss. [ 89%]
.....s...............................                                    [ 90%]
testing/test_threadexception.py ........                                 [ 90%]
testing/test_tmpdir.py ....................                              [ 91%]
testing/test_unittest.py ......................sssssss.................. [ 92%]
...............s............                                             [ 93%]
testing/test_unraisableexception.py .......                              [ 93%]
testing/test_warning_types.py .                                          [ 93%]
testing/test_warnings.py .....s.............sss..........                [ 94%]
testing/acceptance_test.py .....                                         [ 94%]
testing/python/collect.py .                                              [ 94%]
testing/python/fixtures.py ..                                            [ 94%]
testing/test_assertrewrite.py ..........                                 [ 94%]
testing/test_capture.py ........................s                        [ 95%]
testing/test_collection.py ...                                           [ 95%]
testing/test_config.py ..                                                [ 95%]
testing/test_debugging.py sssssssssss.ssssssssssssssss.sssss....ssss.sss [ 97%]
                                                                         [ 97%]
testing/test_faulthandler.py ..s.                                        [ 97%]
testing/test_helpconfig.py ..                                            [ 97%]
testing/test_legacypath.py .                                             [ 97%]
testing/test_meta.py ................................................... [ 98%]
.................                                                        [ 99%]
testing/test_pytester.py ....s.F                                         [ 99%]
testing/test_recwarn.py .                                                [ 99%]
testing/test_reports.py .                                                [ 99%]
testing/test_terminal.py ss..                                            [ 99%]
testing/test_unittest.py s.                                              [ 99%]
testing/test_unraisableexception.py ....                                 [ 99%]
testing/test_warnings.py ..........                                      [100%]

==================================== ERRORS ====================================
_________________ ERROR collecting testing/python/metafunc.py __________________
ImportError while importing test module '/app/testing/python/metafunc.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
testing/python/metafunc.py:14: in <module>
    import hypothesis
E   ModuleNotFoundError: No module named 'hypothesis'
__________________ ERROR collecting testing/test_assertion.py __________________
ImportError while importing test module '/app/testing/test_assertion.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
testing/test_assertion.py:10: in <module>
    import attr
E   ModuleNotFoundError: No module named 'attr'
__________________ ERROR collecting testing/test_junitxml.py ___________________
ImportError while importing test module '/app/testing/test_junitxml.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
testing/test_junitxml.py:13: in <module>
    import xmlschema
E   ModuleNotFoundError: No module named 'xmlschema'
=================================== FAILURES ===================================
_______________________ test_namespace_packages[prepend] _______________________

pytester = <Pytester PosixPath('/tmp/pytest-of-root/pytest-0/test_namespace_packages0')>
import_mode = 'prepend'

    @pytest.mark.parametrize("import_mode", ["prepend", "importlib", "append"])
    def test_namespace_packages(pytester: Pytester, import_mode: str):
        pytester.makeini(
            f"""
            [pytest]
            consider_namespace_packages = true
            pythonpath = .
            python_files = *.py
            addopts = --import-mode {import_mode}
        """
        )
        pytester.makepyfile(
            **{
                "pkg/module1.py": "def test_module1(): pass",
                "pkg/subpkg_namespace/module2.py": "def test_module1(): pass",
                "pkg/subpkg_regular/__init__.py": "",
                "pkg/subpkg_regular/module3": "def test_module3(): pass",
            }
        )

        # should collect when called with top-level package correctly
        result = pytester.runpytest("--collect-only", "--pyargs", "pkg")
>       result.stdout.fnmatch_lines(
            [
                "collected 3 items",
                "<Dir pkg>",
                "  <Module module1.py>",
                "    <Function test_module1>",
                "  <Dir subpkg_namespace>",
                "    <Module module2.py>",
                "      <Function test_module1>",
                "  <Package subpkg_regular>",
                "    <Module module3.py>",
                "      <Function test_module3>",
            ]
        )
E       Failed: nomatch: 'collected 3 items'
E           and: '============================= test session starts =============================='
E           and: 'platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0'
E           and: 'rootdir: /tmp/pytest-of-root/pytest-0/test_namespace_packages0'
E           and: 'configfile: tox.ini'
E       exact match: 'collected 3 items'
E       nomatch: '<Dir pkg>'
E           and: ''
E           and: '<Dir test_namespace_packages0>'
E           and: '  <Dir pkg>'
E           and: '    <Module module1.py>'
E           and: '      <Function test_module1>'
E           and: '    <Dir subpkg_namespace>'
E           and: '      <Module module2.py>'
E           and: '        <Function test_module1>'
E           and: '    <Package subpkg_regular>'
E           and: '      <Module module3.py>'
E           and: '        <Function test_module3>'
E           and: ''
E           and: '========================== 3 tests collected in 0.02s =========================='
E       remains unmatched: '<Dir pkg>'

/app/testing/test_collection.py:1962: Failed
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0
rootdir: /tmp/pytest-of-root/pytest-0/test_namespace_packages0
configfile: tox.ini
collected 3 items

<Dir test_namespace_packages0>
  <Dir pkg>
    <Module module1.py>
      <Function test_module1>
    <Dir subpkg_namespace>
      <Module module2.py>
        <Function test_module1>
    <Package subpkg_regular>
      <Module module3.py>
        <Function test_module3>

========================== 3 tests collected in 0.02s ==========================
______________________ test_namespace_packages[importlib] ______________________

pytester = <Pytester PosixPath('/tmp/pytest-of-root/pytest-0/test_namespace_packages1')>
import_mode = 'importlib'

    @pytest.mark.parametrize("import_mode", ["prepend", "importlib", "append"])
    def test_namespace_packages(pytester: Pytester, import_mode: str):
        pytester.makeini(
            f"""
            [pytest]
            consider_namespace_packages = true
            pythonpath = .
            python_files = *.py
            addopts = --import-mode {import_mode}
        """
        )
        pytester.makepyfile(
            **{
                "pkg/module1.py": "def test_module1(): pass",
                "pkg/subpkg_namespace/module2.py": "def test_module1(): pass",
                "pkg/subpkg_regular/__init__.py": "",
                "pkg/subpkg_regular/module3": "def test_module3(): pass",
            }
        )

        # should collect when called with top-level package correctly
        result = pytester.runpytest("--collect-only", "--pyargs", "pkg")
>       result.stdout.fnmatch_lines(
            [
                "collected 3 items",
                "<Dir pkg>",
                "  <Module module1.py>",
                "    <Function test_module1>",
                "  <Dir subpkg_namespace>",
                "    <Module module2.py>",
                "      <Function test_module1>",
                "  <Package subpkg_regular>",
                "    <Module module3.py>",
                "      <Function test_module3>",
            ]
        )
E       Failed: nomatch: 'collected 3 items'
E           and: '============================= test session starts =============================='
E           and: 'platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0'
E           and: 'rootdir: /tmp/pytest-of-root/pytest-0/test_namespace_packages1'
E           and: 'configfile: tox.ini'
E       exact match: 'collected 3 items'
E       nomatch: '<Dir pkg>'
E           and: ''
E           and: '<Dir test_namespace_packages1>'
E           and: '  <Dir pkg>'
E           and: '    <Module module1.py>'
E           and: '      <Function test_module1>'
E           and: '    <Dir subpkg_namespace>'
E           and: '      <Module module2.py>'
E           and: '        <Function test_module1>'
E           and: '    <Package subpkg_regular>'
E           and: '      <Module module3.py>'
E           and: '        <Function test_module3>'
E           and: ''
E           and: '========================== 3 tests collected in 0.02s =========================='
E       remains unmatched: '<Dir pkg>'

/app/testing/test_collection.py:1962: Failed
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0
rootdir: /tmp/pytest-of-root/pytest-0/test_namespace_packages1
configfile: tox.ini
collected 3 items

<Dir test_namespace_packages1>
  <Dir pkg>
    <Module module1.py>
      <Function test_module1>
    <Dir subpkg_namespace>
      <Module module2.py>
        <Function test_module1>
    <Package subpkg_regular>
      <Module module3.py>
        <Function test_module3>

========================== 3 tests collected in 0.02s ==========================
_______________________ test_namespace_packages[append] ________________________

pytester = <Pytester PosixPath('/tmp/pytest-of-root/pytest-0/test_namespace_packages2')>
import_mode = 'append'

    @pytest.mark.parametrize("import_mode", ["prepend", "importlib", "append"])
    def test_namespace_packages(pytester: Pytester, import_mode: str):
        pytester.makeini(
            f"""
            [pytest]
            consider_namespace_packages = true
            pythonpath = .
            python_files = *.py
            addopts = --import-mode {import_mode}
        """
        )
        pytester.makepyfile(
            **{
                "pkg/module1.py": "def test_module1(): pass",
                "pkg/subpkg_namespace/module2.py": "def test_module1(): pass",
                "pkg/subpkg_regular/__init__.py": "",
                "pkg/subpkg_regular/module3": "def test_module3(): pass",
            }
        )

        # should collect when called with top-level package correctly
        result = pytester.runpytest("--collect-only", "--pyargs", "pkg")
>       result.stdout.fnmatch_lines(
            [
                "collected 3 items",
                "<Dir pkg>",
                "  <Module module1.py>",
                "    <Function test_module1>",
                "  <Dir subpkg_namespace>",
                "    <Module module2.py>",
                "      <Function test_module1>",
                "  <Package subpkg_regular>",
                "    <Module module3.py>",
                "      <Function test_module3>",
            ]
        )
E       Failed: nomatch: 'collected 3 items'
E           and: '============================= test session starts =============================='
E           and: 'platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0'
E           and: 'rootdir: /tmp/pytest-of-root/pytest-0/test_namespace_packages2'
E           and: 'configfile: tox.ini'
E       exact match: 'collected 3 items'
E       nomatch: '<Dir pkg>'
E           and: ''
E           and: '<Dir test_namespace_packages2>'
E           and: '  <Dir pkg>'
E           and: '    <Module module1.py>'
E           and: '      <Function test_module1>'
E           and: '    <Dir subpkg_namespace>'
E           and: '      <Module module2.py>'
E           and: '        <Function test_module1>'
E           and: '    <Package subpkg_regular>'
E           and: '      <Module module3.py>'
E           and: '        <Function test_module3>'
E           and: ''
E           and: '========================== 3 tests collected in 0.02s =========================='
E       remains unmatched: '<Dir pkg>'

/app/testing/test_collection.py:1962: Failed
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0
rootdir: /tmp/pytest-of-root/pytest-0/test_namespace_packages2
configfile: tox.ini
collected 3 items

<Dir test_namespace_packages2>
  <Dir pkg>
    <Module module1.py>
      <Function test_module1>
    <Dir subpkg_namespace>
      <Module module2.py>
        <Function test_module1>
    <Package subpkg_regular>
      <Module module3.py>
        <Function test_module3>

========================== 3 tests collected in 0.02s ==========================
____________________ test_error_diff[Compare attrs classes] ____________________

code = "\n        import attr\n\n        @attr.s(auto_attribs=True)\n        class A:\n            a: int\n            b: str...         result =   A(1, 'spam')\n            expected = A(1, 'eggs')\n            assert result == expected\n        "
expected = "\n        >       assert result == expected\n        E       AssertionError: assert A(a=1, b='spam') == A(a=1, b='egg...ttribute b:\n        E           b: 'spam' != 'eggs'\n        E           - eggs\n        E           + spam\n        "
pytester = <Pytester PosixPath('/tmp/pytest-of-root/pytest-0/test_error_diff11')>

    @pytest.mark.parametrize("code, expected", TESTCASES)
    def test_error_diff(code: str, expected: str, pytester: Pytester) -> None:
        expected_lines = [line.lstrip() for line in expected.splitlines()]
        p = pytester.makepyfile(code)
        result = pytester.runpytest(p, "-vv")
>       result.stdout.fnmatch_lines(expected_lines)
E       Failed: nomatch: ''
E           and: '============================= test session starts =============================='
E           and: 'platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0 -- /usr/bin/python3'
E           and: 'cachedir: .pytest_cache'
E           and: 'rootdir: /tmp/pytest-of-root/pytest-0/test_error_diff11'
E           and: 'collecting ... collected 0 items / 1 error'
E       exact match: ''
E       nomatch: '>       assert result == expected'
E           and: '==================================== ERRORS ===================================='
E           and: '_____________________ ERROR collecting test_error_diff.py ______________________'
E           and: "ImportError while importing test module '/tmp/pytest-of-root/pytest-0/test_error_diff11/test_error_diff.py'."
E           and: 'Hint: make sure your test modules/packages have valid Python names.'
E           and: 'Traceback:'
E           and: '/usr/local/lib/python3.10/dist-packages/_pytest/python.py:498: in importtestmodule'
E           and: '    mod = import_path('
E           and: '/usr/local/lib/python3.10/dist-packages/_pytest/pathlib.py:587: in import_path'
E           and: '    importlib.import_module(module_name)'
E           and: '/usr/lib/python3.10/importlib/__init__.py:126: in import_module'
E           and: '    return _bootstrap._gcd_import(name[level:], package, level)'
E           and: '<frozen importlib._bootstrap>:1050: in _gcd_import'
E           and: '    ???'
E           and: '<frozen importlib._bootstrap>:1027: in _find_and_load'
E           and: '    ???'
E           and: '<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked'
E           and: '    ???'
E           and: '<frozen importlib._bootstrap>:688: in _load_unlocked'
E           and: '    ???'
E           and: '/usr/local/lib/python3.10/dist-packages/_pytest/assertion/rewrite.py:186: in exec_module'
E           and: '    exec(co, module.__dict__)'
E           and: 'test_error_diff.py:1: in <module>'
E           and: '    import attr'
E           and: "E   ModuleNotFoundError: No module named 'attr'"
E           and: '=========================== short test summary info ============================'
E           and: 'ERROR test_error_diff.py'
E           and: '!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!'
E           and: '=============================== 1 error in 0.18s ==============================='
E       remains unmatched: '>       assert result == expected'

/app/testing/test_error_diffs.py:295: Failed
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0 -- /usr/bin/python3
cachedir: .pytest_cache
rootdir: /tmp/pytest-of-root/pytest-0/test_error_diff11
collecting ... collected 0 items / 1 error

==================================== ERRORS ====================================
_____________________ ERROR collecting test_error_diff.py ______________________
ImportError while importing test module '/tmp/pytest-of-root/pytest-0/test_error_diff11/test_error_diff.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/local/lib/python3.10/dist-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
/usr/local/lib/python3.10/dist-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/usr/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1050: in _gcd_import
    ???
<frozen importlib._bootstrap>:1027: in _find_and_load
    ???
<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:688: in _load_unlocked
    ???
/usr/local/lib/python3.10/dist-packages/_pytest/assertion/rewrite.py:186: in exec_module
    exec(co, module.__dict__)
test_error_diff.py:1: in <module>
    import attr
E   ModuleNotFoundError: No module named 'attr'
=========================== short test summary info ============================
ERROR test_error_diff.py
!!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
=============================== 1 error in 0.18s ===============================
_______________ TestResolveCollectionArgument.test_pypath[False] _______________

self = <test_main.TestResolveCollectionArgument object at 0x7ff023ba7340>
namespace_package = False
invocation_path = PosixPath('/tmp/pytest-of-root/pytest-0/test_pypath0')

    @pytest.mark.parametrize("namespace_package", [False, True])
    def test_pypath(self, namespace_package: bool, invocation_path: Path) -> None:
        """Dotted name and parts."""
        if namespace_package:
            # Namespace package doesn't have to contain __init__py
            (invocation_path / "src/pkg/__init__.py").unlink()

        assert resolve_collection_argument(
            invocation_path, "pkg.test", as_pypath=True
        ) == CollectionArgument(
            path=invocation_path / "src/pkg/test.py",
            parts=[],
            module_name="pkg.test",
        )
        assert resolve_collection_argument(
            invocation_path, "pkg.test::foo::bar", as_pypath=True
        ) == CollectionArgument(
            path=invocation_path / "src/pkg/test.py",
            parts=["foo", "bar"],
            module_name="pkg.test",
        )
>       assert resolve_collection_argument(
            invocation_path,
            "pkg",
            as_pypath=True,
            consider_namespace_packages=namespace_package,
        ) == CollectionArgument(
            path=invocation_path / "src/pkg",
            parts=[],
            module_name="pkg",
        )
E       TypeError: resolve_collection_argument() got an unexpected keyword argument 'consider_namespace_packages'

/app/testing/test_main.py:193: TypeError
_______________ TestResolveCollectionArgument.test_pypath[True] ________________

self = <test_main.TestResolveCollectionArgument object at 0x7ff023ba5570>
namespace_package = True
invocation_path = PosixPath('/tmp/pytest-of-root/pytest-0/test_pypath1')

    @pytest.mark.parametrize("namespace_package", [False, True])
    def test_pypath(self, namespace_package: bool, invocation_path: Path) -> None:
        """Dotted name and parts."""
        if namespace_package:
            # Namespace package doesn't have to contain __init__py
            (invocation_path / "src/pkg/__init__.py").unlink()

        assert resolve_collection_argument(
            invocation_path, "pkg.test", as_pypath=True
        ) == CollectionArgument(
            path=invocation_path / "src/pkg/test.py",
            parts=[],
            module_name="pkg.test",
        )
        assert resolve_collection_argument(
            invocation_path, "pkg.test::foo::bar", as_pypath=True
        ) == CollectionArgument(
            path=invocation_path / "src/pkg/test.py",
            parts=["foo", "bar"],
            module_name="pkg.test",
        )
>       assert resolve_collection_argument(
            invocation_path,
            "pkg",
            as_pypath=True,
            consider_namespace_packages=namespace_package,
        ) == CollectionArgument(
            path=invocation_path / "src/pkg",
            parts=[],
            module_name="pkg",
        )
E       TypeError: resolve_collection_argument() got an unexpected keyword argument 'consider_namespace_packages'

/app/testing/test_main.py:193: TypeError
_____ TestTerminal.test_console_output_style_times_with_skipped_and_passed _____

self = <test_terminal.TestTerminal object at 0x7ff0238602b0>
pytester = <Pytester PosixPath('/tmp/pytest-of-root/pytest-0/test_console_output_style_times_with_skipped_and_passed0')>

    def test_console_output_style_times_with_skipped_and_passed(
        self, pytester: Pytester
    ) -> None:
        pytester.makepyfile(
            test_repro="""
                def test_hello():
                    pass
            """,
            test_repro_skip="""
                import pytest
                pytest.importorskip("fakepackage_does_not_exist")
            """,
        )
        result = pytester.runpytest(
            "test_repro.py",
            "test_repro_skip.py",
            "-o",
            "console_output_style=times",
        )

        result.stdout.fnmatch_lines("* 1 passed, 1 skipped in *")

        combined = "\n".join(result.stdout.lines + result.stderr.lines)
>       assert "INTERNALERROR" not in combined
E       assert 'INTERNALERROR' not in '===========...============'
E
E         'INTERNALERROR' is contained here:
E           epro.py .
E           INTERNALERROR> Traceback (most recent call last):
E         ? +++++++++++++
E           INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/main.py", line 289, in wrap_session
E           INTERNALERROR>     session.exitstatus = doit(config, session) or 0...
E
E         ...Full output truncated (33 lines hidden), use '-vv' to show

/app/testing/test_terminal.py:138: AssertionError
----------------------------- Captured stdout call -----------------------------
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0
rootdir: /tmp/pytest-of-root/pytest-0/test_console_output_style_times_with_skipped_and_passed0
collected 1 item / 1 skipped

test_repro.py .
INTERNALERROR> Traceback (most recent call last):
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/main.py", line 289, in wrap_session
INTERNALERROR>     session.exitstatus = doit(config, session) or 0
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/main.py", line 343, in _main
INTERNALERROR>     config.hook.pytest_runtestloop(session=session)
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_hooks.py", line 512, in __call__
INTERNALERROR>     return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_manager.py", line 120, in _hookexec
INTERNALERROR>     return self._inner_hookexec(hook_name, methods, kwargs, firstresult)
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_manager.py", line 475, in traced_hookexec
INTERNALERROR>     return outcome.get_result()
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_result.py", line 103, in get_result
INTERNALERROR>     raise exc.with_traceback(tb)
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_result.py", line 62, in from_call
INTERNALERROR>     result = func()
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_manager.py", line 472, in <lambda>
INTERNALERROR>     lambda: oldcall(hook_name, hook_impls, caller_kwargs, firstresult)
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_callers.py", line 167, in _multicall
INTERNALERROR>     raise exception
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_callers.py", line 139, in _multicall
INTERNALERROR>     teardown.throw(exception)
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/logging.py", line 801, in pytest_runtestloop
INTERNALERROR>     return (yield)  # Run all the tests.
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/pluggy/_callers.py", line 152, in _multicall
INTERNALERROR>     teardown.send(result)
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/terminal.py", line 696, in pytest_runtestloop
INTERNALERROR>     self._write_progress_information_filling_space()
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/terminal.py", line 761, in _write_progress_information_filling_space
INTERNALERROR>     msg = self._get_progress_information_message()
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/terminal.py", line 737, in _get_progress_information_message
INTERNALERROR>     return format_node_duration(sum(r.duration for r in not_reported))
INTERNALERROR>   File "/usr/local/lib/python3.10/dist-packages/_pytest/terminal.py", line 737, in <genexpr>
INTERNALERROR>     return format_node_duration(sum(r.duration for r in not_reported))
INTERNALERROR> AttributeError: 'CollectReport' object has no attribute 'duration'. Did you mean: 'location'?

========================= 1 passed, 1 skipped in 0.01s =========================
_______________ test_pytester_subprocess_with_non_string_plugins _______________

pytester = <Pytester PosixPath('/tmp/pytest-of-root/pytest-0/test_pytester_subprocess_with_non_string_plugins0')>

    def test_pytester_subprocess_with_non_string_plugins(pytester: Pytester) -> None:
        """Test that pytester.runpytest_subprocess fails with a proper error given
        non-string `.plugins`."""

        class MyPlugin:
            pass

        pytester.plugins = [MyPlugin()]

>       with pytest.raises(ValueError, match="plugins as objects is not supported"):
E       Failed: DID NOT RAISE <class 'ValueError'>

/app/testing/test_pytester.py:857: Failed
----------------------------- Captured stdout call -----------------------------
running: /usr/bin/python3 -mpytest --basetemp=/tmp/pytest-of-root/pytest-0/test_pytester_subprocess_with_non_string_plugins0/runpytest-0
     in: /tmp/pytest-of-root/pytest-0/test_pytester_subprocess_with_non_string_plugins0
============================= test session starts ==============================
platform linux -- Python 3.10.12, pytest-8.4.1, pluggy-1.6.0
rootdir: /tmp/pytest-of-root/pytest-0/test_pytester_subprocess_with_non_string_plugins0
collected 0 items

============================ no tests ran in 0.01s =============================
=================================== XPASSES ====================================
=========================== short test summary info ============================
FAILED testing/test_collection.py::test_namespace_packages[prepend] - Failed:...
FAILED testing/test_collection.py::test_namespace_packages[importlib] - Faile...
FAILED testing/test_collection.py::test_namespace_packages[append] - Failed: ...
FAILED testing/test_error_diffs.py::test_error_diff[Compare attrs classes] - ...
FAILED testing/test_main.py::TestResolveCollectionArgument::test_pypath[False]
FAILED testing/test_main.py::TestResolveCollectionArgument::test_pypath[True]
FAILED testing/test_terminal.py::TestTerminal::test_console_output_style_times_with_skipped_and_passed
FAILED testing/test_pytester.py::test_pytester_subprocess_with_non_string_plugins
ERROR testing/python/metafunc.py
ERROR testing/test_assertion.py
ERROR testing/test_junitxml.py
XPASS testing/_py/test_local.py::TestLocalPath::test_make_numbered_dir_multiprocess_safe - #11603
= 8 failed, 3368 passed, 128 skipped, 11 xfailed, 1 xpassed, 3 errors in 244.61s (0:04:04) =
